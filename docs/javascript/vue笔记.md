# 

# 1ã€Vueæ ¸å¿ƒ

## 1.1ã€Vueç®€ä»‹

### 1.1.1ã€Vueå®˜ç½‘

ä¸­æ–‡ï¼šhttps://cn.vuejs.org/

è‹±æ–‡ï¼š https://vuejs.org/

### 1.1.2ã€ä»‹ç»

åŠ¨æ€æ„å»ºç”¨æˆ·ç•Œé¢çš„æ¸è¿›å¼ JavaScript æ¡†æ¶

### 1.1.3ã€Vueç‰¹ç‚¹

+ éµå¾ª MVVM æ¨¡å¼
+ ç¼–ç ç®€æ´, ä½“ç§¯å°, è¿è¡Œæ•ˆç‡é«˜, é€‚åˆç§»åŠ¨/PC ç«¯å¼€å‘
+ å®ƒæœ¬èº«åªå…³æ³¨ UI, ä¹Ÿå¯ä»¥å¼•å…¥å…¶å®ƒç¬¬ä¸‰æ–¹åº“å¼€å‘é¡¹ç›®

### 1.1.4ã€ä¸å…¶ä»–JSæ¡†æ¶å…³è”

+ å€Ÿé‰´ Angular çš„æ¨¡æ¿å’Œæ•°æ®ç»‘å®šæŠ€æœ¯
+ å€Ÿé‰´ React çš„ç»„ä»¶åŒ–å’Œè™šæ‹Ÿ DOM æŠ€æœ¯

### 1.1.5ã€Vueå‘¨è¾¹åº“

+ vue-cli: vue è„šæ‰‹æ¶
+ vue-resource
+ axios
+ vue-router: è·¯ç”±
+ vuex: çŠ¶æ€ç®¡ç†
+ element-ui: åŸºäº vue çš„ UI ç»„ä»¶åº“(PC ç«¯

å®˜ç½‘æ”¶å½•çš„æ’ä»¶åº“ï¼š

+ [vuejs/awesome-vue: ğŸ‰ A curated list of awesome things related to Vue.js (github.com)](https://github.com/vuejs/awesome-vue)
+ [awesomejs.dev](https://awesomejs.dev/for/vue/)

## 1.2ã€Vueå®ä¾‹å’Œå®¹å™¨çš„å…³ç³»

Vueå®ä¾‹(`new Vue()`)å’Œå®¹å™¨(æŒ‚è½½ç‚¹`el`)å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼š

+ å¤šå¯¹ä¸€ï¼Œä¸è¡Œ
+ ä¸€å¯¹å¤šï¼Œä¸è¡Œ

## 1.3ã€*æ¨¡ç‰ˆ è¯­æ³•*

html ä¸­åŒ…å«äº†ä¸€äº› JS è¯­æ³•ä»£ç ï¼Œè¯­æ³•åˆ†ä¸ºä¸¤ç§ï¼Œåˆ†åˆ«ä¸ºï¼š

+ æ’å€¼è¯­æ³•ï¼ˆåŒå¤§æ‹¬å·è¡¨è¾¾å¼{{}}ï¼‰
+ æŒ‡ä»¤è¯­æ³•ï¼ˆä»¥ v-å¼€å¤´ï¼‰

### 1.3.1ã€æ’å€¼è¯­æ³•

+ åŠŸèƒ½: ç”¨äºè§£ææ ‡ç­¾ä½“å†…å®¹

+ è¯­æ³•: {{xxx}} ï¼Œ***xxxx ä¼šä½œä¸º js è¡¨è¾¾å¼è§£æï¼Œxxxä¸ºè¡¨è¾¾å¼***

  > xxxå…¶å®å°±æ˜¯vueå®ä¾‹çš„å±æ€§ï¼Œæ‰€ä»¥xxxå¯ä»¥ä¸ºvueå®ä¾‹ä¸­çš„ä»»ä½•å±æ€§ï¼š
  >
  > ![](./_media/image-20230404112840006.png)

### 1.3.2ã€æŒ‡ä»¤è¯­æ³•

+ åŠŸèƒ½ï¼š*** è§£ææ ‡ç­¾å±æ€§ã€è§£ææ ‡ç­¾ä½“å†…å®¹ã€ç»‘å®šäº‹ä»¶***
+ ä¸¾ä¾‹ï¼šv-bind:href = 'xxxx' ï¼Œ***xxxx ä¼šä½œä¸º js è¡¨è¾¾å¼è¢«è§£æ***
+ è¯´æ˜ï¼šVue ä¸­æœ‰æœ‰å¾ˆå¤šçš„æŒ‡ä»¤ï¼Œæ­¤å¤„åªæ˜¯ç”¨ v-bind ä¸¾ä¸ªä¾‹å­

## 1.4ã€æ•°æ®ç»‘å®š

### 1.4.1ã€å•å‘æ•°æ®ç»‘å®š

å³vueä¸­å®šä¹‰çš„å˜é‡å€¼å˜åŒ–å¯ä»¥åº”ç”¨åˆ°domé¡µé¢å…ƒç´ ä¸­ï¼Œä½†æ˜¯**domé¡µé¢å…ƒç´ ä¸­å€¼çš„å˜åŒ–ä¸ä¼šå½±å“åˆ°vueä¸­çš„å˜é‡å€¼**

+ è¯­æ³•ï¼š`v-bind:xxx='***'`æˆ–è€…ç®€å†™ä¸º`:xxx='***'`

  > å…¶ä¸­xxxè¡¨ç¤ºæ ‡ç­¾å±æ€§ï¼Œ***ä¸ºè¡¨è¾¾å¼

+ ç‰¹ç‚¹ï¼š**æŒ‡å®šä»vueä¸­çš„dataæµå‘é¡µé¢**

### 1.4.2ã€åŒå‘æ•°æ®ç»‘å®š

å³vueä¸­å®šä¹‰çš„å˜é‡å€¼å˜åŒ–å¯ä»¥åº”ç”¨åˆ°domé¡µé¢å…ƒç´ ä¸­ï¼Œ**domé¡µé¢å…ƒç´ ä¸­å€¼çš„å˜åŒ–ä¹Ÿä¼šå½±å“åˆ°vueä¸­çš„å˜é‡å€¼**

+ è¯­æ³•ï¼š`v-model:value='xxx'`æˆ–è€…ç®€å†™ä¸º`v-model='xxx'`

  > æ³¨æ„ï¼š
  >
  > 1. xxxä¸ºå˜é‡ï¼Œä¸èƒ½å†™è¡¨è¾¾å¼
  > 2. `v-model:value`åªé€‚ç”¨äºè¡¨å•ç±»æ ‡ç­¾ï¼Œæœ‰valueå±æ€§çš„ï¼Œèƒ½è®©ç”¨æˆ·è¾“å…¥çš„

+ ç‰¹ç‚¹ï¼š**æ•°æ®ä¸ä»…å¯ä»¥ä»vueä¸­dataæµå‘é¡µé¢ï¼Œå½“é¡µé¢æ•°æ®å‘ç”Ÿå˜åŒ–ä¹Ÿä¼šåº”ç”¨åˆ°vueä¸­çš„data**

## 1.5ã€elä¸dataçš„ä¸¤ç§å†™æ³•

### 1.5.1 el

#### 1.5.1.1 ç¬¬ä¸€ç§å†™æ³•

```html
 <script type="text/javascript">
        const app = new Vue({
            el: '#root', //æŒ‚è½½ç‚¹åœ¨å†…éƒ¨
            data: {name:'yaord'}   
        });
    </script>
```

#### 1.5.1.2 ç¬¬äºŒä¸­å†™æ³•

åŸç†å°±æ˜¯å€ŸåŠ©åº•å±‚æ–¹æ³•ï¼Œæ¨èï¼š

```html
<script type="text/javascript">
    const app = new Vue({
        //el: '#root', 
        data: {name:'yaord'}   
    });

    //å¯ä»¥ä½¿ç”¨å‡½æ•°ç©èŠ±æ´»,2ç§’åæ‰ä¼šå˜åŒ–
    setTimeout(()=>{
        app.$mount('#root');
    },2000);
</script>
```

![](./_media/vueå®ä¾‹ç»“æ„.png)

### 1.5.2 data

#### 1.5.2.1 ç¬¬ä¸€ç§å†™æ³•

```html
 <script type="text/javascript">
        const app = new Vue({
            el: '#root', //æŒ‚è½½ç‚¹åœ¨å†…éƒ¨
            data: {name:'yaord'}   
        });
    </script>
```

#### 1.5.2.2 ç¬¬äºŒç§å†™æ³•

```html
<script type="text/javascript">
    const app = new Vue({
        data: function(){ 
            //è¿™é‡Œçš„thisæ˜¯appï¼Œå³vueå®ä¾‹
            return {
                name: "yaord"
            }
        }
    });
    setTimeout(()=>{
        app.$mount('#root');
    },2000);
</script>
```

> **æ³¨æ„ï¼š**
>
> 1. å¦‚æœdataåé¢çš„å‡½æ•°æ˜¯ç®­å¤´å‡½æ•°ï¼Œå³åŒ¿åå‡½æ•°ï¼Œå› ä¸º**ç®­å¤´å‡½æ•°æ²¡æœ‰thisæŒ‡å‘**ï¼Œæ‰€ä»¥å†…éƒ¨çš„thisä¼šæŒ‡å‘ä¸Šä¸€çº§ï¼Œåœ¨æµè§ˆå™¨ä¸­ä¸Šä¸€çº§å°±æ˜¯windowå¯¹è±¡
>
> 2. dataåé¢çš„å‡½æ•°å¯ä»¥ç®€å†™ä¸ºï¼š
>
>    ```javascript
>    data(){ 
>        //è¿™é‡Œçš„thisæ˜¯appï¼Œå³vueå®ä¾‹
>        return {
>            name: "yaord"
>        }
>    }
>    ```

## 1.6ã€MVVMæ¨¡å‹

+ Mï¼šæ¨¡å‹(Model) ï¼šå¯¹åº” data ä¸­çš„æ•°æ®
+ Vï¼šè§†å›¾(View) ï¼šæ¨¡æ¿
+ VMï¼šè§†å›¾æ¨¡å‹(ViewModel) ï¼š Vue å®ä¾‹å¯¹è±¡

![](./_media/\image-20230404110726629.png)

## 1.7 æ•°æ®ä»£ç†

### 1.7.1 Object.defineProperty

+ æ­£å¸¸å®šä¹‰å¯¹è±¡ï¼š

â€‹		**è¿™æ ·å®šä¹‰å¯¹è±¡ï¼Œé‡Œé¢çš„å±æ€§å¯ä»¥æ­£å¸¸*éå†*ï¼Œ*ä¿®æ”¹*ï¼Œ*åˆ é™¤***

```javascript
let person = {
    name: "yaord",
    sex: "male",
    age: 18
}
```

â€‹		æ§åˆ¶å°æŸ¥çœ‹ï¼š

![](./_media/\image-20230404132543008.png)

+ é€šè¿‡Object.definePropertyå®šä¹‰å±æ€§

  ```javascript
  let person = {
      name: "yaord",
      sex: "male",
      //age: 18
  }
  
  /**
   * param1:éœ€è¦ä¿®æ”¹çš„å¯¹è±¡
   * param2:è¦æ·»åŠ çš„å±æ€§å
   * param3:å±æ€§çš„é…ç½®ä¿¡æ¯
   * 
   **/
  Object.defineProperty(person,'age',{
      value:18, //è®¾ç½®æ–°å±æ€§çš„å€¼
      enumerable:true,//è®¾ç½®æ–°å±æ€§æ˜¯å¦å¯ä»¥è¿›è¡Œæšä¸¾ï¼Œé»˜è®¤falseï¼Œå³é€šè¿‡inæ–¹æ³•æ— æ³•éå†åˆ°æ­¤å±æ€§
      writable:true,//è®¾ç½®æ–°å±æ€§æ˜¯å¦å¯ä»¥è¿›è¡Œä¿®æ”¹å€¼ï¼Œé»˜è®¤falseï¼Œæ— æ³•äºŒæ¬¡ä¿®æ”¹
      configurable:true//è®¾ç½®æ–°å±æ€§æ˜¯å¦å¯ä»¥åˆ é™¤ï¼Œé»˜è®¤æ˜¯falseï¼Œæ— æ³•å°†å…¶åˆ é™¤
      ...//å½“ç„¶è¿˜æœ‰å¾ˆå¤šï¼Œ
  })
  ```

  ![](./_media/\image-20230404133633120.png)

### 1.7.2 å±æ€§å®šä¹‰æ–¹æ³•ï¼ˆgetterå’Œsetteræ–¹æ³•ï¼‰

```javascript
let number = 18;
let person = {
    name: "yaord",
    sex: "male",
    //age=number å¦‚æœç›´æ¥è¿™æ ·èµ‹å€¼ï¼Œåˆ™numberæ›´æ”¹äº†ï¼Œageä¸ä¼šï¼Œå› ä¸ºè¿™ä¸æ˜¯å¼•ç”¨ç±»å‹
}

Object.defineProperty(person,'age',{
    //å½“æœ‰äººç»™personçš„ageå±æ€§èµ‹å€¼ï¼Œå°±ä¼šè°ƒç”¨è¯¥æ–¹æ³•
    set(value){
        console.log("æ­£åœ¨è¿›è¡Œèµ‹å€¼æ“ä½œï¼");
        number = value;
    },
    //å½“æœ‰äººè®¿é—®åˆ°personçš„ageå±æ€§ï¼Œå°±ä¼šè°ƒç”¨è¯¥æ–¹æ³•
    get(){
        console.log("æ­£åœ¨è¿›è¡Œè¯»å–æ“ä½œï¼");
        return number;
    }
})
```

**è°ƒç”¨ï¼š**

![](./_media/\image-20230404135243259.png)

### 1.7.3 æ•°æ®ä»£ç†**

***é€šè¿‡ä¸€ä¸ªå¯¹è±¡ä»£ç†å¯¹å¦ä¸€ä¸ªå¯¹è±¡ä¸­å±æ€§è¿›è¡Œè¯»å†™çš„æ“ä½œ***

```javascript
let obj_1 = {x:100};
let obj_2 = {y:200};

//æƒ³è¦é€šè¿‡obj_2æ“ä½œobj_1ä¸­çš„xå±æ€§
Object.defineProperty(obj_2,'x',{
	get(){
		return obj_1.x;
	},
	set(value){
		obj_1.x = value;
	}
})
```

![](./_media/\image-20230404140023902.png)

### 1.7.4 vueä¸­æ•°æ®ä»£ç†

![](./_media/\image-20230404142008565.png)

## 1.8 *äº‹ä»¶å¤„ç†***

### 1.8.1 ç»‘å®šç›‘å¬

å¯ä»¥ä½¿ç”¨`v-on:xxx="å‡½æ•°"`æˆ–`@xxx="å‡½æ•°"`æ¥å®ç°äº‹ä»¶ç›‘å¬ç»‘å®šï¼Œå…¶ä¸­xxxä¸ºäº‹ä»¶ç›‘å¬å¦‚clickç­‰ã€‚

***`v-on:`æ”¯æŒåŸæœ‰jsæ‰€æœ‰çš„äº‹ä»¶ï¼Œå¦‚`click,input,mouseover,mouseleave,...`***

+ é»˜è®¤äº‹ä»¶å½¢å‚: event
+  éšå«å±æ€§å¯¹è±¡: $event

```html
<body> 
    <div id="root">
       <button v-on:click="func1">ç‚¹æˆ‘</button>
       <!-- ç®€åŒ–å†™æ³•ï¼Œå¦‚æœä¼ é€’å‚æ•°ä¸å†™$eventä¼šå¯¼è‡´eventä¸¢å¤±-->
       <button @click="func2(66,$event)">ç‚¹æˆ‘2</button>
    </div>

    <script type="text/javascript">
        //func(){}//å†™åœ¨è¿™é‡Œä¸è¡Œï¼Œå› ä¸ºåªèƒ½æ¥å—vueä¸­çš„å‡½æ•°
        const vm = new Vue({
            el: '#root', 
            data: { 
                World: new Date().toLocaleDateString()
                //func(){}//å¯ä»¥å†™åœ¨è¿™é‡Œï¼Œä½†æ˜¯ä¼šå¯¹å…¶è¿›è¡Œæ•°æ®ä»£ç†æ“ä½œï¼Œæµªè´¹æ€§èƒ½
            },
            methods:{
                func1(event){ //é»˜è®¤ä¼ é€’ä¸€ä¸ªeventå‚æ•°
                    console.log(event);
                    alert("hello 1");
                },
                func2(num,event){ //é»˜è®¤ä¼ é€’ä¸€ä¸ªeventå‚æ•°
                    console.log(num);//ç¬¬ä¸€ä¸ªå‚æ•°66
                    console.log(event); //ç¬¬äºŒä¸ªå‚æ•°event
                    alert("hello 2");
                },
            }         
        });
    </script>  
</body>
```

### 1.8.2 äº‹ä»¶ä¿®é¥°ç¬¦

äº‹ä»¶ï¼Œå³jsåŸç”Ÿäº‹ä»¶å¦‚ï¼šclickï¼Œmouseoverï¼Œscrollç­‰ç­‰ã€‚

ä¿®é¥°ç¬¦å°±ä»£è¡¨æ€ä¹ˆå¤„ç†äº‹ä»¶çš„é»˜è®¤æ“ä½œï¼Œå¦‚aæ ‡ç­¾ï¼Œé»˜è®¤ç‚¹ä¸€ä¸‹ä¼šè°ƒè½¬ç½‘é¡µï¼Œå¦‚æœæˆ‘ä¸æƒ³è·³è½¬å°±éœ€è¦ç”¨åˆ°`*event*.preventDefault();`ï¼Œè€Œåœ¨vueä¸­é€šè¿‡ä¿®é¥°ç¬¦`prevent`æ¥å®ç°ã€‚

***Vueä¸­çš„äº‹ä»¶ä¿®é¥°ç¬¦ï¼ˆå¿…é¡»åœ¨æŒ‚è½½ç‚¹èŒƒå›´å†…ï¼‰ï¼š***

***å¯ä»¥è¿ç€å†™`@click.prevent.stop=''`***

+ `pervent`ï¼šé˜»æ­¢äº‹ä»¶çš„é»˜è®¤è¡Œä¸ºï¼ˆå¸¸ç”¨ï¼‰

  ```html
  <!-- æ‰§è¡Œfuncå‡½æ•°åä¸ä¼šè·³è½¬ç½‘å€--> 
  <a href="baidu.com" @click.prevent="func">å‹é“¾</a>
  ```

+ `stop`ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆå¸¸ç”¨ï¼‰

  + **äº‹ä»¶æ•è·æ˜¯ä»å¤–åˆ°å†…**
  + **äº‹ä»¶å†’æ³¡æ˜¯ç”±å†…åˆ°å¤–**

  å¦‚çˆ¶äº‹ä»¶å’Œå­äº‹ä»¶åŒæ—¶ç›‘å¬clickæ“ä½œï¼Œå½“ç‚¹å‡»å­äº‹ä»¶æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œå­äº‹ä»¶çš„å›è°ƒå‡½æ•°ï¼Œç„¶åå†å‘ä¸Šå†’æ³¡ç»™çˆ¶äº‹ä»¶ï¼Œçˆ¶äº‹ä»¶å†è°ƒç”¨å›è°ƒå‡½æ•°

  ```html
  <div class="c1" @click="f1('c1')">
      1 <br>
      <!-- å¦‚æœä¸é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œclickäº‹ä»¶ä¼šé€æ¬¡ä¸Šä¼ -->
      <button @click.stop="f1('c2')">2</button>
  </div>
  ```

+ `once`ï¼šäº‹ä»¶åªè§¦å‘ä¸€æ¬¡ï¼ˆå¸¸ç”¨ï¼‰

  ```html
  <button @click.once="f1(1)">åªæœ‰ç¬¬ä¸€æ¬¡ä¼šç”Ÿæ•ˆ</button>
  ```

+ `capture`ï¼šä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼

  + **äº‹ä»¶æ•è·æ˜¯ä»å¤–åˆ°å†…**
  + **äº‹ä»¶å†’æ³¡æ˜¯ç”±å†…åˆ°å¤–**

  ```html
  <!-- å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼ŒåŠ ä¸Šcaptureä¼šå…ˆè§¦å‘divçš„click-->
  <div class="c1" @click.capture="f1('c1')">
      1 <br>
      <button @click.stop="f1('c2')">2</button><!-- æ­¤æ—¶å¯ä»¥ä¸åŠ stopï¼Œå› ä¸ºäº‹ä»¶åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä¸”å·²ç»æ‰§è¡Œ-->
  </div>
  ```

+ `self`ï¼šåªæœ‰`event.target`æ˜¯å½“å‰æ“ä½œçš„å…ƒç´ æ—¶æ‰è§¦å‘äº‹ä»¶

  ```html
  <!-- æ­¤æ—¶ç‚¹å‡»æŒ‰é’®ï¼Œè¿™å°±æ˜¯è§¦å‘buttonçš„clickäº‹ä»¶ï¼Œdivçš„clickä¸ä¼šè§¦å‘
  è¿™æ˜¯å› ä¸º ç‚¹äº†button  event.targetæ˜¯ buttonå…ƒç´ ï¼Œç”±å†…å‘å¤–å†’æ³¡åè¿˜æ˜¯buttonå…ƒç´ 
  ä¸ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå†’æ³¡åˆ°divæ¯”è¾ƒclickäº‹ä»¶ä¸æ˜¯selfè‡ªèº«ï¼Œæ‰€ä»¥ä¸ä¼šè§¦å‘
  -->
  
  <div class="c1" @click.self="f1('c3')">
      3 <br>
      <button @click="f1('c4')">4</button>
  </div>
  ```

+ `passive`ï¼šäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºç«‹å³æ‰§è¡Œï¼Œæ— éœ€ç­‰å¾…äº‹ä»¶å›è°ƒå‡½æ•°æ‰§è¡Œå®Œæ¯•

  ```html
  <!-- åŠ ä¸Špassiveå¯ç«‹åˆ»å‘ä¸‹æ»šåŠ¨ä¸€æ¬¡ï¼Œæ— éœ€ç­‰åˆ°onScrollæ‰§è¡Œå®Œ-->
  <div @scroll.passive="onScroll">...</div>
  ```

### 1.8.3 æŒ‰é”®ä¿®é¥°ç¬¦

å°±æ˜¯å¯¹æŒ‰é”®äº‹ä»¶èµ·çš„åˆ«åï¼Œä¸€èˆ¬ç”¨keyupäº‹ä»¶

#### 1.8.3.1 vueä¸­å®šä¹‰çš„é”®

+ `enter`ï¼šæŒ‰ä¸‹å›è½¦
+ `delete`ï¼šæŒ‰ä¸‹åˆ é™¤å’Œé€€æ ¼é”®
+ `esc`ï¼šæŒ‰ä¸‹esc
+ `space`ï¼šæŒ‰ä¸‹ç©ºæ ¼é”®
+ `tab`ï¼šæŒ‰ä¸‹tabï¼Œå¿…é¡»é…åˆkeydownäº‹ä»¶ï¼ˆå› ä¸ºtabæœ¬æ¥æœ‰åˆ‡æ¢ç„¦ç‚¹çš„åŠŸèƒ½ï¼‰
+ `up`ï¼šæŒ‰ä¸Šæ–¹å‘é”®
+ `down`ï¼šæŒ‰ä¸‹æ–¹å‘é”®
+ `left`ï¼šæŒ‰å·¦æ–¹å‘é”®
+ `right`ï¼šæŒ‰å³æ–¹å‘é”®

#### 1.8.3.2 vueä¸­æœªå®šä¹‰çš„é”®

å¯¹äºå…¶ä»–æ²¡æœ‰å®šä¹‰çš„é”®ï¼Œå¯ä»¥ä½¿ç”¨`event.key`å’Œ`event.keycode`æ¥æŸ¥çœ‹é”®ç›˜æŒ‰é”®çš„åå­—åŠå…¶å¯¹åº”çš„æ•°å­—ï¼Œ

å½“ç„¶ä¹Ÿå¯ç™¾åº¦æŸ¥çœ‹é”®ç è¡¨æŸ¥çœ‹

#### 1.8.3.3 ç³»ç»Ÿä¿®é¥°é”®

***å¯ä»¥è¿ç€å†™`@keyup.ctrl.y=''`,åªæœ‰ctr+yæ‰ä¼šç”Ÿæ•ˆ***

ä»¥ä¸‹ç³»ç»Ÿä¿®é¥°é”®çš„ä½¿ç”¨é€»è¾‘ï¼š

> 1. é…åˆkeydownä½¿ç”¨ï¼Œæ­£å¸¸è§¦å‘
> 2. é…åˆkeyupä½¿ç”¨ï¼ŒæŒ‰ä¸‹ä¿®é¥°é”®çš„åŒæ—¶ï¼Œå†æŒ‰åˆ«çš„é”®ï¼Œå†æ¾å¼€åˆ«çš„é”®ï¼Œäº‹ä»¶æ‰ä¼šè§¦å‘

+ `ctrl`
+ `alt`
+ `shift`
+ `win`æˆ–`meta`

#### 1.8.3.4 è‡ªå®šä¹‰æŒ‰é”®åˆ«å

```javascript
Vue.config.keyCodes.huiche=13;//å®šä¹‰ä¸€ä¸ªå›è½¦
```

## 1.9 è®¡ç®—å±æ€§ - computed

å¯¹vueä¸­dataå±æ€§è®¡ç®—è€Œæ¥ï¼Œç§°ä¹‹ä¸ºè®¡ç®—å±æ€§ï¼Œæ”¾åœ¨computedå±æ€§ä¸­ï¼š

***è®¡ç®—å±æ€§ä¸­getæ–¹æ³•è°ƒç”¨æ—¶æœºï¼š***

+ ç¬¬ä¸€æ¬¡è¯»å–è®¡ç®—å±æ€§æ—¶ï¼Œç„¶åä¼šæŠŠè¯¥å±æ€§**ä¿å­˜åœ¨ç¼“å­˜ä¸­ï¼ˆä¸‹é¢å†æ¬¡è°ƒç”¨ä¼šä»ç¼“å­˜ä¸­å–ï¼Œè€Œä¸ä¼šå†æ¬¡è°ƒç”¨getæ–¹æ³•ï¼‰**
+ å½“è®¡ç®—å±æ€§æ‰€ä¾èµ–çš„æ•°æ®å¦‚firstå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¹Ÿä¼šè°ƒç”¨getæ–¹æ³•

```html
<body> 
    <div id="root">
        å§“ï¼š<input type="text" v-model="first"> <br>
        åï¼š<input type="text" v-model="last"> <br>
        å…¨åï¼š{{fullName}} <br>
        å…¨åï¼š{{fullName}}<!--ä»ç¼“å­˜ä¸­å–-->
    </div>

    <script type="text/javascript">
        const vm = new Vue({
            el: '#root', 
            data: { 
               first:'',
               last:''
            },
            /**
             * è®¡ç®—å±æ€§è°ƒç”¨æ—¶æœºï¼š
             *   1.ç¬¬ä¸€æ¬¡è¯»å–è®¡ç®—å±æ€§æ—¶ï¼Œç„¶åä¼šæŠŠè¯¥å±æ€§ä¿å­˜åœ¨ç¼“å­˜ä¸­
             *   2.å½“è®¡ç®—å±æ€§æ‰€ä¾èµ–çš„æ•°æ®å¦‚firstå‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¹Ÿä¼šè°ƒç”¨
             * */
            //è®¡ç®—å±æ€§
            computed:{
                //å±æ€§åï¼Œä¹Ÿä¼šæŒ‚è½½åˆ°vmä¸Šï¼Œå’Œdataä¸­å±æ€§æ•°æ®ä¸€æ ·
                fullName:{
                    //æ­¤å¤„ä¹Ÿæ˜¯ç”¨ æ•°æ®ä»£ç†
                    get(){
                        //æ­¤å¤„çš„thisä¸ºvm
                        console.log(this);
                        return this.first + ' - ' + this.last;    
                    },
                    
                    /**
                     * setè°ƒç”¨æ—¶æœºï¼š
                     *    ä¿®æ”¹fullNamçš„å€¼çš„æ—¶å€™
                     * @params value fullNameä¿®æ”¹åçš„å€¼
                     * */
                    set(value){
                        //æ­¤å¤„çš„thisä¸ºvm
                        console.log(this);
                        this.first = value.split('-')[0].trim();
                        this.last = value.split('-')[1].trim();
                    }
                }
            }
        });

    </script>
    
</body>
```

***ä¼˜ç‚¹ï¼š*** ä¸methodså®ç°ç›¸æ¯”ï¼Œè®¡ç®—å±æ€§å†…éƒ¨æœ‰ç¼“å­˜æœºåˆ¶ï¼ˆå¤ç”¨ï¼‰ï¼Œæ•ˆç‡æ›´é«˜ï¼Œè°ƒè¯•æ–¹ä¾¿

> ***å¤‡æ³¨ï¼š***
>
> + è®¡ç®—å±æ€§æœ€ç»ˆä¼šå‡ºç°åœ¨vmä¸Šï¼Œç›´æ¥è¯»å–ä½¿ç”¨å³å¯
> + å¦‚æœè®¡ç®—å±æ€§è¦è¢«ä¿®æ”¹ï¼Œé‚£å¿…é¡»è¦å†™setå‡½æ•°å»å“åº”ä¿®æ”¹ï¼Œä¸”setä¸­è¦ä¿®æ”¹è®¡ç®—æ—¶ä¾èµ–çš„dataæ•°æ®

### 1.9.1 è®¡ç®—å±æ€§ç®€å†™

å½“ç¡®å®šè®¡ç®—å±æ€§åªè¯»å–ï¼Œä¸ä¿®æ”¹æ—¶ï¼Œå³åªæœ‰getå‡½æ•°æ²¡æœ‰setå‡½æ•°ï¼Œå¯ä»¥ç®€å†™ä¸ºï¼š

```html
<script type="text/javascript">
    const vm = new Vue({
        el: '#root', 
        data: { 
            first:'',
            last:''
        },
        computed:{
            //å¯¹è±¡ä¸­æ–¹æ³•çš„ç®€å†™å½¢å¼ï¼ˆæ³¨æ„æ˜¯å‡½æ•°çš„è¿”å›å€¼ï¼‰
            fullName(){
                console.log(this);
                return this.first + ' - ' + this.last;    
            }
        }
    });
</script>
```

## 1.10 ç›‘è§†å±æ€§ - watch

ç”¨äºç›‘è§†vueä¸­å±æ€§åŠè®¡ç®—å±æ€§å‘ç”Ÿçš„å˜åŒ–ï¼Œ**å±æ€§å¿…é¡»å­˜åœ¨**ã€‚

### 1.10.1 watchæ™®é€šå†™æ³•

```html
<body> 
    <div id="root">
        å½“å‰å¤©æ°”ï¼š{{info}} <br>
        <button @click="isHot = !isHot">ç‚¹æˆ‘åˆ‡æ¢</button>
    </div>
    <script type="text/javascript">
        const vm = new Vue({
            el: '#root', 
            data: { 
               isHot: true
            },
            computed:{
                info(){
                    return this.isHot?"ç‚çƒ­":"å‡‰çˆ½";
                }
            },
            //å±æ€§ç›‘è§†
            watch:{
                isHot: {
                    //ç«‹å³ç›‘è§†ï¼Œå³åˆå§‹åŒ–æ—¶å°±è°ƒç”¨handleræ–¹æ³•
                	immediate:true,
                    //ç”¨äºç›‘è§†å±æ€§å’Œè®¡ç®—å±æ€§
                    handler(newValue,oldValue){
                        console.log('å‘ç”Ÿäº†å˜åŒ–ï¼Œ',newValue,oldValue);
                    }
                }
            }     
        });
    </script>
</body>
```

### 1.10.2 watchè¿›é˜¶å†™æ³•

```javascript
const vm = new Vue({
    el: '#root', 
    data: { 
        isHot: true
    },
    computed:{
        info(){
            return this.isHot?"ç‚çƒ­":"å‡‰çˆ½";
        }
    }
});
// console.log(vm.isHot);//true
/**
 * watchå‚æ•°
 * @params1 è¦ç›‘è§†çš„å±æ€§åï¼Œéœ€è¦å¸¦å¼•å·ï¼Œå¦åˆ™å°±æ˜¯å±æ€§çš„å€¼äº†
 * @params2 åŒ…å«hadleré…ç½®å±æ€§å¯¹è±¡
 **/	
//vm.$watch(vm.isHot,{ //è¿™æ ·æ˜¯å±æ€§çš„å€¼ï¼Œè€Œä¸æ˜¯å±æ€§çš„å
vm.$watch('isHot',{
    immediate:true,
    handler(newValue,oldValue){
        console.log("isHotå‘ç”Ÿäº†å˜åŒ– ",newValue,oldValue);
    }
})
```



### 1.10.3 æ·±åº¦ç›‘è§† watch-deep

ç”¨äºç›‘è§†å¤šçº§ç»“æ„ä¸­çš„æ‰€æœ‰å±æ€§çš„å˜åŒ–ï¼ˆ**è€Œä¸æ˜¯å¯¹è±¡æœ¬èº«çš„å†…å­˜åœ°å€**ï¼‰

```html
<body> 
    <div id="root">
        å½“å‰å¤©æ°”ï¼š{{numbers.a}} <br>
        <button @click="numbers.a++">ç‚¹æˆ‘+1</button>
    </div>
    <script type="text/javascript">
        const vm = new Vue({
            el: '#root', 
            data: { 
               numbers:{
                a:1,
                b:1
               }
            }
        });
        vm.$watch('isHot',{
            ...
            }
        })
    </script>
</body>
```

+ **ç›‘è§†å¤šçº§ç»“æ„ä¸­çš„æŸä¸ªå±æ€§çš„å˜åŒ–**ï¼Œå¦‚ï¼šnumbersä¸­çš„a

  ```javascript
  vm.$watch('numbers.a',{//å¤šçº§ç»“æ„
      handler(newValue,oldValue){
      console.log("aå‘ç”Ÿäº†å˜åŒ– ",newValue,oldValue);
      }
  })
  ```

+ **ç›‘è§†å¤šçº§ç»“æ„ä¸­çš„æ‰€æœ‰å±æ€§çš„å˜åŒ–**ï¼Œå¦‚ï¼šnumbersä¸­çš„aå’Œbçš„å€¼å˜åŒ–

  ```javascript
  //å¦‚æœä¸åŠ deepå±æ€§ï¼Œç›‘æ§çš„æ˜¯numberså¯¹è±¡æœ¬èº«ï¼Œè€Œå…¶æœ¬èº«æ˜¯åœ°å€å¼•ç”¨ï¼Œå†…éƒ¨å€¼å˜åŒ–æ£€æµ‹ä¸åˆ°
  vm.$watch('numbers',{
      deep:true,//è¡¨ç¤ºç›‘æ§å¤šçº§ç»“æ„çš„å±æ€§ï¼Œè€Œä¸æ˜¯å¤šçº§ç»“æ„å¯¹è±¡æœ¬èº«
      handler(newValue,oldValue){
          console.log("numberså±æ€§å‘ç”Ÿäº†å˜åŒ– ",newValue,oldValue);
      }
  })
  ```

### 1.10.4 æ·±åº¦ç›‘è§†ç®€å†™å½¢å¼

ä¸ä½¿ç”¨watchçš„å…¶ä»–é…ç½®å±æ€§ï¼šå¦‚immediateã€deepå±æ€§æ—¶ï¼Œå¯ä»¥ç”¨ä¸€ä¸‹ç®€å†™ï¼Œå³handlerå¯ä»¥çœç•¥ï¼š

```javascript
//å®šä¹‰vueåŠ watch
const vm = new Vue({
    el: '#root', 
    data: { 
        isHot: true
    },
    computed:{
        info(){
            return this.isHot?"ç‚çƒ­":"å‡‰çˆ½";
        }
    },
    watch:{
        //ç›´æ¥çœç•¥äº†handlerï¼Œä»£ä»·æ— æ³•é…ç½®äº†
        isHot(newValue,oldValue){
            console.log(1,newValue,oldValue);
        }
    }
});


//$watchç®€å†™å½¢å¼ï¼Œå³çœç•¥äº†handler
vm.$watch('isHot',function(newValue,oldValue){

});
```

### 1.10.5 computedä¸watchçš„åŒºåˆ«

+ computedèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œwatchéƒ½èƒ½å®Œæˆ
+ watchèƒ½å®Œæˆçš„åŠŸèƒ½ï¼Œcomputedä¸ä¸€å®šèƒ½å®Œæˆï¼Œä¾‹å¦‚ï¼šwatchå¯ä»¥è¿›è¡Œå¼‚æ­¥æ“ä½œ

> 1. æ‰€æœ‰è¢«vueç®¡ç†çš„å‡½æ•°ï¼Œæœ€å¥½å†™æˆæ™®é€šå‡½æ•°ï¼Œè¿™æ ·thisæŒ‡å‘çš„æ‰æ˜¯vm æˆ– ç»„ä»¶å®ä¾‹å¯¹è±¡
> 2. æ‰€æœ‰ä¸è¢«Vueæ‰€ç®¡ç†çš„å‡½æ•°ï¼ˆå®šæ—¶å™¨çš„å›è°ƒå‡½æ•°ã€ajaxçš„å›è°ƒå‡½æ•°ã€Promiseçš„å›è°ƒå‡½æ•°ï¼‰ï¼Œæœ€å¥½å†™æˆå›è°ƒå‡½æ•°ï¼Œè¿™æ ·thisæŒ‡å‘æ‰æ˜¯vmæˆ–ç»„ä»¶å®ä¾‹å¯¹è±¡

## 1.11 classä¸styleç»‘å®š

åœ¨åº”ç”¨ç•Œé¢ä¸­, æŸä¸ª(äº›)å…ƒç´ çš„æ ·å¼æ˜¯å˜åŒ–çš„ï¼Œclass/style ç»‘å®šå°±æ˜¯ä¸“é—¨ç”¨æ¥å®ç°åŠ¨æ€æ ·å¼æ•ˆæœçš„æŠ€æœ¯

### 1.11.1 classç»‘å®š

+ **å­—ç¬¦ä¸²ç”¨æ³•ï¼Œ**é€‚ç”¨äº**æ ·å¼çš„ç±»åä¸ç¡®å®šï¼Œéœ€è¦åŠ¨æ€æŒ‡å®š**
+ **æ•°ç»„ç”¨æ³•ï¼Œ**é€‚ç”¨äº**è¦ç»‘å®šçš„æ ·å¼ä¸ªæ•°ä¸ç¡®å®šï¼Œåå­—ä¹Ÿä¸ç¡®å®š**
+ **å¯¹è±¡ç”¨æ³•ï¼Œ**é€‚ç”¨äº**è¦ç»‘å®šçš„æ ·å¼ç¡®å®šï¼Œä¸ªæ•°ç¡®å®šï¼Œåå­—ä¹Ÿç¡®å®šï¼Œä½†æ˜¯è¦åŠ¨æ€å†³å®šç”¨ä¸ç”¨**

```html
<body> 
    <div id="root">
        <!-- æ³¨æ„:classå…¶å®å°±æ˜¯ v-bind:classçš„ç¼©å†™
            :classé‡Œé¢åŠ å¼•å·çš„æ˜¯å­—ç¬¦ä¸²ï¼Œä¸åŠ å¼•å·çš„æ˜¯å˜é‡ï¼Œæ³¨æ„åŒºåˆ†
            -->
        <div class="demo" :class="'demo1'">
            stringå½¢å¼
        </div> <br>
        <!--  å¯ä»¥ç”¨æ•°ç»„ï¼Œä½¿ç”¨å¤šä¸ªæ ·å¼-->
        <div class="demo" :class="styleArr">
            arrå½¢å¼
        </div> <br>
        <!--  å¯ä»¥ç”¨å¯¹è±¡ï¼Œä½¿ç”¨å¤šä¸ªæ ·å¼-->
        <div class="demo" :class="styleObj">
            objectå½¢å¼
        </div> <br>
    </div>
    <script type="text/javascript">
        const vm = new Vue({
            el: '#root', 
            data: {
                //
                styleArr:['demo1','demo2'], 
                //å¯¹è±¡ç”¨æ³•
                styleObj:{
                    demo:false,
                    demo1:true,
                    demo2:true
                }
            }
        });
    </script>
    
</body>
```

### 1.11.2 styleç»‘å®š

å¸¸ç”¨çš„å°±æ˜¯objectå†™æ³•

```html
<body> 
    <div id="root">
        <!-- å°±æ˜¯v-bind-->
        <div class="demo" :style="styleObj">
            Styleç»‘å®šobjectå½¢å¼
        </div> <br>
    </div>
    <script type="text/javascript">
        const vm = new Vue({
            el: '#root', 
            data: {
                styleObj:{
                    //keyå¿…é¡»æ˜¯å®é™…å­˜åœ¨çš„
                    fontSize:40+'px',//å¯¹åº”styleåŸæœ¬çš„å±æ€§ font-size çš„é©¼å³°å†™æ³•
                    backgroundColor:'red'
                }
            }
        });
    </script>
</body>
</html>
```

## 1.12 æ¡ä»¶æ¸²æŸ“

### 1.12.1 æ¡ä»¶æ¸²æŸ“æŒ‡ä»¤

+ `v-show='xxx'`ï¼Œxxxä¸ºè¡¨è¾¾å¼ï¼Œè¿”å›ç»“æœtrueæˆ–falseå†³å®šå½“å‰å…ƒç´ æ˜¯å¦æ˜¾ç¤º

  ```html
  <!--åº•å±‚åŸç†å°±æ˜¯ style='display:none'-->
  <h1 v-show="1 === 2">ä½ å¥½</h1>
  ```

+ `v-if='xxx'`ï¼Œxxxä¸ºè¡¨è¾¾å¼ï¼Œè¿”å›ç»“æœtrueæˆ–falseå†³å®šå½“å‰å…ƒç´ æ˜¯å¦æ˜¾ç¤º

  ```html
  <!--domä¸­å°±æ²¡è¿™ä¸ªå…ƒç´ äº†ï¼Œå½»åº•åˆ é™¤ -->
  <h1 v-if="1 === 2">å†è§1</h1>
  <h1 v-else-if="1 === 2">å†è§2</h1>
  <!-- æ— è®ºv-elseçš„æ¡ä»¶æ˜¯true æˆ–falseéƒ½ä¼šæ˜¾ç¤º-->
  <h1 v-else>å†è§3</h1> 
  ```

  > ***æ³¨æ„ï¼š***ä½¿ç”¨`v-if`,`v-else-if`,`v-else`å¿…é¡»ç´§æŒ¨ç€
  >
  > ```html
  > <h1 v-if="1 === 2">å†è§1</h1>
  > <h1>@</h1> <!-- ä¸å…è®¸ï¼Œåé¢ä¸ä¼šæ˜¾ç¤ºï¼Œä¼šæŠ¥é”™-->
  > <h1 v-else-if="1 === 2">å†è§2</h1>
  > <h1 v-else>å†è§3</h1> 
  > ```

### 1.12.2 æ¯”è¾ƒv-ifå’Œv-show

+ `v-if`ä¼šå½»åº•åˆ é™¤domèŠ‚ç‚¹
+ `v-show`åªæ˜¯é€šè¿‡styleæ ·å¼æ§åˆ¶æ˜¯å¦æ˜¾ç¤ºï¼Œé¢‘ç¹æ”¹å˜ç”¨`v-show`

### 1.12.3 template

***templateå¿…é¡»é…åˆ`v-if`ä½¿ç”¨***

```html
<!-- æ§åˆ¶æ•´ä½“çš„æ˜¾ç¤ºï¼Œä½†æ˜¯æœ€ç»ˆä¼šåœ¨domä¸­å¤šä¸€å±‚divï¼Œä¼šå½±å“cssé€‰æ‹©å™¨çš„å±‚æ¬¡-->
<div v-show='1 ===2 '>
    <h1>å†è§1</h1>
	<h1>å†è§2</h1>
	<h1>å†è§3</h1>
</div>

<!-- vueä¸­ç‰¹æœ‰templateæ ‡ç­¾ï¼Œæ­é…v-ifè¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œæœ€ådomä¸­ä¸ä¼šæœ‰templateæ ‡ç­¾-ï¼Œæ‰€ä»¥ä¸ä¼šå½±å“å±‚æ¬¡-->
<template v-show='1 ===2 '>
    <h1>å†è§1</h1>
	<h1>å†è§2</h1>
	<h1>å†è§3</h1>
</template>
```

### 1.12.4 åŠ¨æ€æ·»åŠ å±æ€§

`:checked=true`è¡¨ç¤ºç»™æ ‡ç­¾åŠ ä¸Š`checked`å±æ€§

`:checked='todo.done'`è¡¨ç¤ºæ ¹æ®todo.doneçš„å€¼åŠ¨æ€ç»™æ ‡ç­¾åŠ ä¸Š`checked`å±æ€§

```html
  <div>
    <li>
      <label>
          <input type="checkbox" :checked='todo.done'/>
          <span>{{todo.title}}</span>
      </label>
      <button class="btn btn-danger" style="display:none">åˆ é™¤</button>
    </li>
    <!-- <input type="checkbox" /> test <button>åˆ é™¤</button> -->
  </div>
```



## 1.13 åˆ—è¡¨æ¸²æŸ“

### 1.13.1 `v-for`

`v-for`å¯ç”¨äº**æ•°ç»„ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ä»¥åŠçº¯æ•°å­—**

+ **æ•°ç»„**ï¼šç¬¬ä¸€ä¸ªå½¢å‚personå°±æ˜¯å€¼ï¼Œç¬¬äºŒä¸ªå½¢å‚indexå°±æ˜¯åºå·ã€ä¸‹æ ‡
+ **å¯¹è±¡**ï¼šç¬¬ä¸€ä¸ªå½¢å‚personå°±æ˜¯å€¼valueï¼Œç¬¬äºŒä¸ªå½¢å‚indexå°±æ˜¯key
+ **å­—ç¬¦ä¸²**ï¼šç¬¬ä¸€ä¸ªå½¢å‚personå°±æ˜¯å€¼ï¼Œç¬¬äºŒä¸ªå½¢å‚indexå°±æ˜¯ä¸‹æ ‡ã€åºå·
+ **çº¯æ•°å­—**ï¼šç¬¬ä¸€ä¸ªå½¢å‚personå°±æ˜¯æ•°å€¼ï¼ˆä»1å¼€å§‹ï¼‰ï¼Œç¬¬äºŒä¸ªå½¢å‚indexå°±æ˜¯ä¸‹æ ‡ã€åºå·ï¼ˆä»0å¼€å§‹ï¼‰

```html
<!-- 
	:keyè¡¨ç¤ºå½“å‰å¾ªç¯çš„å”¯ä¸€æ ‡å¿—ï¼Œä¸èƒ½é‡å¤ï¼Œå¯ä»¥ç”¨å¯¹è±¡personæœ¬èº«çš„idï¼Œä¹Ÿå¯ä»¥ç”¨åºå·indexï¼Œè‚¯å®šä¸ä¼šé‡å¤ï¼ˆå¿…é¡»åŠ ä¸Šï¼‰
	-->
<!-- item in items ç­‰åŒäº item of items-->
<li v-for="(person,index) in persons" :key="index">
	{{person.name}} --- {{person.age}}
</li>
```

> éå†çº¯æ•°å­—ï¼š
>
> ```html
> <li v-for="(number,index) in 5" :key="index">
> 	{{number}} --- {{index}}
> </li>
> ```
>
> ![](./_media/image-20230407100031441.png)

### 1.13.2 ==`v-for`ä¸­çš„key==

å®˜ç½‘ï¼šhttps://v2.cn.vuejs.org/v2/api/#key

é—®é¢˜ï¼šå¦‚åŸæ¥çš„é¡ºåºæ˜¯ï¼šå¼ ä¸‰ï¼Œæå››ï¼Œç‹äº”ï¼Œç°åœ¨è¦æŠŠèµµå…­æ”¾åœ¨æ•°ç»„ç¬¬ä¸€ä¸ªï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°é—®é¢˜

![](./_media/image-20230407104017532.png)

+ **å¦‚æœæ²¡æœ‰æŒ‡å®š`v-for`ä¸­çš„keyï¼Œvueé»˜è®¤ä¼šä½¿ç”¨åºå·index**
+ **å¦‚æœå‡ºç°ç ´ç¯åŸæœ‰é¡ºåºçš„æ•°æ®ï¼Œå¦‚æ·»åŠ ï¼Œåˆ é™¤ç­‰ï¼Œä½¿ç”¨indexä½œä¸ºkeyåˆ™ä¼šå¯¼è‡´è™šæ‹Ÿdomå¤ç”¨å¤±è´¥ï¼Œæ•°æ®ç»“æ„å‡ºç°é”™ä¹±**
+ **æ¨èä½¿ç”¨å”¯ä¸€æ ‡è¯†**

![](./_media/image-20230407102232057.png)

### 1.13.3 åˆ—è¡¨è¿‡æ»¤*

```html
<body> 
    <div id="root">
        <h2>äººå‘˜åˆ—è¡¨</h2>
        æ¨¡ç³Šæœç´¢ï¼š<input type="text" placeholder="è¯·è¾“å…¥äººå" v-model:value="filter">
        <ul>
            <!-- ä¹Ÿå¯ä»¥ç”¨watchå’Œcomputedå†™ -->
            <li v-for="(person,index) in persons" :key="person.id" v-show="person.name.indexOf(filter)>-1">
                {{person.name}} -- {{person.age}} -- {{person.sex}}
            </li>
        </ul>
    </div>
    <script type="text/javascript">
        const vm = new Vue({
            el: '#root', 
            data: {
                persons:[
                    {id:001,name:'é©¬å†¬æ¢…',age:18,sex:'å¥³'},
                    {id:002,name:'å‘¨å†¬é›¨',age:19,sex:'å¥³'},
                    {id:003,name:'å‘¨æ°ä¼¦',age:20,sex:'ç”·'},
                    {id:004,name:'æ¸©å…†ä¼¦',age:21,sex:'ç”·'}      
                ],
                filter:''
            }
        });
    </script>
</body>
```

### 1.13.4 åˆ—è¡¨æ’åº

```html
<body> 
    <div id="root">
        <h2>äººå‘˜åˆ—è¡¨</h2>
        æ¨¡ç³Šæœç´¢ï¼š<input type="text" placeholder="è¯·è¾“å…¥äººå" v-model="filter">
        <button @click="sortType=2">å¹´é¾„å‡åº</button>
        <button @click="sortType=1">å¹´é¾„é™åº</button>
        <button @click="sortType=0">åŸé¡ºåº</button>
        <ul>
            <!-- ä¹Ÿå¯ä»¥ç”¨watchå’Œcomputedå†™ -->
            <li v-for="(person,index) in filPersons" :key="person.id">
                {{person.name}} -- {{person.age}} -- {{person.sex}}
            </li>
        </ul>
    </div>
    <script type="text/javascript">
        const vm = new Vue({
            el: '#root', 
            data: {
                persons:[
                    {id:001,name:'é©¬å†¬æ¢…',age:19,sex:'å¥³'},
                    {id:002,name:'å‘¨å†¬é›¨',age:20,sex:'å¥³'},
                    {id:003,name:'å‘¨æ°ä¼¦',age:18,sex:'ç”·'},
                    {id:004,name:'æ¸©å…†ä¼¦',age:21,sex:'ç”·'}      
                ],
                filter:'',
                sortType:0//0ä»£è¡¨åŸé¡ºåºï¼Œ1ä»£è¡¨é™åºï¼Œ2ä»£è¡¨å‡åº
            },
            computed:{
                filPersons(){
                    let arr = this.persons.filter((item)=>{
                            return item.name.indexOf(this.filter) > -1;
                        });
                    if(this.sortType) {
                        arr=arr.sort((x,y)=>{
                            //è¿™æ ·å…¶å®æœ‰ä¸ªé—®é¢˜ï¼Œæ¯æ¬¡éƒ½ä¼šæ¯”è¾ƒ
                            return this.sortType===1?y.age - x.age:x.age - y.age;
                        });
                    }
                    return arr;
                }
            }
        });
    </script>
</body>
```

## 1.14 ==vueæ£€æµ‹åˆ°æ•°æ®å˜åŒ–çš„åŸç†==

+ åŠ å·¥dataï¼Œå¢åŠ å¯¹åº”å±æ€§çš„getå’Œsetæ–¹æ³•ï¼ˆå†…éƒ¨å¢åŠ å“åº”å¼ä»£ç ï¼Œç”¨äºåœ¨æ•°æ®æ”¹å˜æ—¶é‡æ–°ç”Ÿæˆdomï¼‰
+ è®©vm._data=data
+ é¡µé¢æ¸²æŸ“
+ dataæ•°æ®å˜åŒ–ï¼Œå°±ä¼šè°ƒç”¨å¯¹åº”å±æ€§çš„setteræ–¹æ³•ï¼Œç„¶åsetterå†…éƒ¨é‡æ–°è§£ææ¨¡ç‰ˆ
+ ç”Ÿæˆæ–°çš„è™šæ‹Ÿdom
+ è™šæ‹Ÿdomå’ŒçœŸå®domå¯¹æ¯”
+ ç”Ÿæˆé¡µé¢

![](./_media/image-20230407143134556.png)

### 1.14.1 vueä¸­æ£€æµ‹å¯¹è±¡å˜åŒ–åŸç†--å¯¹è±¡**

```html
<!-- 
	æ ¸å¿ƒæ˜¯é€šè¿‡åå‘ä»£ç†dataçš„setå‡½æ•°ä¸­æ£€æµ‹å¯¹è±¡æ•°æ®å˜åŒ–ï¼Œä¸‹é¢è¿›è¡Œæ¨¡æ‹Ÿ
-->

<script>
    let data = {
        name:"yaord",
        age:18
    }

    //åˆ›å»ºä¸€ä¸ªç›‘è§† çš„å®ä¾‹å¯¹è±¡ï¼Œç”¨äºç›‘è§†dataä¸­å±æ€§çš„å˜åŒ–ã€æ ¸å¿ƒ newã€‘
    const obj = new Observer(data);
    //console.log(obj);
    const vm = {};
    vm._data = data = obj;

    function Observer(obj){
        //æ±‡æ€»å¯¹è±¡ä¸­æ‰€æœ‰çš„å±æ€§å½¢æˆä¸€ä¸ªæ•°ç»„
        const keys = Object.keys(obj);
        //éå†
        keys.forEach((item)=>{
            //æ•°æ®ä»£ç†ï¼Œä»£ç†åœ¨å½“å‰çš„Observerå¯¹è±¡æœ¬èº«thisï¼Œå¦‚æœä»£ç†åœ¨dataå•†ä¼šé€ æˆæ— é™è°ƒç”¨ï¼Œå¯¼è‡´æ ˆæº¢å‡º
            //console.log(this);
            Object.defineProperty(this,item,{
                enumerable:true,
                configurable:true,
                get(){
                    return obj[item];
                },
                set(val){
                    console.log("æ•°æ®è¢«æ”¹å˜ï¼Œå‡†å¤‡è§£ææ¨¡ç‰ˆï¼Œç”Ÿæˆè™šæ‹Ÿdomã€‚ã€‚ã€‚ã€‚");
                    obj[item] = val;
                }
            })
        }); 
    }
</script>
```

> ä¸Šé¢åªæ˜¯ç®€å•çš„æ¨¡æ‹Ÿvueä¸­çš„æ£€æµ‹æ•°æ®å˜åŒ–ï¼Œä¸”åªèƒ½å¤„ç†ä¸€å±‚å¯¹è±¡ï¼Œå¯¹äº**æ•°ç»„ä¸­çš„å¤šé‡å¯¹è±¡ï¼Œå¤šé‡å¯¹è±¡éƒ½æ— æ³•å¯¹å†…éƒ¨çš„å±æ€§è®¾ç½®getå’Œset**ã€‚**ä½†vueä¸­å¯ä»¥ï¼Œå› ä¸ºåº•å±‚æ˜¯é€’å½’ï¼Œç›´è‡³æœ€åä¸€å±‚ä¸æ˜¯å¯¹è±¡**

### 1.14.2 `Vue.set()`**

åœ¨vueä¸­ï¼Œå½“æˆ‘ä»¬åº•å±‚æ²¡æœ‰å®šä¹‰ä¸€ä¸ªå±æ€§å˜é‡ï¼Œä½†æ˜¯åœ¨è¿è¡Œæ—¶åˆæƒ³åŠ å…¥ã€‚å¦‚ï¼šstudentæ·»åŠ sexå±æ€§

```javascript
/*
	ä¸ä¼šæŠ¥é”™ï¼Œä¸”å€¼å­˜è¿›å»äº†ï¼Œä½†æ˜¯é¡µé¢ä¸ä¼šå‘ç”Ÿå˜åŒ–{{student.sex}},è¿™æ˜¯å› ä¸ºï¼š
		è¿™ä¸ªæˆ‘ä»¬æ–°åŠ çš„å±æ€§ï¼Œæ²¡æœ‰è¢«vueè¿›è¡Œæ•°æ®ä»£ç†å’Œæ•°æ®åŠ«æŒè¿‡ï¼Œæ‰€ä»¥æ²¡æœ‰å¯¹åº”çš„getterå’Œsetterï¼ˆé‡Œé¢è¿›è¡Œé¡µé¢æ¸²æŸ“ï¼‰æ–¹æ³•ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬ä¿®æ”¹ï¼Œæ·»åŠ æ–°å±æ€§æ˜¯å°±æ— æ³•åŠ¨æ€å“åº”æ–°å¢åŠ ï¼Œä¿®æ”¹çš„å†…å®¹ã€‚
*/
vm._data.student.sex='ç”·'ï¼›

//***è§£å†³æ–¹æ³• Vue.set(å¯¹è±¡ï¼Œé”®ï¼Œå€¼) æˆ–è€…vm.$set(å¯¹è±¡ï¼Œé”®ï¼Œå€¼)
//vm._data.student === vm.student
Vue.set(vm._data.student,'sex','ç”·');
vm.$set(vm.student,'sex','ç”·
        //ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•ä¼šè‡ªåŠ¨æ·»åŠ getterå’Œsetter
```

> ***`Vue.set()`æ–¹æ³•çš„å±€é™*** 
>
> ```javascript
> const vm = new Vue({
>         el: '#root', 
>         data: {
>         person:{
>         name:'yaord',
>         age:18
>         }
>     }
> });
> ```
>
> https://v2.cn.vuejs.org/v2/api/#Vue-set
>
> æ­¤æ–¹æ³•åªèƒ½ç»™dataä¸­çš„å¯¹è±¡ï¼Œç¬¬äºŒå±‚çº§ï¼ˆç¬¬ä¸‰å±‚çº§ï¼Œã€‚ã€‚ã€‚ï¼‰å¦‚personæ·»åŠ ï¼Œä¸èƒ½ç»™dataæ·»åŠ 
>
> ```javascript
> Vue.set(vm._data,'sex','male')//é”™è¯¯çš„
> Vue.set(vm,'sex','male')//é”™è¯¯çš„
> ```
>
> 

### 1.14.3 vueä¸­æ£€æµ‹æ•°ç»„å˜åŒ–åŸç†--æ•°ç»„**

å¦‚ä¸‹å›¾ï¼Œå¯ä»¥æ˜æ˜¾çœ‹å‡º**vueä¸­dataä¸­æ•°ç»„æ²¡æœ‰ä»£ç†å¯¹åº”çš„getterå’Œsetteræ–¹æ³•**

```javascript
//å€¼ä¼šå˜ï¼Œä½†é¡µé¢ä¸ä¼šé‡æ–°æ¸²æŸ“ å› ä¸ºæ²¡æœ‰è§¦å‘
vue._data.student.hobby[0]='å­¦ä¹ '
```


![](./_media/image-20230407160335194.png)

+ ***ä½¿ç”¨ä¸‹é¢7å¤§æ–¹æ³•è¿›è¡Œæ•°ç»„æ“ä½œï¼Œå¯ä»¥é¡µé¢å¯ä»¥è‡ªåŠ¨æ¸²æŸ“***

  ```javascript
  vue._data.student.hobby.pop();//åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ 
  vue.student.hobby.shift();//åˆ é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
  ```

  ![](./_media/image-20230407162007422.png)

+ ***ä½¿ç”¨`Vue.set()`æˆ–`vm.$set()`

  ```javascript
  //æ­¤æ—¶ keyå°±å˜æˆäº†æ•°ç»„çš„ä¸‹æ ‡
  Vue.set(vue._data.student.hobby,1,'å­¦ä¹ ');
  vm.$set(vue._data.student.hobby,0,"æ‰“çƒ");
  ```

### 1.14.4 æ•°æ®åŠ«æŒ

æ•°æ®åŠ«æŒï¼šæ•°æ®ä¸­çš„æ¯ä¸ªæ•°æ®éƒ½è¢«vueä»£ç†äº†

å¦‚æœæœ‰äººä¿®æ”¹äº†dataä¸­çš„å±æ€§ï¼Œå°±ä¼šè¢«setteråŠ«æŒåˆ°

åº•å±‚åŸç†éƒ½æ˜¯ï¼š`Object.defineProperty()`

![](./_media/image-20230407164351465.png)

### 1.14.4 Vueä¸­æ•°æ®æ£€æµ‹æ€»ç»“**

![](./_media/image-20230407164526319.png)

## 1.15 v-modelæ”¶é›†è¡¨å•æ•°æ®

***æ”¶é›†è¡¨å•æ•°æ®ï¼š***

+ è‹¥ï¼š`<input type="text"/>`ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œç”¨æˆ·è¾“å…¥çš„å°±æ˜¯valueå€¼ã€‚
+ è‹¥ï¼š`<input type="radio"/>`ï¼Œåˆ™v-modelæ”¶é›†çš„æ˜¯valueå€¼ï¼Œä¸”è¦ç»™æ ‡ç­¾é…ç½®valueå€¼ã€‚
+ è‹¥ï¼š`<input type="checkbox"/>`
  + 1.æ²¡æœ‰é…ç½®inputçš„valueå±æ€§ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰
  + 2.é…ç½®inputçš„valueå±æ€§:
    + (1)v-modelçš„åˆå§‹å€¼æ˜¯éæ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„å°±æ˜¯checkedï¼ˆå‹¾é€‰ or æœªå‹¾é€‰ï¼Œæ˜¯å¸ƒå°”å€¼ï¼‰
    + (2)v-modelçš„åˆå§‹å€¼æ˜¯æ•°ç»„ï¼Œé‚£ä¹ˆæ”¶é›†çš„çš„å°±æ˜¯valueç»„æˆçš„æ•°ç»„

```html
<body>
    <div id="root">
        <form>
            <!-- å®ç°ç‚¹å‡»æ–‡å­—ï¼Œå®ç°èšç„¦input -->
            <label for="user">è´¦å·ï¼š</label>
            <input type="text" id="user" v-model="user"><br>
            å¯†ç ï¼š<input type="password" v-model="passwd"><br>
            å¹´é¾„ï¼›<input type="number" v-model.number="age"><br>
            <br>
            æ€§åˆ«ï¼šç”·<input type="radio" name="sex" value='male' v-model="sex"> å¥³ <input type="radio" name="sex" value="female" v-model="sex">
            <br>
            çˆ±å¥½ï¼š
                <!-- å¦‚æœä¸é…ç½®valueå±æ€§ï¼Œv-modelé»˜è®¤è¯»å–checkedå±æ€§å€¼ -->
                æŠ½çƒŸ<input type="checkbox" name="hobby" value="smoke" v-model="hobby"> 
                å–é…’<input type="checkbox" name="hobby" value="drink" v-model="hobby">
                çƒ«å¤´<input type="checkbox" name="hobby" value="hair" v-model="hobby">

            <br>
            tagï¼š<select name="tag" v-model="tag">
                    <option value="">è¯·é€‰æ‹©</option>
                    <option value="a">a</option>
                    <option value="ab">ab</option>
                    <option value="abc">abc</option>
                    <option value="abcd">abcd</option>
                </select>
            <br>
            å…¶ä»–ä¿¡æ¯ï¼š<textarea v-model.lazy="other"></textarea>
            <br>
            <!-- å¦‚æœä¸é…ç½®valueå±æ€§ï¼Œv-modelé»˜è®¤è¯»å–checkedå±æ€§å€¼ -->
            <input type="checkbox" name="agree" v-model="agree"> é˜…è¯»å¹¶æ¥å—<a href="#">ã€Šç”¨æˆ·åè®®ã€‹</a>
            <br>
            <button type="button" @click="print">æäº¤</button>
        </form>
    </div>

    <script>
        const vm = new Vue({
            el:'#root',
            data:{
                user:'',
                passwd:'',
                age: '',
                sex:'',
                hobby:[],
                tag:'',
                other:'',
                agree:''
            },
            methods:{
                print(){
                    // ä¸æ¨èç›´æ¥ä½¿ç”¨_dataï¼Œå»ºè®®å°è£…æˆä¸€ä¸ªå¯¹è±¡
                    console.log(JSON.stringify(this._data));
                }
            }
        });
    </script>
</body>
```



## 1.16 v-modelç»‘å®šäº‹ä»¶(ä¿®é¥°ç¬¦)

+ `number`ï¼Œè§„å®šè¾“å…¥çš„ç±»å‹å¿…é¡»æ˜¯æ•°å­—

  ```html
  <!-- ä¸åŠ ä¿®é¥°ç¬¦.numberåˆ™vueæ¥å—åˆ°æ•°æ®ç±»å‹æ˜¯stringï¼ŒåŠ äº†ä¹‹åæ˜¯number-->
  å¹´é¾„ï¼›<input type="number" v-model.number="age"><br>å¹´é¾„ï¼›<input type="text" v-model="age"><br>            
  ```

+ `lazy`ï¼Œä¸ä¼šå®æ—¶æ¸²æŸ“æ•°æ®ï¼Œç­‰åˆ°ç”¨æˆ·è¾“å…¥ç»“æŸï¼ˆå¤±å»ç„¦ç‚¹ï¼‰æ‰ä¼šæ¸²æŸ“ã€‚æé«˜æ€§èƒ½

  ```html
  å…¶ä»–ä¿¡æ¯ï¼š<textarea v-model.lazy="other"></textarea>
  ```

+ `trim`ï¼Œå»æ‰å­—ç¬¦ä¸²å‰åç©ºæ ¼

## 1.15 è¿‡æ»¤å™¨

åŠŸèƒ½: å¯¹è¦æ˜¾ç¤ºçš„æ•°æ®è¿›è¡Œç‰¹å®šæ ¼å¼åŒ–åå†æ˜¾ç¤º
æ³¨æ„: å¹¶æ²¡æœ‰æ”¹å˜åŸæœ¬çš„æ•°æ®, æ˜¯äº§ç”Ÿæ–°çš„å¯¹åº”çš„æ•°æ®

> https://bootcdn.cnç¬¬ä¸‰æ–¹åº“
>
> + moment.js - å¤„ç†æ—¶é—´
> + day.js - æ¯”moment.jsè½»é‡åŒ–

***ç”¨æ³•ï¼š***

==*åªèƒ½ç”¨äºï¼š*==

+ æ’å€¼è¯­æ³•ï¼Œ`{{}}`
+ æ•°æ®ç»‘å®šï¼Œ`v-bind:xxx=''[:xxx='']`

```html
<!-- è¿‡æ»¤å™¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡å°†â€˜å±æ€§å€¼â€™æ‹¿åˆ°ï¼Œå¹¶æŠŠå…¶å½“ä½œå‚æ•°ï¼Œä¼ é€’åˆ°è¿‡æ»¤å™¨1ä¸­-->
{{å±æ€§å€¼ | è¿‡æ»¤å™¨åå­—1 | è¿‡æ»¤å™¨åå­—2 | è¿‡æ»¤å™¨åå­—3 | ...}} <!-- | æ˜¯ç®¡é“ç¬¦-->
```

***ç”¨æ³•ï¼š***

```html
<body>
    <div id="root">
        <h2>æ˜¾ç¤ºæ ¼å¼åŒ–åçš„æ—¶é—´</h2>
        æ—¶é—´æˆ³ï¼š{{time}} <br>
        <!-- å¤šä¸ªè¿‡æ»¤å™¨ | è¿ç»­æ‹¼æ¥ï¼Œé¡ºåºæ‰§è¡Œï¼Œ å‰ä¸€ä¸ªä½œä¸ºåä¸€ä¸ªå‚æ•°ï¼Œè¢«vueè‡ªåŠ¨è°ƒç”¨
            å¦‚æœå“åº”ä¼ é€’åˆ«çš„å‚æ•°ï¼Œç›´æ¥ä¼ é€’å³å¯ï¼Œä½†æ˜¯åº•å±‚é»˜è®¤ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯|ç®¡é“ç¬¦å‰ä¸€ä¸ªçš„å€¼
            -->
        æ—¶é—´ï¼š{{time|datetime('YYYY-MM-DD HH:mm:sss ')|mySlice}} <br>
    </div>
    <script>
        //å…¨å±€è¿‡æ»¤å™¨ï¼Œä»»æ„ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨
        //è¿‡æ»¤å™¨å å‚æ•°
        Vue.filter('mySlice',function(value) {
            return value.slice(4,17)
        })

        const vm = new Vue({
            el:'#root',
            data:{
                time:Date.now()
            },
            //å±€éƒ¨è¿‡æ»¤å™¨ï¼Œæ­¤æ—¶åˆ«çš„ç»„ä»¶æ— æ³•ä½¿ç”¨è¿™ä¸ªè¿‡æ»¤å™¨
            filters:{
                //vueè‡ªåŠ¨è°ƒç”¨è¿‡æ»¤å™¨ï¼Œå¹¶æŠŠç¬¬ä¸€ä¸ªå½“ä½œå‚æ•°ä¼ é€’
                //å¤šå‚æ•°ï¼Œç¬¬ä¸€ä¸ªé»˜è®¤æ˜¯ç®¡é“ç¬¦å‰ä¸€ä¸ªçš„å€¼ ï¼ˆes6æ–°ç‰¹æ€§ï¼Œå‚æ•°é»˜è®¤å€¼ï¼‰
                datetime(value, str='YYYYå¹´MMæœˆDDæ—¥ HHæ—¶mmåˆ†ssç§’'){
                    return dayjs(value).format(str);
                }
            }
        });
    </script>
</body>
```



## 2.16  ==*Vueå†…ç½®æŒ‡ä»¤*==

+ `v-text='xxx'`å°†xxxéƒ½å½“ä½œè¯¥æ ‡ç­¾çš„æ–‡æœ¬å†…å®¹ï¼Œå³ä¾¿é‡Œé¢æœ‰htmlæ ‡ç­¾

  ```html
  <body>
      <div id="root">
          <!-- æœ€ç»ˆé¡µé¢ä¼šæŠŠ <h3> hello </h3> å…¨éƒ¨æ˜¾ç¤º-->
          <div v-text="text"></div>
      </div>
      <script>
          const vm = new Vue({
              el:"#root",
              data:{
                  text:'<h3> hello </h3>'
              }
          })
      </script>
  </body>
  ```

+ `v-html='xxx'`ï¼Œä¼šæŠŠxxxå½“æˆhtmlè¿›è¡Œè§£æã€‚ä¼šå¼•èµ·è·¨ç«™æ”»å‡»

  ```html
  <body>
      <div id="root">
          <!-- æœ€ç»ˆé¡µé¢ä¼šæŠŠ hello ä»¥3çº§æ ‡é¢˜æ˜¾ç¤º-->
          <div v-text="text"></div>
      </div>
      <script>
          const vm = new Vue({
              el:"#root",
              data:{
                  text:'<h3> hello </h3>'
              }
          })
      </script>
  </body>
  ```

+ `v-cloak` é˜²æ­¢é—ªç°, ä¸ css é…åˆ(å°±æ˜¯scripté˜»å¡ï¼Œé¿å…é¡µé¢æ˜¾ç¤ºä¸æ­£å¸¸)

  ```html
  <body>
      <div id="root" v-cloak>
          <!--v-onceç¬¬ä¸€æ¬¡æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹ï¼Œä¸å†æ¸²æŸ“ -->
          <h2 v-once>é™æ€æ¸²æŸ“ï¼š{{n}}</h2>
          <h2>åŠ¨æ€æ¸²æŸ“ï¼š{{n}}</h2>
          <button @click='n++'>ç‚¹æˆ‘n+1</button>
      </div>
  
      <script>
          const vm = new Vue({
              el:"#root",
              data:{n:1}
          })
      </script>
  </body>
  </html>
  ```

+ `v-once`æ‰€åœ¨çš„èŠ‚ç‚¹åœ¨åˆæ¬¡åŠ¨æ€æ¸²æŸ“åï¼Œå°±è§†ä¸ºé™æ€å†…å®¹ï¼ˆä¸ä¼šéšç€æ•°æ®å˜åŒ–è€Œå˜åŒ–äº†ï¼‰

  ```html
  <body>
      <!-- ç›®çš„ï¼šå°±æ˜¯v-cloaké…åˆcssé€‰æ‹©å™¨ï¼Œåœ¨jså µå¡æ—¶é˜»æ­¢ä¸æ­£ç¡®çš„æ˜¾ç¤º
          åŸç†ï¼šcssç»™å±æ€§v-cloakæ·»åŠ ä¸å±•ç¤ºçš„å±æ€§ï¼Œå½“vueåˆ›å»ºå‡ºæ¥å°±ä¼šç«‹é©¬æ¥ç®¡rootå®¹å™¨ï¼Œä»è€Œåˆ é™¤æ‰€æœ‰çš„v-cloakå±æ€§ï¼Œå°†æ•°æ®è¿›è¡Œå±•ç¤º
          -->
      <div id="root" v-cloak>
          {{hello}}
      </div>
  
      <!-- jsé˜»å¡ï¼Œå¯¼è‡´vueåŠ è½½å»¶è¿Ÿï¼Œé¡µé¢æ˜¾ç¤ºä¸å¥½çœ‹ -->
      <script src="https://djiaj.jdiaj.js"></script>
      <script>
          const vm = new Vue({
              el:"#root",
              data:{
                  hello:'ä½ å¥½'
              }
          })
      </script>
  </body>
  ```

+ `v-pre` è·³è¿‡å…¶æ‰€åœ¨èŠ‚ç‚¹/æ ‡ç­¾çš„æ¸²æŸ“è¿‡ç¨‹

  ```html
  <body>
      <div id="root" v-cloak>
          <!-- v-preå¯ä»¥åˆ©ç”¨å®ƒè·³è¿‡æ²¡æœ‰ æŒ‡ä»¤è¯­æ³•ï¼Œæ’å€¼è¯­æ³•çš„èŠ‚ç‚¹ï¼Œä¼šåŠ å¿«ç¼–è¯‘ -->
          <h2 v-pre>æˆ‘æ˜¯å®Œå…¨é™æ€å†…å®¹</h2>
          <!-- å®Œå…¨ä¸è§£æ äº†-->
          <h2 v-pre>åŠ¨æ€æ¸²æŸ“ï¼š{{n}}</h2>
      </div>
      <script>
          const vm = new Vue({
              el:"#root",
              data:{n:1}
          })
      </script>
  </body>
  ```

## 2.17 ==*Vueå¤–ç½®æŒ‡ä»¤*==

***æ³¨æ„äº‹é¡¹**

+ é•¿æŒ‡ä»¤ç”¨-è¿æ¥ï¼Œå¦‚ï¼š`v-bind-number`ï¼Œé‚£ä¹ˆdirectivesä¸­æœ€å¥½ç”¨å¯¹è±¡å½¢å¼ï¼ˆå½“ç„¶jså‡½æ•°ç®€å†™ä¹Ÿå¯ä»¥ï¼Œä½†å¿…é¡»ç”¨å¼•å·åŒ…èµ·æ¥ï¼‰

+ æ‰€ä»¥æŒ‡ä»¤ç›¸å…³çš„å›è°ƒå‡½æ•°ä¸­ï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰æŒ‡ä»¤å‡½æ•°ï¼‰ï¼Œthisä¸ºwindow

+ ä¸‹é¢å®šä¹‰åœ¨new Vueä¸­çš„bigå’Œfbindéƒ½æ˜¯å±€éƒ¨æŒ‡ä»¤ï¼Œä¸èƒ½è¢«å…¶ä»–å®¹å™¨æˆ–ç»„ä»¶ä½¿ç”¨

  ```javascript
  //å…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ å’Œè¿‡æ»¤å™¨å®Œå…¨ä¸€æ ·
  Vue.directive('big',(element,bingding)=>{})
      Vue.directive('fbind',{
      bind(element,bingding){},
      inserted(element,bingding){},
      update(element,bingding){}
  })
  ```

+ é…ç½®å¯¹è±¡ä¸­å¸¸ç”¨çš„3ä¸ªå›è°ƒï¼š

  + bindï¼šæŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶è°ƒç”¨ã€‚
  + insertedï¼šæŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶è°ƒç”¨ã€‚
  + updateï¼šæŒ‡ä»¤æ‰€åœ¨æ¨¡æ¿ç»“æ„è¢«é‡æ–°è§£ææ—¶è°ƒç”¨ã€‚

***ä¾‹å­ï¼š***

```html
<body>
    <div id="root">
        <!-- 
            éœ€æ±‚1ï¼šå®šä¹‰ä¸€ä¸ªv-bigæŒ‡ä»¤ï¼Œå’Œv-textåŠŸèƒ½ç±»ä¼¼ã€‚ä½†ä¼šæŠŠç»‘å®šæ•°å€¼æ”¾å¤§10å€
            éœ€æ±‚2ï¼šå®šä¹‰ä¸€ä¸ªv-fbindæŒ‡ä»¤ï¼Œå’Œv-bindåŠŸèƒ½ç±»ä¼¼ï¼Œä½†å¯ä»¥è®©å…¶æ‰€ç»‘å®šçš„inputå…ƒç´ é»˜è®¤è·å–ç„¦ç‚¹
         -->

         <h2>
            å½“å‰çš„å€¼æ˜¯ï¼š
            <span v-text="n"></span>
         </h2>
         <h2>
            æ”¾å¤§åå€åçš„å€¼æ˜¯ï¼š
            <span v-big="n"></span>
         </h2>
         <button @click="n++">ç‚¹æˆ‘+1</button>
         <hr>
         <input type="text" v-fbind:value="n">
    </div>
    <script>
        const vm = new Vue({
            el:"#root",
            data:{n:1},
            directives:{
                //ä¸¤ç§å½¢å¼ï¼šå¯¹è±¡ã€å‡½æ•°
                /**
                 * <strong>
                 *     è‡ªå®šä¹‰æŒ‡ä»¤è°ƒç”¨çš„ä¸¤æ¬¡æ—¶æœºï¼š
                 *       â‘  æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥å°±æ‰§è¡Œï¼‰bindå‡½æ•°
                 *       â‘¡ æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡ç‰ˆtemplate(å¦‚æœæ²¡æœ‰åº”è¯¥æ˜¯æ•´ä¸ªå®¹å™¨root)è¢«é‡æ–°è§£ææ—¶ä¼šè¢«è°ƒç”¨ updateå‡½æ•°
                 * </strong>
                 * @param1 element ä½¿ç”¨v-bigçš„æ ‡ç­¾å†…å®¹
                 * @param2 bingding vueä¸­çš„ç»‘å®šå…³ç³»å¯¹è±¡
                 **/
                big(element,bingding){
                    console.log(element,'@',bingding);
                    //åˆ—å‡ºæ ‡ç­¾æ‰€æœ‰çš„å±æ€§
                    console.dir(element);
                    element.innerText = bingding.value * 10;
                },
                //ç›´æ¥ä½¿ç”¨å‡½æ•°ï¼Œæ— æ³•å®ç°è‡ªåŠ¨èšç„¦ï¼Œå› ä¸ºè°ƒç”¨è‡ªåŠ¨èšç„¦çš„æ—¶æœºä¸å¯¹
                fbind:{
                    //è°ƒç”¨æ—¶æœº
                    //è°ƒç”¨æ—¶æœºï¼šæŒ‡ä»¤å’Œå…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰
                    bind(element,bingding){
                        //å†…å­˜å‡†å¤‡é˜¶æ®µï¼Œä¸€èˆ¬ç”¨äºå±æ€§çš„è®¾ç½®
                        element.value=bingding.value;
                    },
                    //è°ƒç”¨æ—¶æœºï¼šæŒ‡ä»¤æ‰€åœ¨å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶
                    inserted(element,bingding){
                        //å¸¸ç”¨äºå…ƒç´ æŒ‚åœ¨åçš„é€»è¾‘ï¼Œå¦‚focusï¼Œæå‰è°ƒç”¨ä¼šå¤±æ•ˆ
                        element.focus();
                    },
                    //è°ƒç”¨æ—¶æœºï¼šæŒ‡ä»¤æ‰€åœ¨æ¨¡ç‰ˆè¢«é‡æ–°è§£ææ—¶
                    update(element,bingding){
                        //æ›´æ–°æ—¶ çš„é€»è¾‘ ï¼Œç”¨äºåŠ¨æ€æ¸²æŸ“
                        console.log("*****"+bingding.value);
                        element.value=bingding.value;
                        element.focus();
                    }
                }
            }
        })
    </script>
</body>
</html>
```

![](./_media/image-20230417150045427.png)

> å¤‡æ³¨ï¼š
> 1.æŒ‡ä»¤å®šä¹‰æ—¶ä¸åŠ v-ï¼Œä½†ä½¿ç”¨æ—¶è¦åŠ v-ï¼›
> 2.æŒ‡ä»¤åå¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œè¦ä½¿ç”¨kebab-caseå‘½åæ–¹å¼ï¼Œä¸è¦ç”¨camelCaseå‘½åã€‚

## 1.18 ==*Vueå®ä¾‹ç”Ÿå‘½å‘¨æœŸ*==

### 1.18.1 å¼•å‡ºç”Ÿå‘½å‘¨æœŸ

+ **ç”Ÿå‘½å‘¨æœŸ**åˆåï¼š**ç”Ÿå‘½å‘¨æœŸå›è°ƒå‡½æ•°**ã€**ç”Ÿå‘½å‘¨æœŸå‡½æ•°**ï¼Œ**ç”Ÿå‘½å‘¨æœŸé’©å­**ã€‚

+ ç”Ÿå‘½å‘¨æœŸ**æœ¬è´¨**å°±æ˜¯ï¼š*Vueåœ¨å…³é”®æ—¶åˆ»å¸®æˆ‘ä»¬è°ƒç”¨çš„ä¸€äº›ç‰¹æ®Šåç§°çš„å‡½æ•°**

+ **ç”Ÿå‘½å‘¨æœŸå‡½æ•°çš„åå­—ä¸å¯æ›´æ”¹**ï¼Œä½†æ˜¯å‡½æ•°çš„å…·ä½“å†…å®¹æ˜¯ç¨‹åºå‘˜æ ¹æ®éœ€æ±‚ç¼–å†™çš„

+ ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­çš„**this**æŒ‡å‘æ˜¯**vm**æˆ–**ç»„ä»¶å®ä¾‹å¯¹è±¡**

  > ***åªä¼šåœ¨åˆå§‹æ—¶å°†çœŸå®domæ”¾å…¥é¡µé¢åï¼Œè°ƒç”¨ã€‚ï¼ˆ==å³åªä¼šåœ¨åˆšå¼€å§‹è°ƒç”¨ä¸€æ¬¡==ï¼‰***

ä»£ç ï¼š

```javascript
const vm = new Vue({
    el:"#root",
    data:{
        opacity:1
    },
    //Vueå®Œæˆæ¨¡ç‰ˆçš„è§£æå¹¶æŠŠåˆå§‹çš„çœŸå®domå…ƒç´ æ”¾å…¥é¡µé¢åï¼ˆæŒ‚è½½å®Œæ¯•ï¼‰è°ƒç”¨mounted
    //æ ¸å¿ƒç‚¹ï¼šåªåœ¨ç¬¬ä¸€æ¬¡æ‰§è¡Œï¼ˆæŒ‚è½½ï¼‰ï¼Œä»¥åéƒ½æ˜¯ä¿®æ”¹å€¼éƒ½æ˜¯æ›´æ–°ï¼ˆä¸æ˜¯æŒ‚è½½ï¼‰ï¼Œä¸ä¼šå†æ¬¡è°ƒç”¨mounted
    mounted(){//ä¸dataå¹³çº§ï¼Œæ˜¯ä¸ªå‡½æ•°
        console.log(this);
        setInterval(() => {
            this.opacity -= 0.01;
            if(this.opacity <= 0) this.opacity=1;
        }, 50);
    }
})
```

### 1.18.2 åˆ†æç”Ÿå‘½å‘¨æœŸ

ä¸€å…±å››å¤§æµç¨‹ï¼Œ8ä¸ªé’©å­å‡½æ•°

+ åˆ›å»ºæµç¨‹

  ```javascript
  //ä¸æ˜¯vmï¼Œè€Œæ˜¯æŒ‡æ•°æ®ä»£ç†å’Œæ•°æ®æ£€æµ‹çš„åˆ›å»º
  beforeCreate(){}
  created(){}
  ```

+ æŒ‚è½½æµç¨‹

  ```javascript
  beforeMount(){}
  mounted(){}
  ```

+ æ›´æ–°æµç¨‹

  ```javascript
  beforeUpdate(){}
  updated(){}
  ```

+ é”€æ¯æµç¨‹

  ```javascript
  beforeDestroy(){}
  destroyed(){}
  ```

  ![](./_media/ç”Ÿå‘½å‘¨æœŸ.png)

***ä»£ç å®ä¾‹ï¼š***

```html
<body>
    <div id="root">
        <h2>å½“å‰nå€¼ä¸ºï¼š{{n}}</h2>
        <button @click="add">ç‚¹æˆ‘n+1</button>
    </div>
    <script>
        const vm = new Vue({
            el:"#root",
            //å¯ä»¥ç”¨è¿™ä¸ªå­˜æ”¾rootå†…éƒ¨çš„å­å­™æ ‡ç­¾ï¼Œä½†æ˜¯å‰æå¿…é¡»æ˜¯åœ¨åªèƒ½æœ‰ä¸€ä¸ªæ ¹èŠ‚ç‚¹
            template:``,
            data:{n:1},
            methods:{
                add(){
                    this.n++;
                }
            },
            //æ•°æ®ä¾¦æµ‹å’Œæ•°æ®ä»£ç†åˆ›å»ºå‰
            beforeCreate(){
                console.log("1. beforeCreate");
                console.log(this);//æ­¤æ—¶è¿˜æ— æ³•è®¿é—®dataä¸­æ•°æ®å’Œmethdosæ–¹æ³•
                // debugger;
            },
            //æ•°æ®ä¾¦æµ‹å’Œæ•°æ®ä»£ç†åˆ›å»ºå
            created(){
                console.log("2. created");
                console.log(this);//æ­¤æ—¶å¯ä»¥è®¿é—®dataä¸­æ•°æ®å’Œmethdosæ–¹æ³•
            },
            beforeMount(){
                console.log("3. brforeMount");
                console.log(this);//æ­¤æ—¶å¯¹é¡µé¢çš„domè¿›è¡Œæ“ä½œï¼Œæœ€ç»ˆéƒ½ä¼šè¢«vueè¦†ç›–æ‰
                // debugger
            },
            mounted(){
                console.log("4. mounted");
                console.log(this);//æ­¤æ—¶å¯¹é¡µé¢çš„domè¿›è¡Œæ“ä½œæœ‰æ•ˆï¼Œä½†æ˜¯ä¸æ¨èè‡ªå·±æ“ä½œdom
            },
            beforeUpdate(){
                console.log("5. brforeUpdate");
                console.log(this);//
            },
            updated(){
                console.log("6. updated");
                console.log(this);//
            },
            beforeDestroy(){
                console.log("7. beforeDestroy");
                console.log(this);//
            },
            destroyed(){
                console.log("8. destroy");
                console.log(this);//
            }
        })
    </script>
</body>
</html>
```

### 1.18.3 æ€»ç»“

**å¸¸ç”¨çš„ç”Ÿå‘½å‘¨æœŸé’©å­ï¼š**

+ `mounted`ï¼Œæ­¤æ—¶å‘é€ajaxè¯·æ±‚ã€å¯åŠ¨å®šæ—¶å™¨ã€ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶ã€è®¢é˜…æ¶ˆæ¯ã€åˆå§‹åŒ–æ“ä½œã€‘
+ `beforeDestroy`ï¼Œæ­¤æ—¶æ¸…é™¤å®šæ—¶å™¨ã€è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯ç­‰ã€æ”¶å°¾å·¥ä½œã€‘

**å…³äºé”€æ¯Vueå®ä¾‹ï¼š**

+ é”€æ¯åå€ŸåŠ©Vueå¼€å‘è€…å·¥å…·çœ‹ä¸åˆ°ä»»ä½•æ¶ˆæ¯
+ é”€æ¯å**è‡ªå®šä¹‰äº‹ä»¶ä¼šå¤±æ•ˆï¼Œä½†æ˜¯domåŸç”Ÿäº‹ä»¶ä¾ç„¶æœ‰æ•ˆ**
+ ä¸€èˆ¬ä¸ä¼šåœ¨`beforeDestroy`æ“ä½œæ•°æ®ï¼Œ**å› ä¸ºå³ä¾¿æ“ä½œæ•°æ®ï¼Œä¹Ÿä¸ä¼šè§¦å‘æ›´æ–°ï¼ˆupdateï¼‰æµç¨‹**

# 2ã€Vue ç»„ä»¶åŒ–ç¼–ç¨‹

## 2.0 ç»„ä»¶çš„å¼•å…¥

ä¼ ç»Ÿæ–¹å¼ç¼–å†™åº”ç”¨å­˜åœ¨çš„é—®é¢˜ï¼š

+ ä¾èµ–å…³ç³»æ··ä¹±ï¼Œä¸å¥½ç»´æŠ¤
+ ä»£ç å¤ç”¨ç‡ä¸é«˜

![](./_media/image-20230418154312715.png)

![](./_media/image-20230418154620220.png)

***ç»„ä»¶ï¼šå®ç°å±€éƒ¨ï¼ˆç‰¹å®šï¼‰åŠŸèƒ½çš„==ä»£ç ==å’Œ==èµ„æº==çš„==é›†åˆ==***

![](./_media/image-20230418155234340.png)

## 2.1 æ¨¡å—åŒ–ä¸ç»„ä»¶

### 2.1.1 æ¨¡å—

å°†ä¸€ä¸ªjsï¼ŒæŒ‰ç…§åŠŸèƒ½æ¨¡å—è¿›è¡Œåˆ’åˆ†æˆå¤šä¸ªjsæ–‡ä»¶ï¼Œæ¯ä¸ªjsæ–‡ä»¶å°±å«ä¸€ä¸ªæ¨¡å—ã€‚

ä½œç”¨: å¤ç”¨ js, ç®€åŒ– js çš„ç¼–å†™, æé«˜ js è¿è¡Œæ•ˆç‡

### 2.1.2 ç»„ä»¶

å®ç°å±€éƒ¨ï¼ˆç‰¹å®šï¼‰åŠŸèƒ½çš„ä»£ç å’Œèµ„æºçš„é›†åˆ

ä½œç”¨: å¤ç”¨ç¼–ç , ç®€åŒ–é¡¹ç›®ç¼–ç , æé«˜è¿è¡Œæ•ˆç‡

### 2.1.3 æ¨¡å—åŒ–

å½“åº”ç”¨ä¸­çš„ js éƒ½ä»¥æ¨¡å—æ¥ç¼–å†™çš„, é‚£è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„åº”ç”¨ã€‚

### 2.1.4 ç»„ä»¶åŒ–

å½“åº”ç”¨ä¸­çš„åŠŸèƒ½éƒ½æ˜¯å¤šç»„ä»¶çš„æ–¹å¼æ¥ç¼–å†™çš„, é‚£è¿™ä¸ªåº”ç”¨å°±æ˜¯ä¸€ä¸ªç»„ä»¶åŒ–çš„åº”ç”¨ã€‚

## 2.2 éå•æ–‡ä»¶ç»„ä»¶

### 2.2.1 éå•æ–‡ä»¶ç»„ä»¶ä½¿ç”¨

ä¸€ä¸ªæ–‡ä»¶é‡Œé¢åŒ…å«å¾ˆå¤šç»„ä»¶

***Vueä¸­ä½¿ç”¨ç»„ä»¶æ­¥éª¤ï¼š***

+ *é€šè¿‡Vue.extendåˆ›å»ºç»„ä»¶*

  > ==*dataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°*==

+ *vueä¸­é…ç½®componentsæ³¨å†Œç»„ä»¶ ã€åˆ†ä¸ºå…¨å±€/å±€éƒ¨æ³¨å†Œã€‘*

+ *é€šè¿‡ç»„ä»¶æ ‡ç­¾ï¼Œä½¿ç”¨ç»„ä»¶ã€å¦‚æœä½ çš„ç»„ä»¶åä¸ºperson åˆ™`<perosn></person>`ä½¿ç”¨ã€‘*

**ä»£ç å®ä¾‹ï¼š**

```html
<body>
    <div id="root">
        <!--ç»„ä»¶æ ‡ç­¾ï¼Œåªèƒ½ä½¿ç”¨å…¨å±€ç»„ä»¶å’Œæ³¨å†Œåˆ°rootä¸Šçš„ç»„ä»¶ -->
        <person></person>
        <hr>
        <hometown></hometown>
        <hr>
        <hello></hello>
    </div>
    <script>
        /**
         * vueä¸­ä½¿ç”¨ç»„ä»¶ï¼š
         *  1.é€šè¿‡Vue.extendåˆ›å»ºç»„ä»¶
         *  2.vueä¸­é…ç½®componentsæ³¨å†Œç»„ä»¶
         *  3.é€šè¿‡ç»„ä»¶æ ‡ç­¾ï¼Œä½¿ç”¨ç»„ä»¶ã€å¦‚æœä½ çš„ç»„ä»¶åä¸ºperson åˆ™<perosn></person>ä½¿ç”¨ã€‘
         * 
         **/ 
        //åˆ›å»º personç»„ä»¶  ã€ç»„ä»¶æ˜¯åŒ…å«ä»£ç å’Œèµ„æºçš„ã€‘
        const person = Vue.extend({
            //el:'#root'//ç»„ä»¶å¯è¢«ä»»æ„æ–‡ä»¶å¼•ç”¨ï¼Œæ‰€ä»¥ä¸éœ€è¦æœ‰æŒ‚è½½ç‚¹
            template:`
                <div>
                    <h2>å§“åï¼š{{name}} </h2> 
                    <h2>å¹´é¾„ï¼š{{age}} </h2>
                </div>
            `,
            //dataå¿…é¡»ä¸ºå‡½æ•°ï¼Œä¸”è¿”å›ä¸€ä¸ªdataå¯¹è±¡ã€‚
            //å¿…é¡»ä¸ºå‡½æ•°è¿™æ˜¯å› ä¸ºå¦‚æœå’Œvueä¸€æ ·æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¢«å…¶ä»–æ–‡ä»¶å¼•ç”¨æ—¶å…¶å®å…±äº«çš„æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œä¿®æ”¹ä¸€ä¸‹å€¼ï¼Œåˆ™éƒ½ä¼šå‘ç”Ÿå˜åŒ–
            data(){
                return {
                    name: 'å¼ ä¸‰',
                    age: 18
                }
            }
        })
        //åˆ›å»º hometownç»„ä»¶
        const hometown = Vue.extend({
            template:`
                <div>
                    <h2>åŸå¸‚ï¼š{{city}} </h2> 
                    <h2>å›½å®¶ï¼š{{nation}} </h2>
                </div>
            `,
            data(){
                return {
                    city: 'ä¸Šæµ·',
                    nation: 'ä¸Šæµ·'
                }
            }
        })

        //å…¨å±€æ³¨å†Œç»„ä»¶
        const hello = Vue.extend({
            template: `
                <div>
                    <h2>ä½ å¥½</h2>
                </div>
            `
        })
        //å‚æ•°1ï¼šç»„ä»¶å  å‚æ•°2ï¼šhelloç»„ä»¶
        Vue.component('hello',hello);

        const vm = new Vue({
            el:"#root",
            //æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨æ³¨å†Œï¼‰
            components:{
                //keyä¸ºç»„ä»¶åï¼Œvalueä¸ºåˆ›å»ºçš„ç»„ä»¶id çœç•¥å°±æ˜¯idé»˜è®¤ä¸ºç»„ä»¶å
                person,
                hometown,
            }
        })
    </script>
</body>
```

### 2.2.2 ç»„ä»¶ä½¿ç”¨æ³¨æ„äº‹é¡¹

#### 2.2.2.1 ç»„ä»¶å

**å•ä¸ªå•è¯ï¼š**

+ `school`
+ æ¨è`School`

**å¤šä¸ªå•è¯ï¼š**

+ `my-school`
+ æ¨è`MySchool` ã€ä½†æ˜¯å¿…é¡»åœ¨è„šæ‰‹æ¶æ­å»ºçš„é¡¹ç›®æ‰èƒ½ç”¨ã€‘

**æ³¨æ„ï¼š**

+ ç»„ä»¶åå°½é‡é¿å…å’ŒHTMLä¸­çš„å…ƒç´ åç§°ï¼ˆå¤§å†™çš„ä¹Ÿä¸è¡Œï¼‰ã€‚å¦‚`h2`ï¼Œ`H2`

+ ä½¿ç”¨`name`å±æ€§å¯ä»¥æŒ‡å®švueå¼€å‘è€…å·¥å…·ä¸­è¯¥ç»„ä»¶çš„åå­—ï¼Œ**å®é™…ç”¨è¿˜æ˜¯æ³¨å†Œçš„é‚£ä¸ª**

  ```javascript
  const hello = Vue.extend({
      name:'vueTool-hello',
      template: `
                  <div>
                      <h2>ä½ å¥½</h2>
                  </div>
              `
  })
  
  const vm = new Vue({
      el:"#root",
      //æ³¨å†Œç»„ä»¶ï¼ˆå±€éƒ¨æ³¨å†Œï¼‰
      components:{
          //keyä¸ºç»„ä»¶åï¼Œvalueä¸ºåˆ›å»ºçš„ç»„ä»¶id
          hello //å®é™…é¡µé¢ç”¨è¿˜æ˜¯è¿™ä¸ªåå­—
      }
  })
  ```

#### 2.2.2.2 ç»„ä»¶æ ‡ç­¾ä½¿ç”¨

+ åŒæ ‡ç­¾`<hello></hello>`
+ å•æ ‡ç­¾`<hello/>` **åªèƒ½ç”¨äºvueè„šæ‰‹æ¶ç¯å¢ƒä¸‹ï¼Œä¸ç„¶ä¼šå‡ºç°é”™è¯¯**

#### 2.2.2.4 ç»„ä»¶å£°æ˜çš„ç®€å†™å½¢å¼

åŸç†åº•å±‚vueåœ¨å¯¹ç»„ä»¶è¿›è¡Œæ³¨å†Œæ—¶ï¼Œä¼šå…ˆåˆ¤æ–­ä¸€ä¸‹ç»„å»ºçš„ç±»å‹ï¼Œå¦‚æœåªæ˜¯objectå¯¹è±¡ï¼Œåˆ™è‡ªåŠ¨è°ƒç”¨`Vue.extend()`

```javascript
const hello = Vue.extend({})
//ç®€å†™å½¢å¼ ç›´æ¥ä¸€ä¸ªå¯¹è±¡
const hello = {}
```

### 2.2.3 ç»„ä»¶åµŒå¥—

ç»„ä»¶Aå†…éƒ¨ä½¿ç”¨äº†ç»„ä»¶Bï¼Œç»„ä»¶Bå†…éƒ¨ä½¿ç”¨äº†ç»„ä»¶Cï¼Œ..ï¼Œè¿™ç§å±‚çº§å…³ç³»å°±å«åšç»„ä»¶çš„åµŒå¥—ã€‚

![](./_media/image-20230419133108759.png)

```html
<body>  
    <!-- ç©ºçš„ï¼Œé‡Œé¢å†…å®¹ç”±vmä¸­çš„templateå†³å®š-->
    <div id="root"> </div>
    <script>
        //å­ç»„ä»¶  å¿…é¡»å…ˆä¸çˆ¶ç»„ä»¶
        const city = Vue.extend({
            name: 'city',
            template:`
            <div>
                <h2>
                    {{captionName}}
                </h2>
            </div>
            `,
            data(){ return { captionName:'åŒ—äº¬' } }
        });
        //çˆ¶ç»„ä»¶
        const nation = Vue.extend({
            name: 'nation',
            //å­ç»„ä»¶åœ¨çˆ¶ç»„ä»¶ä¸­çš„ä½¿ç”¨ä½ç½®
            template:`
            <div>
                <h2>
                    {{nationName}}
                </h2>
                <city></city> 
            </div>
            `,
            data(){ return { nationName:'ä¸­å›½'}},
            //æ³¨å†Œå­ç»„ä»¶ï¼Œå±€éƒ¨
            components:{ city }
        });

        const vm = new Vue({
            template:`<nation></nation>`,
            el:"#root",
            //ç»„ä»¶æ³¨å†Œï¼ˆå±€éƒ¨ï¼‰
            components:{
                nation
            }
        })
    </script>
</body>
```

### 2.2.4 VueComponent

+ `Vue.extend(options)`æˆ‘ä»¬å®šä¹‰ç»„ä»¶çš„æœ¬è´¨ï¼Œæ˜¯ä¸€ä¸ªåä¸º`VueComponent`çš„æ„é€ å‡½æ•°ï¼Œä¸”ä¸æ˜¯ç¨‹åºå‘˜å®šä¹‰çš„ï¼Œæ˜¯Vue.extendç”Ÿæˆçš„

  ![](./_media/image-20230419135923305.png)

+ æˆ‘ä»¬ä½¿ç”¨ç»„ä»¶æ—¶`<hello></hello>`ï¼Œ**Vueè§£ææ—¶ä¼šå¸®æˆ‘ä»¬åˆ›å»ºhelloç»„ä»¶çš„å®ä¾‹å¯¹è±¡**ï¼Œå³**Vueå¸®æˆ‘ä»¬æ‰§è¡Œçš„`new VueComponent(options)`**

  > æ¯æ¬¡åˆ›å»ºä¸€ä¸ªç»„ä»¶ï¼Œéƒ½è°ƒç”¨newå…³é”®å­—ï¼Œåˆ™ä»æ­¤å¤„å¯ä»¥çœ‹å‡ºæ¯ä¸ªç»„ä»¶å®ä¾‹å¯¹è±¡`VueComponent`ä¸ä¸€æ ·ã€‚

+ **ç‰¹åˆ«æ³¨æ„ï¼šæ¯æ¬¡è°ƒç”¨Vue.extendï¼Œè¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªå…¨æ–°çš„VueComponentï¼ï¼ï¼ï¼**

+ **å…³äºthisæŒ‡å‘ï¼š**

  + `Vue.extend(options)`,ç»„ä»¶é…ç½®optionsä¸­ **`dataå‡½æ•°`,`methodså¯¹è±¡`,`watchä¸­å‡½æ•°`,`computedä¸­çš„å‡½æ•°`ä»–ä»¬çš„thisæŒ‡å‘éƒ½æ˜¯ã€VueComponentçš„å®ä¾‹å¯¹è±¡ã€‘**
  + `new Vue(options)`ï¼Œvueå®ä¾‹é…ç½®optionsä¸­ï¼Œ**`dataå‡½æ•°`,`methodså¯¹è±¡`,`watchä¸­å‡½æ•°`,`computedä¸­çš„å‡½æ•°`ä»–ä»¬çš„thisæŒ‡å‘éƒ½æ˜¯ã€vueçš„å®ä¾‹å¯¹è±¡ã€‘**
  + **vueå®ä¾‹å¯¹è±¡å’ŒVueComponentçš„å®ä¾‹å¯¹è±¡ç»“æ„æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼ŒVueComponentå¯ä»¥ç†è§£ä¸ºå°vm**

+ VueComponentçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vcï¼ˆä¹Ÿå¯ç§°ä¹‹ä¸ºï¼šç»„ä»¶å®ä¾‹å¯¹è±¡ï¼‰ã€‚Vueçš„å®ä¾‹å¯¹è±¡ï¼Œä»¥åç®€ç§°vmã€‚

![](./_media/image-20230419141229128.png)

### 2.2.5 åŸå‹å¯¹è±¡

åŸå‹å¯¹è±¡é“¾çš„è‡ªåŠ¨è°ƒç”¨

```javascript
function Demo(){
    this.a=1;
    this.b=2;
}
const d1 = new Demo();
//æ˜¾å¼åŸå‹å±æ€§å’Œéšå¼åŸå‹å±æ€§æŒ‡å‘åŒä¸€ä¸ª ã€åŸå‹å¯¹è±¡ã€‘
console.log(Demo.prototype);//è¿™ä¸ªæ˜¯æ˜¾å¼åŸå‹å±æ€§
console.log(d1.__proto__);//è¿™ä¸ªæ˜¯éšå¼åŸå‹å±æ€§

console.log(Demo.prototype === d1.__proto__);
//ç¨‹åºå‘˜é€šè¿‡æ˜¾å¼åŸå‹å±æ€§æ“ä½œåŸå‹å¯¹è±¡ï¼Œè¿½åŠ ä¸€ä¸ªxï¼Œå€¼ä¸º99
Demo.prototype.x = 99;
//å› ä¸ºæ˜¯åŒä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œd1è‡ªèº«æ²¡æœ‰ï¼Œä¼šè‡ªåŠ¨å–__proto__ä¸Šæ‰¾x
console.log(d1.x);//ç­‰äºd1.__proto__.x
```

### 2.2.6 ==***Vueå’ŒVueComponentçš„å…³ç³»***==

***å®ä¾‹çš„éšå¼åŸå‹å±æ€§ï¼Œæ°¸è¿œæŒ‡å‘è‡ªå·±ç¼”é€ è€…çš„åŸå‹å¯¹è±¡***

![](./_media/image-20230419145416650.png)

> ***æ³¨æ„ï¼Œæˆ‘ä»¬å†™çš„ç»„ä»¶åhelloï¼Œschoolç­‰éƒ½æ˜¯åŸå‹å¯¹è±¡ï¼ˆ==å¯ä»¥ç†è§£ä¸ºç±»ï¼Œä¸æ˜¯å®ä¾‹==ï¼‰ï¼Œdomæ ‡ç­¾ä¸­çš„==`<hello></hello>`==æ‰æ˜¯å®ä¾‹å¯¹è±¡***

```javascript
const hello = Vue.extend(options);
hello.prototype.__proto__ === Vue.prototype === vm.__proto__
```

## 2.3 ***==å•æ–‡ä»¶ç»„ä»¶==***

ä¸€ä¸ªæ–‡ä»¶é‡Œé¢åªåŒ…å«1ä¸ªç»„ä»¶ï¼Œä¸”åç¼€åæ˜¯vueã€‚é‡Œé¢å…è®¸å†™ä»¥ä¸‹ä¸‰ä¸ªæ ‡ç­¾ï¼š

+ `<template></template>` é‡Œé¢ç”¨äºå†™htmlå†…å®¹
+ `<script></script>` é‡Œé¢ç”¨äºå†™jsè„šæœ¬
+ `<style></style>` é‡Œé¢ç”¨äºå†™cssæ ·å¼

> æ³¨ï¼švscodeéœ€è¦å®‰è£…æ’ä»¶ï¼Œç”¨äºæç¤ºä»£ç 

### 2.3.1 åˆ›å»ºç»„ä»¶`School.vue`

```vue
<template>
    <div class="demo">
        <h2>å­¦æ ¡åç§°ï¼š{{name}} </h2>
        <h2>å­¦æ ¡åœ°å€ï¼š{{address}} </h2>
    </div>
</template>

<script>
    //åˆ†åˆ«æš´éœ²  Vue.extendå¯ä»¥çœç•¥
    export const school = Vue.extend({
        name:'School',
        data(){
            return {
                name: 'è“ç¿”',
                address: 'ä¸­å›½ å±±ä¸œ'
            }
        }
    });

    /**
     * é»˜è®¤æš´éœ²å¯¼å…¥æ–¹å¼ï¼š
     *  import xxx from xxxx;
     * ç»Ÿä¸€æˆ–åˆ†åˆ«æš´éœ²å¯¼å…¥æ–¹å¼ï¼š
     *  import {xxx} from xxxx;
     */
    //ç»Ÿä¸€æš´éœ²
    //export {school};
    //é»˜è®¤æš´éœ²
    //export default school; 
</script>
<style>
    .demo{
        background-color: skyblue;
    }
</style>
```

### 2.3.2 åˆ›å»º`App.vue`

```vue
<template>
  <div>
    <School/>
  </div>
</template>

<script>
    //å¯¼å…¥æ²¡æœ‰åç¼€ï¼ˆå†™ä¸å†™éƒ½å¯ä»¥ï¼‰
    import { School } from './School';
    //é»˜è®¤æš´éœ²ï¼Œä¸”çœç•¥Vue.extend()
    export default {
        name: 'App',
        components: {
            School
        }
    }
</script>
```

### 2.3.3 åˆ›å»ºå…¥å£æ–‡ä»¶`main.js`

```javascript
//æµè§ˆå™¨ä¸ç›´æ¥æ”¯æŒes6è¯­æ³•
import App from './App.vue'

new Vue({
    el: "#root",
    template: `<App/>`,
    components: {
        App
    }
})
```

### 2.3.4 åˆ›å»ºé¦–é¡µæ–‡ä»¶`index.html`

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vueå•æ–‡ä»¶ç»„ä»¶</title>
</head>
<body>
    <div id="root">
        
    </div>
    <script src="../../lib/vue.js"></script>
    <script src="./main.js"></script>
</body>
</html>
```

### 2.3.5 è¿è¡Œ

è¿è¡Œå¤±è´¥ï¼Œæç¤º`Uncaught SyntaxError: Cannot use import statement outside a module (at main.js:2:1)`

å³ï¼šå•ç»„ä»¶éœ€è¦ä½¿ç”¨vueè„šæ‰‹æ¶`vue-cli`ï¼Œç›´æ¥è¿è¡Œä¼šæŠ¥é”™ã€‚å› ä¸ºæµè§ˆå™¨ä¸èƒ½ç›´æ¥è¿è¡Œes6è¯­æ³•`import`

# 3ã€ä½¿ç”¨Vueè„šæ‰‹æ¶

## 3.1 åˆå§‹åŒ–è„šæ‰‹æ¶

### 3.1.1 è¯´æ˜

+ Vueè„šæ‰‹æ¶æ˜¯Vueå®˜æ–¹æä¾›çš„æ ‡å‡†åŒ–å¼€å‘å·¥å…·ï¼ˆå¼€å‘å¹³å°ï¼‰
+ æœ€æ–°çš„ç‰ˆæœ¬æ˜¯4.x
+ æ–‡æ¡£ https://cli.vuejs.org/zh/

### 3.1.2 ä½¿ç”¨æ­¥éª¤

+ å…¨å±€å®‰è£…vue-cli `npm install -g @vue/cli`
+ **åˆ‡æ¢åˆ°è¦åˆ›å»ºvueé¡¹ç›®çš„ç›®å½•ï¼Œæ‰§è¡Œ`vue create xxx`**
+ å¯åŠ¨é¡¹ç›® `npm run serve`(ä¸æ˜¯server)

> ***å¤‡æ³¨ï¼š***
>
> + å¦‚æœç½‘é€Ÿæ…¢ï¼Œè®¾ç½®æ·˜å®é•œåƒ`npm config set registry https://registry.npm.taobao.org`
> + vueè„šæ‰‹æ¶éšè—äº†æ‰€æœ‰webpacç›¸å…³çš„é…ç½®ï¼Œè‹¥æƒ³æŸ¥çœ‹å…·ä½“çš„webpacké…ç½®ï¼Œè¯·æ‰§è¡Œ:`vue inspect > output.js`

### 3.1.3 æ¨¡ç‰ˆé¡¹ç›®çš„ç»“æ„

![](./_media/image-20230420100710360.png)

### 3.1.4 index.htmlæ–‡ä»¶è¯´æ˜

```html
<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <!-- é’ˆå¯¹ieæµè§ˆå™¨çš„è®¾ç½®ï¼Œå‘Šè¯‰ieæµè§ˆå™¨ä»¥æœ€é«˜çº§åˆ«ï¼ˆå…¼å®¹ï¼‰è¿›è¡Œæ¸²æŸ“ -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- å¼€å¯ç§»åŠ¨ç«¯çš„ç†æƒ³è§†å£ -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- ç½‘ç«™faviconå›¾æ ‡  <%= BASE_URL %>ä»£è¡¨publicç›®å½•ï¼ˆä»¥/ç»“å°¾ï¼‰-->
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <!-- é…ç½®ç½‘é¡µæ ‡å¤´ webpackè·å–package.jsonä¸­çš„é¡¹ç›®åname -->
    <title><%= htmlWebpackPlugin.options.title %></title>
  </head>
  <body>
    <!-- å½“æµè§ˆå™¨ä¸æ”¯æŒjsæ—¶ï¼Œè¯¥æ ‡ç­¾å†…å®¹ä¼šæ˜¾ç¤º -->
    <noscript>
      <strong>We're sorry but <%= htmlWebpackPlugin.options.title %> doesn't work properly without JavaScript enabled. Please enable it to continue.</strong>
    </noscript>
    <!-- å®¹å™¨ -->
    <div id="app"></div>
    <!-- built files will be auto injected -->
  </body>
</html>

```

### 3.1.5 main.jsè§£æä¹‹render()

```javascript
/**
 * mauin.jsä¸ºvueé¡¹ç›®çš„å…¥å£æ–‡ä»¶
 */
//å¯¼å…¥Vue
import Vue from 'vue'
//å¯¼å…¥Appç»„ä»¶ï¼Œæ˜¯æ‰€æœ‰ç»„ä»¶çš„çˆ¶ç»„ä»¶
import App from './App.vue'
//å…³é—­vueç”Ÿäº§æç¤º
Vue.config.productionTip = false

//åˆ›å»ºVueå®ä¾‹å¯¹è±¡
new Vue({
  //å°†Appç»„ä»¶æ”¾å…¥rootå®¹å™¨ä¸­
  render: h => h(App),
}).$mount('#app')
```

#### 3.1.5.1 ä½¿ç”¨æ¨¡ç‰ˆ`template`é…ç½®é¡¹

+ ä½¿ç”¨`template`é…ç½®é¡¹

  ```javascript
  import Vue from 'vue'
  new Vue({
    template:'<h1>ä½ å¥½</h1>'
    //render: h => h(App),
  }).$mount('#app')
  ```

+ è¿è¡Œï¼Œå‘ç°æŠ¥é”™

  ![](./_media/image-20230420102247275.png)

+ æ‰¾åˆ°å¯¼å…¥çš„vue,åœ¨`node_modules/vue`æ–‡ä»¶å¤¹ä¸­

+ æŸ¥çœ‹vueçš„é…ç½®æ–‡ä»¶`package.json`çš„`main`é…ç½®é¡¹

  ![](./_media/image-20230420102537698.png)

+ **è§£å†³æ–¹æ³•1ï¼šåœ¨main.jsä¸­å°†vueæ›´æ”¹ä¸ºå®Œæ•´çš„vue.js**

  ```javascript
  //åŸç†æ˜¯ import Vue from 'vue'
  import Vue from 'vue/dist/vue'
  
  new Vue({
    template:'<h1>ä½ å¥½</h1>'
    //render: h => h(App),
  }).$mount('#app')
  
  ```

  æˆåŠŸè§£å†³

+ **è§£å†³æ–¹æ³•2ï¼šä½¿ç”¨renderå‡½æ•°**

  ```javascript
  new Vue({
    render(createElement){
      console.log(createElement);
      /***
       * createElementæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºåˆ›å»ºé¡µé¢å…ƒç´ 
       * å‚æ•°å¯ä»¥æ˜¯ç»„ä»¶ï¼Œhtmlå…ƒç´ 
       */
      //renderå¿…é¡»æœ‰è¿”å›å€¼,ä¸”æ˜¯åˆ›å»ºçš„å…ƒç´ 
      return createElement('h1','ä½ å¥½');
    }
    //render: h => h(App), //ç®€å†™å½¢å¼
  }).$mount('#app')
  ```

#### 3.1.5.2 ä¸åŒç‰ˆæœ¬çš„vue

+ `vue.common.xxx.js`æ˜¯CommonJSè¯­æ³•
+ `vue.esm.xxx.js`æ˜¯EScriptè¯­æ³•ï¼Œmä»£è¡¨modules
+ `vue.js`æ˜¯å®Œæ•´ç‰ˆçš„vueï¼Œ ï¼ˆåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½+æ¨¡ç‰ˆè§£æå™¨ï¼‰
+ `vue.runtime.esm/commom.js`æ˜¯è¿è¡Œæ—¶çš„vueï¼Œï¼ˆåªåŒ…å«ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼‰

> å› ä¸º`vue.runtime.commom.js`æ²¡æœ‰æ¨¡ç‰ˆè§£æå™¨ï¼Œæ‰€ä»¥ä¸èƒ½ç”¨templateé…ç½®é¡¹ï¼Œéœ€è¦ä½¿ç”¨renderå‡½æ•°æ¥å—åˆ°`createElement`å»åˆ›å»ºhtmlå†…å®¹

### 3.1.6 ä¿®æ”¹vue-cliçš„å…¨å±€é…ç½®

```shell
# ç”¨äºæŸ¥çœ‹vueçš„webpackçš„é…ç½®
vue inspect > vue.config.webpack.json
```

æ¯”å¦‚æƒ³è¦ä¿®æ”¹å…¥å£æ–‡ä»¶åä¸º`index.js`

é…ç½®å‚è€ƒæŒ‡ä»¤ï¼šhttps://cli.vuejs.org/zh/config/

**ç¤ºä¾‹ï¼š**

```javascript
//vue.config.jsæ–‡ä»¶ å’Œsrcç›®å½•å¹³çº§
const { defineConfig } = require('@vue/cli-service')
module.exports = defineConfig({
  transpileDependencies: true,
  pages: {
    index: {
      //é‡ç½®å…¥é—¨æ–‡ä»¶
      entry: 'index.js'
    }
  },
  //å…³æ‰jsè¯­æ³•æ£€æŸ¥
  lintOnSave:false
})
```

## 3.2 refä¸propså±æ€§

### 3.2.1 ==*refæ ‡ç­¾å±æ€§*==

ç±»ä¼¼äºä¸domæ ‡ç­¾ä¸­åŸç”Ÿçš„`id`å±æ€§ï¼Œéƒ½æ˜¯ç”¨æ¥å®šä½å…ƒç´ çš„ã€‚

+ refè¢«ç”¨æ¥ç»™å…ƒç´ æˆ–**å­ç»„ä»¶**æ³¨å†Œå¼•ç”¨ä¿¡æ¯ï¼ˆidçš„æ›¿ä»£è€…ï¼‰
+ refåº”ç”¨åœ¨htmlæ ‡ç­¾ä¸Šè·å–çš„æ˜¯çœŸå®DOMå…ƒç´ ï¼Œåº”ç”¨åœ¨**ç»„ä»¶æ ‡ç­¾**ä¸Šæ˜¯ç»„ä»¶å®ä¾‹å¯¹è±¡vcï¼ˆç†è§£ä¸ºjavaç±»çš„å®ä¾‹ï¼‰

```javascript
//domå®šä½å…ƒç´ 
document.getElementById(xx)
//this æ˜¯å½“å‰ç»„ä»¶çš„VueComponentï¼ˆæ˜¾ç¤ºåŸå‹é“¾æ¡ï¼‰ ç”¨äºåœ¨ç»„ä»¶ä¸­ä»£æ›¿åŸç”Ÿdomæ“ä½œæ‰åˆ°å…ƒç´ 
console.log(this.$refs.stu);
```

***æ³¨æ„ï¼š***

+ refç”¨åœ¨htmlæ ‡ç­¾ä¸Šï¼Œå’Œidå±æ€§å®Œå…¨ä¸€æ ·ï¼Œ**è·å–çš„æ˜¯æ ‡ç­¾å…ƒç´ **

  ```html
      <h1 v-text="msg" ref="title" id='title'></h1>
  ```

+ **refç”¨åœ¨ç»„ä»¶ä¸Šï¼Œåˆ™refè·å–åˆ°çš„æ˜¯ç»„ä»¶çš„å®ä¾‹å¯¹è±¡vcï¼ˆéšå¼åŸå‹é“¾æ¡ï¼‰ï¼Œè€Œidè·å–åˆ°çš„æ˜¯æ•´ä¸ªç»„ä»¶htmlçš„æ ‡ç­¾å…ƒç´ (==ä¸»è¦ç”¨äºç»„ä»¶é—´é€šä¿¡==)**

  ```html
  <School ref="stu" id='stu'/>
  ```

![](./_media/image-20230420163746189.png)

### 3.2.2 ==*propså±æ€§*==

ç”¨äº***çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ é€’å±æ€§***ã€‚å­ç»„ä»¶çš„æ•°æ®ç”±çˆ¶ç»„ä»¶åœ¨ç»„ä»¶æ ‡ç­¾ä¸­ï¼Œå£°æ˜ä¼ é€’ã€‚

#### 3.2.2.1 ç®€å•ä½¿ç”¨props

+ å­ç»„ä»¶

  ```vue
  <template>
    <div>
      <h1 v-text="msg"></h1>
        <!-- age name sexè¢«æŒ‚è½½åˆ°å½“å‰ç»„ä»¶çš„çš„å®ä¾‹ å¯ä»¥ç”¨this.nameè·å–åˆ°-->
      <h4>å­¦ç”Ÿå§“åï¼š{{name}} </h4>
      <h4>å­¦ç”Ÿæ€§åˆ«ï¼š{{sex}} </h4>
      <h4>å­¦ç”Ÿå¹´é¾„ï¼š{{age}} </h4>
    </div>
  </template>
  
  <script>
  export default {
      name:'Student',
      data(){
          return {
              msg:'æ¬¢è¿ï¼Œ'
          }
      }, 
      //propsçš„ç®€å•é…ç½® å¿…é¡»åŠ å¼•å·ï¼Œå› ä¸ºä¸åŠ å¼•å·æ˜¯å˜é‡
      props: ['age','name','sex']
  }
  </script>
  ```

  ![](./_media/image-20230420204731289.png)

+ çˆ¶ç»„ä»¶ä½¿ç”¨å­ç»„ä»¶

  ```vue
  <template>
      <div>
          <!-- 
  			1.æ‰€æœ‰çš„propså±æ€§å¿…é¡»é€šè¿‡æ ‡ç­¾å±æ€§çš„æ–¹å¼ä¼ é€’åˆ°å­ç»„ä»¶
  			2.çˆ¶å­ç»„ä»¶ propså±æ€§ä¸­propå¿…é¡»åç§°ï¼ˆå˜é‡åç›¸åŒï¼‰
  			3.propå¿…é¡»å¸¦å¼•å·ï¼Œå³key="value"
  			4.æœ€é‡è¦çš„ä¸€ç‚¹ï¼Œè¿™æ ·ä¼ é€’çš„å±æ€§æœ€åéƒ½æ˜¯Stringç±»å‹çš„ï¼Œå¦‚æœæƒ³è¦ä¼ é€’ jsè¡¨è¾¾å¼æˆ–æ•°å­—ï¼Œå…¶ä»–ç±»å‹æ•°æ®å¿…é¡»ï¼Œä½¿ç”¨æŒ‡ä»¤v-bind(é‡Œé¢çš„å°±æ˜¯è¡¨è¾¾å¼äº†) ç®€å†™ä¸º :age='18',é‚£ä¹ˆå­ç»„ä»¶æ¥å—åˆ°çš„å°±æ˜¯Numberç±»å‹çš„18
  		-->
          <Student name="å¼ ä¸‰" sex="ç”·" age="18" /> <hr>
      </div>
  </template>
  ```

+ è¿è¡Œï¼Œé¡µé¢æˆåŠŸæ˜¾ç¤ºæ•°æ®

#### 3.2.2.2 è¿›é˜¶ä½¿ç”¨props

+ å­ç»„ä»¶

  ```vue
  <template>
    <div>
      <h1 v-text="msg"></h1>
      <h4>å­¦ç”Ÿå§“åï¼š{{name}} </h4>
      <h4>å­¦ç”Ÿæ€§åˆ«ï¼š{{sex}} </h4>
      <h4>å­¦ç”Ÿå¹´é¾„ï¼š{{age}} </h4>
    </div>
  </template>
  
  <script>
  export default {
      name:'Student',
      data(){
        console.log(this);
          return {
              msg:'æ¬¢è¿ï¼Œ'
          }
      }, 
      	//propsçš„ç®€å•é…ç½® props: ['age','name','sex']
      //propsçš„è¿›é˜¶é…ç½®,å£°æ˜å˜é‡çš„åŒæ—¶æŒ‡å®šç±»å‹ï¼Œå¦‚æœä¼ é€’çš„ç±»å‹ä¸ä¸€è‡´ï¼Œä¼šæŠ¥é”™
      props:{
        name:String,//æŒ‡å®šä¸ºStringç±»å‹
        sex:String,
        age:Number//æŒ‡å®šä¸ºNUmberç±»å‹
      }
  }
  </script>
  ```

+ çˆ¶ç»„ä»¶

  ```vue
  <template>
      <div>
          <!-- ç”±äºå­ç»„ä»¶æŒ‡å®šäº† ageä¸ºNumberç±»å‹ï¼Œåˆ™å¿…é¡»è¦ç”¨åˆ°v-bindæŒ‡ä»¤-->
          <Student name="å¼ ä¸‰" sex="ç”·" :age="18"/> <hr>
      </div>
  </template>
  ```

+ æˆåŠŸè¿è¡Œ

#### 3.2.2.3 é«˜çº§ä½¿ç”¨props

+ å­ç»„ä»¶

  ```vue
  <template>
    <div>
      <h1 v-text="msg"></h1>
      <h4>å­¦ç”Ÿå§“åï¼š{{name}} </h4>
      <h4>å­¦ç”Ÿæ€§åˆ«ï¼š{{sex}} </h4>
      <h4>å­¦ç”Ÿå¹´é¾„ï¼š{{age}} </h4>
    </div>
  </template>
  
  <script>
  export default {
      name:'Student',
      data(){
        console.log(this);
          return {
              msg:'æ¬¢è¿ï¼Œ'
          }
      },
      //propsçš„é«˜çº§é…ç½®
      props:{
          //propå±æ€§ 
        name:{
          type: String, //ç±»å‹ String
          required: true,//å¿…é¡»
        },
        sex:{
          type: String,
          required: true,
        },
        age: {
          type: Number,
          default: 22 //ä¸å¿…é¡» é»˜è®¤ä¸ºå€¼
        }
      }
  }
  </script>
  ```

+ çˆ¶ç»„ä»¶

  ```vue
  <template>
      <div>
          <Student name="å¼ ä¸‰" sex="ç”·" /> <hr>
      </div>
  </template>
  ```

+ æˆåŠŸè¿è¡Œ

> å¤‡æ³¨ï¼špropsæ˜¯åªè¯»çš„ï¼ŒVueåº•å±‚ä¼šç›‘æµ‹ä½ å¯¹propsçš„ä¿®æ”¹ï¼Œå¦‚æœè¿›è¡Œäº†ä¿®æ”¹ï¼Œå°±ä¼šå‘å‡ºè­¦å‘Šï¼Œè‹¥ä¸šåŠ¡éœ€æ±‚ç¡®å®éœ€è¦ä¿®æ”¹ï¼Œé‚£ä¹ˆè¯·å¤åˆ¶propsçš„å†…å®¹åˆ°dataä¸­ä¸€ä»½ï¼Œç„¶åå»ä¿®æ”¹dataä¸­çš„æ•°æ®ã€‚

#### 3.2.2.4 æ€ä¹ˆä¼ é€’Objectå¯¹è±¡ï¼Ÿï¼Ÿ

+ å°†å¯¹è±¡è½¬åŒ–ä¸ºjsonå­—ç¬¦ä¸²ï¼Œç„¶åå­ç»„ä»¶ä¸­å£°æ˜å…¶ä¸ºå¯¹è±¡

  - çˆ¶ç»„ä»¶

    ```vue
    // propsä½¿ç”¨
    <template>
        <div>
            <Student name="å¼ ä¸‰" sex="ç”·" :object="object" :json="{'value':'i am  props object value by json string','text':'...'}" /> <hr>
        </div>
    </template>
    
    ```

  - å­ç»„ä»¶

    ```vue
    // propsä½¿ç”¨
    <template>
      <div>
        <h4>object:{{object}}</h4>
        <h4>object.value:{{object.value}}</h4>
        <br>
        <h4>json:{{json}}</h4>
        <h4>json.value:{{json.value}}</h4>
      </div>
    </template>
    
    <script>
    export default {
        name:'Student',
        props:{
          object: {
            type: Object
          },
          json: {
            type: Object
          }
        }
    }
    </script>
    ```

  - è¿è¡Œç»“æœ

    ![](./_media/image-20230829144557594.png)

+ çˆ¶ç»„ä»¶é€šè¿‡dataç›´æ¥å°†å¯¹è±¡ä¼ é€’è¿‡å»ï¼Œå­ç»„ä»¶ä¸­å£°æ˜å…¶ä¸ºå¯¹è±¡

  - çˆ¶ç»„ä»¶

    ```vue
    <template>
        <div>
            <Student name="å¼ ä¸‰" sex="ç”·" :object="object"/> <hr>
        </div>
    </template>
        
    <script>
        import Student from './components/Student.vue'
        export default {
            name: 'App',
            data(){
                return {
                    object:{
                        value: "i am  props object value",
                        text: "..."
                    }
                }
            },
            components: {Student}
        }
    </script>
    ```

  - å­ç»„ä»¶

    ```vue
    <template>
      <div>
        <h4>å­¦ç”Ÿå¹´é¾„ï¼š{{age}} </h4>
        <br>
        <h4>object:{{object}}</h4>
        <h4>object.value:{{object.value}}</h4>
      </div>
    </template>
    
    <script>
    export default {
        name:'Student',
        props:{
          age: {
            type: Number,
            default: 22
          },
          object: {
            type: Object //æŒ‡å®špropå±æ€§ä¸ºObject
          }
        }
    }
    </script>
    ```

  - è¿è¡Œç»“æœ

    ![](./_media/image-20230829143946333.png)



## 3.3 æ··å…¥(Mixin)

### 3.3.1 å¼•å…¥

â€‹	å¦‚å¤šä¸ªç»„ä»¶å…·æœ‰ç›¸åŒçš„methodså‡½æ•°ï¼ˆæˆ–å…¶ä½™é…ç½®å¦‚ç»„ä»¶ç­‰ï¼‰ï¼Œåˆ™å¯ä»¥å°†å…¶ç›¸åŒå‡½æ•°æŠ½å‡ºæ¥æ”¾åœ¨é¢å¤–çš„é…ç½®æ–‡ä»¶ä¸­ï¼ˆå¦‚mixin.jsï¼‰ï¼Œç„¶åå¼•ç”¨ã€‚è¿™ä¸ªè¿‡ç¨‹å°±å«åšæ··å…¥ã€‚

### 3.3.2 *æ•°æ®å†²çª*

+ å¯¹äº==***methodsï¼Œdataæ•°æ®***==å½“å‰ç»„ä»¶ä¸­æ²¡æœ‰ï¼Œæ··åˆmixinæ–‡ä»¶ä¸­æœ‰çš„ï¼Œä»¥mixinæ–‡ä»¶ä¸ºå‡†ã€‚
+ å¯¹äº==***methodsï¼Œdataæ•°æ®***==å½“å‰ç»„ä»¶ä¸­æœ‰ï¼Œæ··åˆmixinæ–‡ä»¶ä¸­ä¹Ÿæœ‰çš„ï¼Œä»¥å½“å‰ç»„ä»¶çš„é…ç½®ä¸ºå‡†ï¼ˆå¿½ç•¥mixinï¼‰ã€‚
+ å¯¹äº==***vueå‘¨æœŸå‡½æ•°å¦‚ï¼šmounted***==ï¼Œåˆ™æ˜¯å åŠ ã€‚å¦‚æœéƒ½æœ‰åˆ™éƒ½ä¼šæ‰§è¡Œï¼Œä¸ä¼šåªæ‰§è¡Œä¸€ä¸ªã€‚**å¯¹äºåŒåå‘¨æœŸå‡½æ•°ï¼šå…ˆæ‰§è¡Œmixinä¸­çš„å‘¨æœŸå‡½æ•°ï¼Œç„¶åæ‰ä¼šæ‰§è¡Œè‡ªå·±ç»„ä»¶ä¸­çš„åŒåå‘¨æœŸå‡½æ•°**ã€‚

### 3.3.3 åˆ†ç±»

#### 3.3.3.1 å±€éƒ¨æ··åˆ

**å±€éƒ¨æ··åˆ**ï¼šç»„ä»¶å¼•å…¥æ··åˆmixinæ–‡ä»¶å¹¶ä½¿ç”¨

**èŒƒå›´**ï¼šåªå¯¹å½“å‰ç»„ä»¶ç”Ÿæ•ˆ

+ å®šä¹‰æ··å…¥æ–‡ä»¶å¦‚`mixin.js`ï¼Œç¼–å†™å…¬å…±é…ç½®

  ```javascript
  //mixinä½¿ç”¨ åˆ†åˆ«æš´éœ²æ–¹å¼
  export const mixin = {
      //è¿™é‡Œå¯ä»¥å†™vcä¸­çš„methodsï¼Œdata,mountedç­‰(vcä¸­å¯ä»¥å†™çš„é…ç½®ï¼Œè¿™é‡Œéƒ½å¯ä»¥)
      methods: {
          showAlert(){
              alert(this.name);
          }
      },
      //ä¸€æŒ‚è½½å¥½å°±æ‰§è¡Œçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°
      mounted(){
          console.log("å·²ç»æŒ‚è½½å®Œæˆï¼");
      }
  }
  ```

+ ç»„ä»¶ä¸­å¼•å…¥ä½¿ç”¨

  ```vue
  // mixinä½¿ç”¨
  <template>
    <div>
      <h1 v-text="msg"></h1>
      <h4 @click='showAlert'>å­¦ç”Ÿå§“åï¼š{{name}} </h4>
    </div>
  </template>
  
  <script>
  //å¼•å…¥æ··åˆmixinæ–‡ä»¶
  import {mixin} from '../mixin'
  //mixinä½¿ç”¨
  export default {
      name:'Student',
      data(){
          return {
              msg: 'æ¬¢è¿ï¼Œ',
              name: 'å¼ ä¸‰'
          }
      },
      mixins:[mixin]//å¿…é¡»æ˜¯æ•°ç»„
  }
  </script>
  ```

+ æµ‹è¯•è¿è¡Œ

  ![](./_media/image-20230829154045961.png)

#### 3.3.3.2 å…¨å±€æ··åˆ

**å…¨å±€æ··åˆ**ï¼šå…¥å£æ–‡ä»¶`main.js`ä¸­å¼•å…¥å¹¶ä½¿ç”¨

**èŒƒå›´**ï¼šå¯¹vmå’Œæ‰€æœ‰ç»„ä»¶å®ä¾‹éƒ½æœ‰æ•ˆï¼Œå³`vm+æ‰€æœ‰çš„vc`

+ å®šä¹‰æ··å…¥æ–‡ä»¶å¦‚`mixin.js`ï¼Œç¼–å†™å…¬å…±é…ç½®ï¼ˆå’Œæ··åˆä½¿ç”¨çš„å®Œå…¨ä¸€æ ·ï¼‰

+ å…¥å£æ–‡ä»¶`main.js`å¼•å…¥ä½¿ç”¨

  ```javascript
  import Vue from 'vue'
  import App from './App'
  //å¼•å…¥mixinæ–‡ä»¶
  import {mixin} from './mixin'
  
  Vue.config.productionTip = false;
  //æŒ‚è½½åˆ°å…¨å±€vueä¸Š
  Vue.mixin(mixin)
  
  new Vue({
      render: h => h(App)
  }).$mount('#app')
  ```

+ æµ‹è¯•è¿è¡Œ

  ![](./_media/image-20230829154455511.png)

  ![](./_media/image-20230829154547885.png)

## 3.4 æ’ä»¶

### 3.4.1 åŠŸèƒ½

ç”¨äºå¢å¼ºVueï¼Œæ’ä»¶æ–‡ä»¶å¯ä»¥å®šä¹‰å¦‚ä¸‹å‡ ç§åŠŸèƒ½ï¼š

+ **å®šä¹‰Vueå…¨å±€è¿‡æ»¤å™¨ï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰**
+ **å®šä¹‰Vueå…¨å±€è‡ªå®šä¹‰æŒ‡ä»¤ï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰**
+ **å®šä¹‰Vueå…¨å±€æ··å…¥mixinï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰**
+ **å‘VueåŸå‹ä¸Šæ·»åŠ æ•°æ®å’Œå‡½æ•°ï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰**

### 3.4.2 æœ¬è´¨

æ’ä»¶æœ¬è´¨ä¸Šå°±æ˜¯åŒ…å«installæ–¹æ³•çš„å¯¹è±¡ï¼Œ**installå†…éƒ¨ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºVueåŸå‹ï¼ˆä¸æ˜¯vmï¼Œvueä¼ é€’ï¼‰**ï¼Œç¬¬äºŒä¸ªä»¥åŠä»¥åçš„å‚æ•°ä¸ºå¼€å‘è€…ä¼ é€’çš„å‚æ•°ã€‚

### 3.4.3 ä½¿ç”¨

+ å®šä¹‰æ’ä»¶æ–‡ä»¶å¦‚`plugins.js`

  ```javascript
  //æ’ä»¶æœ¬è´¨ä¸Šæ˜¯ åŒ…å«installæ–¹æ³•çš„å¯¹è±¡
  export default { //é»˜è®¤æš´éœ²çš„ç®€å†™æ–¹å¼
      install(Vue,x,y,z){
          console.log(Vue,x,y,z);
          //1.å¯ä»¥å®šä¹‰å…¨å±€çš„è¿‡æ»¤å™¨ ï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰
          Vue.filter('myFilter',function(value){
              return value + "~";//åŠŸèƒ½ï¼šåŠ ä¸ª~
          })
          //2.å¯ä»¥å®šä¹‰å…¨å±€çš„è‡ªå®šä¹‰æŒ‡ä»¤ ï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰
          Vue.directive('fbind',{
              //åŠŸèƒ½ï¼šå®ç°v-bindåŠŸèƒ½å¹¶å®ç°è‡ªåŠ¨èšç„¦
              //æŒ‡ä»¤ä¸å…ƒç´ æˆåŠŸç»‘å®šæ—¶ï¼ˆä¸€ä¸Šæ¥ï¼‰
              bind(element,binding){
                  element.value=binding.value;
              },
              //æŒ‡ä»¤æ‰€åœ¨çš„å…ƒç´ è¢«æ’å…¥é¡µé¢æ—¶ï¼ˆç”Ÿæˆdomå…ƒç´ æ—¶ï¼‰
              inserted(element,binding){
                  element.focus();
              },
              //æŒ‡ä»¤æ‰€åœ¨çš„æ¨¡ç‰ˆè¢«é‡æ–°è§£ææ—¶
              update(element,binding){
                  element.value=binding.value;
              }    
              
          })
          //3.å®šä¹‰å…¨å±€çš„æ··å…¥mixin ï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰
          Vue.mixin({
              data(){
                  return {
                      x: 100,
                      y: 200
                  }
              }
          })
          //4.ç»™VueåŸå‹ä¸Šæ·»åŠ ä¸€ä¸ªæ–¹æ³•ï¼ˆvmå’Œæ‰€æœ‰çš„vcéƒ½èƒ½ä½¿ç”¨ï¼‰
          Vue.prototype.hello=() =>{alert("ä½ å¥½ï¼")}
      }   
  }
  ```

+ å…¥å£æ–‡ä»¶`main.js`ä¸­ä½¿ç”¨`Vue.use(xxx)`

  ```javascript
  import Vue from 'vue'
  import App from './App'
  //å¼•å…¥æ’ä»¶
  import plugins from './plugins'
  
  Vue.config.productionTip = false;
  //ä½¿ç”¨æ’ä»¶å¹¶ä¼ é€’å‚æ•°
  Vue.use(plugins,22,111,333)
  
  new Vue({
      render: h => h(App)
  }).$mount('#app')
  ```

+ ç»„ä»¶`School`ä½¿ç”¨æ’ä»¶å®šä¹‰çš„åŠŸèƒ½

  ```vue
  
  <template>
    <div>
      <h1 v-text="msg"></h1>
      <!-- ä½¿ç”¨è‡ªå®šä¹‰è¿‡æ»¤å™¨ å·²ç»æŒ‚è½½åˆ°VueåŸå‹ä¸Šäº† -->
      <h4>å­¦ç”Ÿå§“åï¼š{{name|myFilter}} </h4>
        <!-- ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ -->
      <input type="text" v-fbind:value="name" />
      <!-- hello=this.helloè¿™é‡Œçš„thiså°±æ˜¯vc -->
      <button @click="hello">hello</button>
    </div>
  </template>
  
  <script>
  
  export default {
      name:'Student',
      data(){
          return {
              msg: 'æ¬¢è¿ï¼Œ',
              name: 'å¼ ä¸‰'
          }
      }
  }
  </script>
  ```

+ æµ‹è¯•è¿è¡Œ

  ![](./_media/image-20230829162918613.png)

  ![](./_media/image-20230829163006073.png)

## 3.5 scopedæ ·å¼

### 3.5.1 å¼•å…¥

åœ¨vueä¸­çš„æ‰€æœ‰ç»„ä»¶å®šä¹‰çš„æ ·å¼ï¼ˆ`<style>`æ ‡ç­¾ä¸­ï¼‰ï¼Œæœ€ç»ˆéƒ½ä¼šæ±‡æ€»åˆ°`App.vue`è¿™ä¸ªæœ€é¡¶å±‚çš„ç»„ä»¶ä¸­ã€‚è¿™å°±æœ‰å¯èƒ½å¯¼è‡´**cssæ ·å¼å†²çª**ï¼ŒåŠ å…¥**scoped**ï¼ˆä»£è¡¨åªåœ¨å½“å‰ç»„ä»¶ä¸­æœ‰æ•ˆï¼‰å°±å¯ä»¥è§£å†³è¿™ç§æƒ…å†µã€‚

### 3.5.2 csså†²çª

+ å®šä¹‰`School.vue`ç»„ä»¶ï¼Œå£°æ˜æ ·å¼

  ```vue
  <style>
  .demo{
    background-color: orange;
  }
  </style>
  ```

+ å®šä¹‰`Student.vue`ç»„ä»¶ï¼Œå£°æ˜æ ·å¼

  ```vue
  <style>
  .demo{
    background-color: blue;
  }
  </style>
  ```

+ é¡¶çº§ç»„ä»¶`App.vue`ä¸­ä½¿ç”¨`Student.vue`å’Œ`School.vue`

  ```vue
  <template>
      <div>
          <Student class="demo" /> <hr>
      </div>
  </template>
      
  <script>
      //Schoolç»„ä»¶å’ŒStudentç»„ä»¶çš„æ ·å¼styleæœ€ç»ˆéƒ½ä¼šæ±‡æ€»åˆ°é¡¶çº§ç»„ä»¶ä¸­ï¼Œå°±å­˜åœ¨æ ·å¼å†²çª
      //Schoolåå¼•å…¥å°±è¦†ç›–äº†Studentç»„ä»¶ demoæ ·å¼
      import Student from './components/Student.vue'
      import School from './components/School.vue'
      export default {
          name: 'App',
          components: {Student}
      }
  </script>
  <style>
  
  </style>
  ```

+ æµ‹è¯•è¿è¡Œ

  ![](./_media/image-20230830144320809.png)

### 3.5.3 è§£å†³æ–¹æ³•

è§£å†³ç»„ä»¶cssæ ·å¼å†²çªæ–¹æ³•ï¼š**åœ¨æ¯ä¸ªç»„ä»¶ä¸­åŠ ä¸Š`scoped`å±æ€§ï¼Œè¡¨ç¤ºè¯¥æ ·å¼åªåœ¨å½“å‰ç»„ä»¶ä¸­ä½¿ç”¨**

```vue
<style scoped>
.demo{
  background-color: blue;
}
</style>
```

### 3.5.4 åŸç†

æ¯ä¸ªç»„ä»¶çš„`style`æ‰“ä¸Š`scoped`æ ‡ç­¾åï¼Œé‚£ä¹ˆæœ€åä¼šè¢«vueæ·»åŠ éšæœºå”¯ä¸€çš„æ ‡ç­¾å±æ€§å¦‚ï¼š`data-v-xxxx`

+ `data-v-7ba5bd90` ä»£è¡¨æ˜¯æœ€å¤–å±‚çš„ç»„ä»¶`App.vue`ä¸­`style`
+ `data-v-22321ebb` ä»£è¡¨æ˜¯ç»„ä»¶`Student.vue`ä¸­`style`
+ `data-v-3375b0b8` ä»£è¡¨æ˜¯ç»„ä»¶`School.vue`ä¸­`style`

é‚£ä¹ˆå¦‚æœæƒ³å®šä½æŸä¸ªå…ƒç´ æ¯”å¦‚ä¸‹é¢åœˆï¼š

- classé€‰æ‹©å™¨+æ ‡ç­¾å±æ€§é€‰æ‹©å™¨ `.demo[data-v-22321ebb]`

![](./_media/image-20230831135200697.png)

### 3.5.5 æ³¨æ„äº‹é¡¹

vueä¸­å¯ä»¥æŒ‡å®šæ ·å¼è¯­æ³•`css`æˆ–`less`

+ `css`

  ```vue
  //ä¸åŠ langé»˜è®¤å°±æ˜¯css  scopedè¡¨ç¤ºä½œç”¨åŸŸ
  <style lang='css' scoped>
  .demo{
    background-color: blue;
  }
  </style>
  ```

+ `less`

  ```vue
  <style lang='less' scoped>
  .demo{
    background-color: blue;
  }
  </style>
  ```

  > ä½¿ç”¨`less`å¦‚æœå‡ºç°æŠ¥é”™`Module not found: Error: Can't resolve 'less-loader' in 'D:\0\JWork\vscode\Vue\src\vue_demo'`åˆ™è¡¨ç¤ºéœ€è¦å®‰è£…`less-loader`æ’ä»¶
  >
  > æ¸©é¦¨æç¤ºï¼šæ³¨æ„`less-loader`è¦å…¼å®¹`vue`ä¸­`webpack`ç‰ˆæœ¬

### 3.5.6 é¡¶å±‚ç»„ä»¶`App.vue`ä¸­`scoped`

ç”±äºæ‰€æœ‰ç»„ä»¶ä¸­`style`æœ€åéƒ½ä¼šæ±‡æ€»åœ¨`App.vue`ä¸­ï¼Œæ‰€ä»¥ç›´æ¥åœ¨`App.vue`ä¸­å£°æ˜çš„`style`**å¯¹å­ç»„ä»¶å†…åŠè‡ªèº«éƒ½æœ‰æ•ˆ**ï¼Œå¦‚æœ`App.vue`ä¸­æŒ‡å®šäº†`scoped`ï¼Œé‚£ä¹ˆå…¶è‡ªèº«çš„`style`**åªå¯¹è‡ªèº«æœ‰æ•ˆï¼Œå¯¹å­ç»„ä»¶å†…æ— æ•ˆ**ã€‚

> å­ç»„ä»¶å†…ï¼šå°±æ˜¯`school.vue`ä¸­
>
> è‡ªèº«ï¼šå°±æ˜¯`App.vue`ä¸­ï¼ŒåŒ…æ‹¬å­ç»„ä»¶çš„æ ‡ç­¾`<School />`

## 3.6 ç»„ä»¶åŒ–ç¼–ç æµç¨‹

+ å®ç°é™æ€ç»„ä»¶

  æŠ½å–ç»„ä»¶ï¼Œä½¿ç”¨ç»„ä»¶å®ç°é™æ€é¡µé¢æ•ˆæœ

+ å±•ç¤ºåŠ¨æ€æ•°æ®

  - æ•°æ®çš„ç±»å‹ï¼Œåç§°æ˜¯ä»€ä¹ˆï¼Ÿ
  - æ•°æ®ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶ï¼Ÿ

+ äº¤äº’-ä»ç»‘å®šäº‹ä»¶ç›‘å¬å¼€å§‹

## 3.7 Todo-listé¡¹ç›®

### 3.7.1 åˆ†æ

å°†é¡¹ç›®æ‹†åˆ†ä¸ºå¦‚ä¸‹5ä¸ªç»„ä»¶ï¼š

![](./_media/image-20230830151836147.png)

### 3.7.2 å®ç°é™æ€ç»„ä»¶

è§ä»£ç 

### 3.7.3 å±•ç¤ºåŠ¨æ€æ•°æ®

> æ³¨æ„ï¼švcä¸­`data`,`methods`,`props`,`computed`è¿™äº›ä¸­çš„åå­—ä¸€å®šä¸èƒ½é‡å¤ï¼Œå¦åˆ™ä¼šæŠ¥é”™

#### 3.7.3.1 æ•°æ®çš„ç±»å‹ï¼Œåç§°æ˜¯ä»€ä¹ˆï¼Ÿ

+ æ•°æ®ç±»å‹ï¼šäº‹ä»¶Itemç”¨**æ•°ç»„+å¯¹è±¡**çš„ç±»å‹å­˜å‚¨
+ åç§°ï¼š todos

#### 3.7.3.2 æ•°æ®ä¿å­˜åœ¨å“ªä¸ªç»„ä»¶ï¼Ÿ

+ ä¸€ä¸ªç»„ä»¶åœ¨ç”¨ï¼š**æ”¾åœ¨è‡ªèº«**
+ ä¸€äº›ç»„ä»¶åœ¨ç”¨ï¼š**æ”¾ä»–ä»–ä»¬çš„çˆ¶ç»„ä»¶**ï¼ˆå¦‚è¿™æ¬¡æ˜¯`App.vue`ï¼Œå³çŠ¶æ€æå‡ï¼‰

åœ¨å“ªé‡Œå±•ç¤ºï¼Œå°±æ”¾åˆ°å“ªé‡Œæ˜¯`TodoList.vue`ã€‚ä½†æ˜¯ç”±äºæ²¡æœ‰å­¦ä¹ åˆ°ç»„ä»¶é—´é€šä¿¡ï¼Œæ‰€ä»¥å°†æ•°æ®ä¿å­˜åœ¨`App.vue`ã€‚

![](./_media/image-20230831151026980.png' width='80%' height='80%'>



### 3.7.4 å®ç°äº¤äº’

è§ä»£ç 

### 3.7.5 æ³¨æ„äº‹é¡¹

+ `props`å±æ€§é€‚ç”¨äºï¼š
  - çˆ¶ç»„ä»¶ ==> å­ç»„ä»¶ é€šä¿¡
  - å­ç»„ä»¶ ==> çˆ¶ç»„ä»¶ é€šä¿¡ï¼ˆéœ€è¦çˆ¶å…ˆç»™å­ä¸€ä¸ªå‡½æ•°ï¼‰
+ ä½¿ç”¨`v-model`æ—¶è¦åˆ‡è®°ï¼š`v-model`ç»‘å®šçš„å€¼ä¸èƒ½æ˜¯`props`ä¼ é€’è¿‡æ¥çš„ï¼Œå› ä¸º**`props`çš„å€¼æ˜¯ä¸å…è®¸ä¿®æ”¹**çš„ï¼
+ è‹¥`props`ä¼ é€’è¿‡æ¥çš„å€¼æ˜¯**å¯¹è±¡ç±»å‹ï¼ˆå¼•ç”¨ç±»å‹ï¼‰**çš„å€¼ï¼Œä¿®æ”¹å¯¹è±¡ä¸­çš„å±æ€§æ—¶Vueä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ä¸æ¨èè¿™æ ·åšï¼



## 3.8 æµè§ˆå™¨æœ¬åœ°å­˜å‚¨`webStorage`

+ å­˜å‚¨å¤§å°ä¸€èˆ¬æ”¯æŒ5Må·¦å³ï¼ˆä¸åŒæµè§ˆå™¨ä¼šä¸ä¸€æ ·ï¼‰
+ ä»¥**é”®å€¼å¯¹**æ–¹å¼å­˜å‚¨ï¼Œä¸”**å‡æ˜¯å­—ç¬¦ä¸²ç±»å‹**ï¼ˆå…¶ä½™ç±»å‹éœ€è¦è‡ªå·±è½¬æ¢æˆå­—ç¬¦ä¸²ï¼‰

### 3.8.1 `localStorage`

æ˜¯åœ¨`window`èº«ä¸Šçš„ï¼Œå³å¯ä»¥ç®€å†™ï¼š`window.localStorage=localStorage`

#### 3.8.1.1 API

+ `localStorage.setItem(key,value)`å­˜å‚¨ä¸€ä¸ªæ•°æ®
+ `localStorage.getItem(key)`è¯»å–ä¸€ä¸ªæ•°æ®
+ `localStorage.removeItem(key)`åˆ é™¤ä¸€ä¸ªæ•°æ®
+ `localStorage.clear()`æ¸…ç©ºå½“å‰åŸŸåä¸‹æ‰€æœ‰`localStorage`æ•°æ®

#### 3.8.1.2 ç”Ÿå‘½å‘¨æœŸ

é»˜è®¤æ˜¯æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸçš„

+ å¯ä»¥å­˜å‚¨é™„åŠ ä¿¡æ¯æ¥è®¾ç½®ç”Ÿå‘½å‘¨æœŸ
+ æ¸…é™¤æ‰€æœ‰æ•°æ®`ctrl+alt+del`

#### 3.8.1.3 ç¤ºä¾‹

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalStorage</title>
</head>
<body>
    <h2>LocalStageæ¼”ç¤º</h2>
    <button onclick="saveData()">å­˜å‚¨æ•°æ®</button>
    <button onclick="readData()">è¯»å–æ•°æ®</button>
    <button onclick="deleteData()">åˆ é™¤ä¸€ä¸ªæ•°æ®</button>
    <button onclick="clearData()">æ¸…ç©ºæ•°æ®</button>
    <script>
        function saveData(){
            // window.localStorage å¯ä»¥ç®€å†™ä¸º localStorage
            var person = {name:"å¼ ä¸‰",age:18};
            localStorage.setItem('test','hello!');
            // åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²
            localStorage.setItem("zs",JSON.stringify(person));
        }
        function readData(){
            console.log(localStorage.getItem("test"));
            // è¯»å–ä¸å­˜åœ¨çš„è¿”å›nullè€Œä¸æ˜¯undefined
            console.log(localStorage.getItem("hello"));
            var obj=localStorage.getItem("zs");
            console.log(JSON.parse(obj));
        }
        function deleteData(){
            localStorage.removeItem("test");
        }
        function clearData(){
            localStorage.clear();
        }
    </script>
</body>
</html>
```

### 3.8.2 `sessionStorage`

æ˜¯åœ¨`window`èº«ä¸Šçš„ï¼Œå³å¯ä»¥ç®€å†™ï¼š`window.sessionStorage=sessionStorage`

#### 3.8.2.1 API

+ `sessionStorage.setItem(key,value)`å­˜å‚¨ä¸€ä¸ªæ•°æ®
+ `sessionStorage.getItem(key)`è¯»å–ä¸€ä¸ªæ•°æ®
+ `sessionStorage.removeItem(key)`åˆ é™¤ä¸€ä¸ªæ•°æ®
+ `sessionStorage.clear()`æ¸…ç©ºå½“å‰åŸŸåä¸‹æ‰€æœ‰`sessionStorage`æ•°æ®

#### 3.8.2.2 ç”Ÿå‘½å‘¨æœŸ

é»˜è®¤æ˜¯å½“å‰ä¼šè¯ï¼ˆå½“å‰æ ‡ç­¾é¡µï¼‰

+ å¯ä»¥å­˜å‚¨é™„åŠ ä¿¡æ¯æ¥è®¾ç½®ç”Ÿå‘½å‘¨æœŸ
+ å…³é—­å½“å‰æµè§ˆå™¨ä¼šè¯çª—å£ï¼ˆæ ‡ç­¾é¡µï¼‰ï¼Œç›´æ¥å…³é—­æµè§ˆå™¨æ²¡ç”¨
+ æ¸…é™¤æ‰€æœ‰æ•°æ®`ctrl+alt+del`

> 1. é¡µé¢ä¼šè¯åœ¨æµè§ˆå™¨æ‰“å¼€æœŸé—´ä¸€ç›´ä¿æŒï¼Œ**å¹¶ä¸”é‡æ–°åŠ è½½æˆ–æ¢å¤é¡µé¢ä»ä¼šä¿æŒåŸæ¥çš„é¡µé¢ä¼šè¯ï¼ˆå³ç›´æ¥å…³é—­æµè§ˆå™¨ï¼Œå†æ‰“å¼€å°±æ˜¯æ¢å¤é¡µé¢å³ä¾ç„¶å­˜åœ¨ï¼‰**ã€‚
> 2. åœ¨æ–°æ ‡ç­¾æˆ–çª—å£æ‰“å¼€ä¸€ä¸ªé¡µé¢æ—¶ä¼šå¤åˆ¶é¡¶çº§æµè§ˆä¼šè¯çš„ä¸Šä¸‹æ–‡ä½œä¸ºæ–°ä¼šè¯çš„ä¸Šä¸‹æ–‡ï¼Œè¿™ç‚¹å’Œ session cookies çš„è¿è¡Œæ–¹å¼ä¸åŒï¼ˆ**å³å¦‚æœæ˜¯ä»ä¸€ä¸ªé¡µé¢æ‰“å¼€ä¸€ä¸ªæ–°çš„çª—å£æˆ–è€…ä¸€ä¸ªæ–°çš„ tab é¡µ`<a href="./demo2.html" target="_blank" >è·³è½¬åˆ°é¡µé¢  2</a>`ï¼Œé‚£ä¹ˆè¿™ä¸ªé¡µé¢ä¼šå¤åˆ¶ä¸€ä¸ªé¡¶çº§çª—å£çš„ sessionStorageã€‚**ï¼‰ã€‚
> 3. æ‰“å¼€å¤šä¸ªç›¸åŒçš„URLçš„Tabsé¡µé¢ï¼Œä¼šåˆ›å»ºå„è‡ªçš„sessionStorageã€‚
> 4. å…³é—­å¯¹åº”æµè§ˆå™¨tabï¼Œä¼šæ¸…é™¤å¯¹åº”çš„sessionStorageã€‚

#### 3.8.2.3 ç¤ºä¾‹

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>sessionStorage</title>
</head>
<body>
    <h2>sessionStorageæ¼”ç¤º</h2>
    <button onclick="saveData()">å­˜å‚¨æ•°æ®</button>
    <button onclick="readData()">è¯»å–æ•°æ®</button>
    <button onclick="deleteData()">åˆ é™¤ä¸€ä¸ªæ•°æ®</button>
    <button onclick="clearData()">æ¸…ç©ºæ•°æ®</button>
    <script>
        function saveData(){
            // window.sessionStorage å¯ä»¥ç®€å†™ä¸º sessionStorage
            var person = {name:"å¼ ä¸‰",age:18};
            sessionStorage.setItem('test','hello!');
            // åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²
            sessionStorage.setItem("zs",JSON.stringify(person));
        }
        function readData(){
            console.log(sessionStorage.getItem("test"));
            // è¯»å–ä¸å­˜åœ¨çš„è¿”å›nullè€Œä¸æ˜¯undefined
            console.log(sessionStorage.getItem("hello"));
            var obj=sessionStorage.getItem("zs");
            console.log(JSON.parse(obj));
        }
        function deleteData(){
            sessionStorage.removeItem("test");
        }
        function clearData(){
            sessionStorage.clear();
        }
    </script>
</body>
</html>
```



## 3.9 ==***ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶***==

**ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶**æ˜¯ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äºï¼š**<font color='red'>å­ç»„ä»¶==>çˆ¶ç»„ä»¶</font>**ã€‚å¦‚ï¼šAæ˜¯çˆ¶ç»„ä»¶ï¼ŒBæ˜¯å­ç»„ä»¶ï¼Œ**Bæƒ³ç»™Aä¼ é€’æ•°æ®ï¼Œé‚£ä¹ˆå°±è¦åœ¨Aä¸­ç»™Bç»‘å®šè‡ªå®šä¹‰äº‹ä»¶**ï¼ˆ<font color='red'>äº‹ä»¶çš„å›è°ƒåœ¨Aä¸­</font>ï¼‰ã€‚

ç±»ä¼¼`props`å±æ€§

### 3.9.0 æ³¨æ„äº‹é¡¹

+ ç»™è°(ç»„ä»¶å®ä¾‹vc)ç»‘å®šçš„äº‹ä»¶ï¼Œå°±ç”¨è°ï¼ˆé‚£ä¸ªvcï¼‰**è§¦å‘`$emit`ã€è§£ç»‘`$off`**è¿™ä¸ªè‡ªå®šä¹‰äº‹ä»¶

+ `$emit(eventName,...data)`è¡¨ç¤ºè§¦å‘äº‹ä»¶

+ `$on(eventName,func)`å’Œ`$once(eventNsme,func)`è¡¨ç¤ºç»™äº‹ä»¶ç»‘å®šå›è°ƒå‡½æ•°ï¼Œè§¦å‘äº†å°±è°ƒç”¨ï¼Œ`$once`è¡¨ç¤ºåªè§¦å‘ä¸€æ¬¡

+ ç»„ä»¶æ ‡ç­¾ä¸Šä¹Ÿå¯ä»¥ç»‘å®šåŸç”Ÿdomäº‹ä»¶ï¼Œä½¿ç”¨`native`ä¿®é¥°ç¬¦å³

  ```vue
  <template>
  	<div>
          <!-- 
  				refæ–¹å¼ç»‘å®šäº‹ä»¶
  				@å³v-bindå¸¸è§„ç»‘å®šäº‹ä»¶
  				
  				@click.nativeåŸç”Ÿçš„domäº‹ä»¶
  			-->
          <School ref="school" @secondEvent="demo" @click.native="show"/>
      </div>
  </template>
  ```

+ åœ¨`mounted()`ä¸­é€šè¿‡`this.$refs.xxx.$on('äº‹ä»¶å',å›è°ƒå‡½æ•°)`ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶æ—¶,å›è°ƒå‡½æ•°**è¦ä¹ˆé…ç½®åœ¨`methods`ä¸­ï¼Œè¦ä¹ˆç”¨ç®­å¤´å‡½æ•°**å¦åˆ™ä¼šå‡ºç°`this`æŒ‡å‘é—®é¢˜ã€‚

### 3.9.1 ==***ç»‘å®š***==ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶

#### 3.9.1.1 å¸¸è§„ç»‘å®š

+ **çˆ¶ç»„ä»¶ç»‘å®šäº‹ä»¶**

  ```vue
  <template>
      <div class="demo1">
          <!-- 1.å€ŸåŠ©propså±æ€§å®ç°å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯-->
          <Student :receiveStudentName="receiveStudentName" />
  
          <!-- 2.å€ŸåŠ©è‡ªå®šä¹‰ç»„ä»¶å®ç°å­ç»„ä»¶ç»™çˆ¶ç»„ä»¶ä¼ é€’ä¿¡æ¯
                      è¿™æ ·å°±æ˜¯çˆ¶ç»„ä»¶å°†è‡ªå®šä¹‰äº‹ä»¶ç»‘å®šç»™å­ç»„ä»¶çš„å®ä¾‹(å³vc)
                  ç¬¬ä¸€ç§æ–¹æ³•ï¼šæ ‡å‡†å†™æ³•
                  v-on:sendToUp=""ç®€å†™ @sendToUp=""
              -->
          <School v-on:sendToUp.once="receiveSchoolName"/>
      </div>
  </template>
  <script>
      import School from './components/School.vue'
      export default {
          name: 'App',
          components: {School},
          methods:{
              //...argsæ˜¯es6è¯­æ³• è¡¨ç¤ºargsæ•°ç»„æ¥å—å…¶ä½™å‚æ•°
              receiveSchoolName(name,..args){
                  console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name);
              }
          }
      }
  </script>
  ```

+ **å­ç»„ä»¶è§¦å‘äº‹ä»¶**

  ```vue
  <template>
    <div class="demo">
      <h4>å­¦æ ¡ï¼š{{name}} </h4>
      <!-- è‡ªå®šä¹‰äº‹ä»¶ç»‘å®šåˆ°å­ç»„ä»¶å®ä¾‹ä¸Š(å³vc) -->
      <button @click="sendSchoolNameToApp">ç‚¹æˆ‘ç»™Appä¼ é€’å­¦é™¢å</button>
    </div>
  </template>
  
  <script>
  
  export default {
      name:'School',
      data(){
          return {
              name: 'å¼±æ™ºå­¦é™¢'
          }
      },
      methods:{
        sendSchoolNameToApp(){
          // this.$emit(è‡ªå®šä¹‰äº‹ä»¶å,data1,data2,..) è¿™æ˜¯è§¦å‘äº‹ä»¶åŠ¨ä½œ
          this.$emit('sendToUp',this.name);
          // this.$emit('secondEvent');
          // this.$emit('click');
        }
      }
  }
  </script>
  ```

#### 3.9.1.2 `ref` + `mounted()`æ–¹å¼ç»‘å®š

`ref`ç”¨äºå®šä½vcï¼Œ`mounted()`ç”¨äºç¡®å®šåœ¨ä»€ä¹ˆæ—¶æœºç»‘å®šäº‹ä»¶

+ **çˆ¶ç»„ä»¶ç»‘å®šäº‹ä»¶**

  ```vue
  <template>
      <div class="demo1">
          <!-- .nativeè¡¨ç¤ºdomåŸç”Ÿäº‹ä»¶-->
          <School ref="school" @click.native="show"/>
      </div>
  </template>
  <script>
      import School from './components/School.vue'
      export default {
          name: 'App',
          components: {School},
          methods:{
              //...argsæ˜¯es6è¯­æ³• è¡¨ç¤ºargsæ•°ç»„æ¥å—å…¶ä½™å‚æ•°
              receiveSchoolName(name,..args){
                  console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name);
              },
              mounted(){
                  // è¿™é‡Œschoolå°±æ˜¯æ ‡ç­¾ä¸Šref="school" ä¸æ˜¯ç»„ä»¶çš„åå­— 
                  // $onè¡¨ç¤ºå½“è§¦å‘xxxäº‹ä»¶ï¼Œå°±æ‰§è¡Œå›è°ƒå‡½æ•°
                  //$onceå’Œ$onåŠŸèƒ½ä¸€æ ·ï¼Œä½†æ˜¯åªè§¦å‘ä¸€æ¬¡
                  this.$refs.school.$on("sendToUp",this.receiveSchoolName);
                  // this.$refs.school.$once("sendToUp");   
          }
      }
  </script>
  ```

+ **å­ç»„ä»¶è§¦å‘äº‹ä»¶**

  ```vue
  <template>
    <div class="demo">
      <h4>å­¦æ ¡ï¼š{{name}} </h4>
      <!-- è‡ªå®šä¹‰äº‹ä»¶ç»‘å®šåˆ°å­ç»„ä»¶å®ä¾‹ä¸Š(å³vc) -->
      <button @click="sendSchoolNameToApp">ç‚¹æˆ‘ç»™Appä¼ é€’å­¦é™¢å</button>
    </div>
  </template>
  
  <script>
  
  export default {
      name:'School',
      data(){
          return {
              name: 'å¼±æ™ºå­¦é™¢'
          }
      },
      methods:{
        sendSchoolNameToApp(){
          // this.$emit(è‡ªå®šä¹‰äº‹ä»¶å,data1,data2,..) è¿™æ˜¯è§¦å‘äº‹ä»¶åŠ¨ä½œ
          this.$emit('sendToUp',this.name);
          // this.$emit('secondEvent');
          // this.$emit('click');
        }
      }
  }
  </script>
  ```

#### 3.9.1.3 `ref` + `mounted()`æ–¹å¼ç»‘å®šçš„å‘

##### I thisæŒ‡å‘é—®é¢˜

```vue
<template>
    <div>
        <School ref="school" @secondEvent="demo"/>
    </div>
</template>
<script>
    import School from './components/School.vue'
    export default {
        name: 'App',
        components: {School},
        methods:{
            receiveSchoolName(name){
                console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name);
            },
            demo(){
                console.log("ç¬¬äºŒä¸ªè‡ªå®šä¹‰äº‹ä»¶è§¦å‘äº†...");
            }
        },
        mounted(){
            //1.æ­£ç¡®çš„æ²¡é—®é¢˜ æ­¤å¤„thisæŒ‡å‘Appç»„ä»¶å®ä¾‹
            this.$refs.school.$on("sendToUp",this.receiveSchoolName);
            //2.æœ‰é—®é¢˜ï¼Œå‡½æ•°å†…éƒ¨thisä¸ºè°ƒç”¨çš„è€…vcçš„æ‰§è¡Œï¼ˆå³ï¼‰School
            this.$refs.school.$on("sendToUp",function (name) {
                //æ­¤å¤„thisæŒ‡å‘Schoolç»„ä»¶å®ä¾‹
                 console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name,this);
            });
            //3.æ²¡é—®é¢˜ï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰thisæŒ‡å‘ä¸Šçº§this
            
        }
    }
</script>
```

##### II ç»„ä»¶æ ‡ç­¾ä¸­äº‹ä»¶ä¸åŸç”Ÿdomäº‹ä»¶å†²çª

```vue
<template>
	<div>
        <!-- è¿™æ ·å†™ï¼Œvueä¼šæŠŠclickå½“ä½œæ˜¯è‡ªå®šä¹‰äº‹ä»¶è§£æï¼Œç‚¹å‡»æ ‡ç­¾æ— æ³•è§¦å‘ éœ€è¦ åœ¨è¢«ç»‘å®šçš„vcä¸Šæ‰§è¡Œthis.$emit-->
        <School ref="school" @secondEvent="demo" @click="show"/>
        <!-- ä½¿ç”¨åŸç”Ÿdomäº‹ä»¶çš„æ­£ç¡®ç»‘å®šæ–¹æ³•  @click.native="" nativeå…³é”®å­—è¡¨ç¤ºåŸç”Ÿçš„  -->
        <School @click.native="show"/>
    </div>
</template>
<script>
    import School from './components/School.vue'
    export default {
        name: 'App',
        components: {School},
        methods:{
            receiveSchoolName(name){
                console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name);
            },
            demo(){
                console.log("ç¬¬äºŒä¸ªè‡ªå®šä¹‰äº‹ä»¶è§¦å‘äº†...");
            },
            show(){
                alert(123);
            }
        },
        mounted(){
            // this.$refs.school.$on("sendToUp",this.receiveSchoolName);
            // this.$refs.school.$on("sendToUp",function (name) {
            //      console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name,this);
            // });
            this.$refs.school.$on("sendToUp",(name)=>{
                console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name,this);
            });

        }
    }
</script>
```

### 3.9.2 ==***è§£ç»‘***==ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶

+ **çˆ¶ç»„ä»¶ç»‘å®šäº‹ä»¶**

  ```vue
  <template>
      <div class="demo1">
          <School ref="school" @secondEvent="demo" @click.native="show"/>
      </div>
  </template>
  <script>
      import School from './components/School.vue'
      export default {
          name: 'App',
          components: {School},
          methods:{
              //  ...argsæ˜¯es6è¯­æ³• è¡¨ç¤ºargsæ•°ç»„æ¥å—å…¶ä½™å‚æ•°
              receiveSchoolName(name,...args){
                  console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name);
              },
              demo(){
                  console.log("ç¬¬äºŒä¸ªè‡ªå®šä¹‰äº‹ä»¶è§¦å‘äº†...");
              },
              show(){
                  alert(123);
              }
          },
          mounted(){
              // this.$refs.school.$on("sendToUp",this.receiveSchoolName);
              // this.$refs.school.$on("sendToUp",function (name) {
              //      console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name,this);
              // });
              this.$refs.school.$on("sendToUp",(name)=>{
                  console.log("æ¥æ”¶åˆ°å­¦é™¢åï¼š",name,this);
              });
  
          }
      }
  </script>
  ```

+ **å­ç»„ä»¶è§£ç»‘äº‹ä»¶`$off`**

  ```vue
  <template>
    <div class="demo">
      <h4>å­¦æ ¡ï¼š{{name}} </h4>
      <!-- è‡ªå®šä¹‰äº‹ä»¶ç»‘å®šåˆ°å­ç»„ä»¶å®ä¾‹ä¸Š(å³vc) -->
      <button @click="sendSchoolNameToApp">ç‚¹æˆ‘ç»™Appä¼ é€’å­¦é™¢å</button>
        <!-- è§£ç»‘-->
      <button @click="unbindSchool">ç‚¹æˆ‘è§£ç»‘Schoolçš„è‡ªå®šä¹‰äº‹ä»¶</button>
    </div>
  </template>
  
  <script>
  export default {
      name:'School',
      data(){
          return {
              name: 'å¼±æ™ºå­¦é™¢'
          }
      },
      methods:{
        sendSchoolNameToApp(){
          // this.$emit(è‡ªå®šä¹‰äº‹ä»¶å,data1,data2,..) è¿™æ˜¯è§¦å‘äº‹ä»¶åŠ¨ä½œ
          this.$emit('sendToUp',this.name);
          this.$emit('secondEvent');
          // this.$emit('click');
        },
        unbindSchool(){
          // $offè§£ç»‘
           this.$off('sendToUp');//è§£ç»‘ä¸€ä¸ªè‡ªå®šä¹‰äº‹ä»¶ï¼Œå³secondEventäº‹ä»¶è¿˜æ˜¯ä¼šè¢«è§¦å‘
          // this.$off(['sendToUp','secondEvent']);//è§£ç»‘å¤šä¸ªè‡ªå®šä¹‰äº‹ä»¶ æ•°ç»„
          //this.$off();//è§£ç»‘å½“å‰ç»„ä»¶çš„æ‰€æœ‰è‡ªå®šä¹‰äº‹ä»¶
        }
      }
  }
  </script>
  ```

## 3.7 å…¨å±€äº‹ä»¶æ€»çº¿(GlobalEventBus)

**å€ŸåŠ©`Vue`åŸå‹å’Œ`mounted()`ï¼Œå®ç°ä»»æ„ç»„ä»¶é—´é€šä¿¡**

```javascript
Vue.prototype=VueComponent.prototype._proto_
//vcçš„æ˜¯éšå¼åŸå‹é“¾
Vue.prototype=vc._proto_._proto_
```

### 3.7.0 åŸç†å›¾

![](./_media/å…¨å±€äº‹ä»¶æ€»çº¿åŸç†å›¾.png)

### 3.7.1 å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿

å› ä¸ºè¦ç”¨åˆ°`Vue`çš„åŸå‹ï¼Œé‚£ä¹ˆå°±å¿…é¡»åœ¨å…¥å£æ–‡ä»¶`main.js`ä¸­å†™ï¼š

+ é€šè¿‡ç»„ä»¶å®ä¾‹vcï¼Œå®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿
+ é€šè¿‡vmå€ŸåŠ©ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œå®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿

```javascript
import Vue from 'vue'
import App from './App'

Vue.config.productionTip = false;
/* å…¨å±€äº‹ä»¶æ€»çº¿ å°±æ˜¯æŠŠç¬¬ä¸‰è€…ç»„ä»¶æŒ‚è½½åˆ°VueåŸå‹ä¸Šä»¥ä¾›æ‰€æœ‰çš„vcä½¿ç”¨ æ‰€ä»¥æœ‰ä¸¤ç§æ–¹æ³•ï¼š
	1ã€é€šè¿‡ç»„ä»¶å®ä¾‹vc
    2ã€é€šè¿‡vmå€ŸåŠ©ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°
*/
//1ã€é€šè¿‡ç»„ä»¶å®ä¾‹vcæŒ‚è½½
// const Bus =Vue.extend({});
// Vue.prototype.$bus=new Bus();
new Vue({
    render: h => h(App),
    // 2ã€é€šè¿‡vmå€ŸåŠ©ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œæ›´æ ‡å‡†
    beforeCreate(){
        // å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm
        Vue.prototype.$bus=this
    }
}).$mount('#app')
```

### 3.7.2 ä½¿ç”¨å…¨å±€äº‹ä»¶æ€»çº¿

#### 3.7.2.1 æ¥å—æ•°æ®æ–¹ç»„ä»¶ç»‘å®šäº‹ä»¶`$on`

```vue
<template>
  <div class="demo">
    <h4>å­¦æ ¡ï¼š{{name}} </h4>
  </div>
</template>

<script>
export default {
    name:'School',
    data(){
        return {
            name: 'å¼±æ™ºå­¦é™¢',
            stuName:""
        }
    },
    mounted(){
      // console.log(this);
      // $on ç»‘å®šäº‹ä»¶ ç¬¬äºŒå‚æ•°ä¸ºäº‹ä»¶è¢«è§¦å‘æ—¶çš„å›è°ƒå‡½æ•°
      this.$bus.$on("studentName",(data)=>{
        this.stuName=data;
        alert("æ¥å—åˆ°æ¥è‡ªstudentç»„ä»¶çš„æ•°æ®:" + this.stuName);
      });
    },
    // åœ¨é”€æ¯å‰è§£ç»‘äº‹ä»¶ï¼Œæ›´æ ‡å‡†ï¼Œå› ä¸ºè¿™ä¸ªæ˜¯é€šç”¨ç»„ä»¶
    beforeDestory(){
      // æ³¨æ„è¦æŒ‡å®šè§£ç»‘çš„äº‹ä»¶åå­—
      this.$bus.$off('studentName')
    }
}
</script>
```

#### 3.7.2.2 å‘é€æ–¹ç»„ä»¶è§¦å‘äº‹ä»¶`$emit`

```vue
<template>
  <div>
    <h1 v-text="msg"></h1>
    <h4 class="demo">å­¦ç”Ÿå§“åï¼š{{name}}</h4>
    <button @click="sendStudentNameToApp">ç‚¹æˆ‘ç»™å…„å¼Ÿç»„ä»¶Schoolä¼ é€’å­¦ç”Ÿå</button>
  </div>
</template>

<script>
export default {
    name:'Student',
    data(){
        return {
            msg: 'æ¬¢è¿ï¼Œ',
            name: 'å¼ ä¸‰'
        }
    },
    methods:{
      sendStudentNameToApp(){
        // Vueçš„åŸå‹å¯¹è±¡ä¸Šå±æ€§å¯ä»¥é€šè¿‡åŸå‹é“¾è·å–åˆ°
        this.$bus.$emit('studentName',this.name);
      }
    }
}
</script>
```

#### 3.7.2.3 è¿è¡Œæµ‹è¯•

![](./_media/image-20230906142856708.png)

### 3.7.3 æ³¨æ„äº‹é¡¹

+ **æ¥å—æ•°æ®æ–¹ç»„ä»¶`School`å€ŸåŠ©`mounted()`å‘¨æœŸå‡½æ•°ç»‘å®šå…¨å±€äº‹ä»¶**
+ **æ¥å—æ•°æ®æ–¹ç»„ä»¶`School`æœ€å¥½åœ¨é”€æ¯å‰`beforeDestory(){}`ä¸­è§£ç»‘`$off`è¯¥ç»„ä»¶ç»‘å®šçš„å…¨å±€äº‹ä»¶ï¼Œå› ä¸º`$bus`æ˜¯é€šç”¨çš„**

## 3.8 æ¶ˆæ¯è®¢é˜…ä¸å‘å¸ƒ

ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº**ä»»æ„ç»„ä»¶é—´é€šä¿¡**ã€‚åªæ˜¯ä¸€ç§æ€æƒ³ï¼Œæ²¡æœ‰æ ‡å‡†çš„å®˜æ–¹åº“ï¼Œæœ¬æ¬¡é‡‡ç”¨`pubsub-js`è¿™ä¸ªåº“ã€‚

### 3.8.1 åŸç†

ä¾‹å­è¯´æ˜¯é‚®å±€è®¢æŠ¥çº¸ï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ›´åƒæ˜¯å¹¿æ’­

![](./_media/image-20230906151421569.png)

### 3.8.2 ä½¿ç”¨

#### 3.8.2.1 å®‰è£…`pubsub-js`

```bash
npm i pubsub-js
```

#### 3.8.2.2 è®¢é˜…è€…è®¢é˜…æŒ‡å®šæ¶ˆæ¯

+ å¼•å…¥ç¬¬ä¸‰æ–¹åº“`pubsub`
+ ä½¿ç”¨`subscribe`è®¢é˜…æŒ‡å®šæ¶ˆæ¯`demo`
+ æœ€å¥½åœ¨ç»„ä»¶é”€æ¯å‰ï¼Œä½¿ç”¨`unsubscribe`å–æ¶ˆæ¶ˆæ¯è®¢é˜…

```vue
<template>
  <div class="demo">
    <h4>å­¦æ ¡ï¼š{{name}} </h4>
  </div>
</template>

<script>
// å¼•å…¥ç¬¬ä¸‰æ–¹åº“
import pubsub from 'pubsub-js'
export default {
    name:'School',
    data(){
        return {
            name: 'å¼±æ™ºå­¦é™¢',
            stuName:""
        }
    },
    mounted(){
      // è®¢é˜…æ¶ˆæ¯ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ¶ˆæ¯åç§°ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå›è°ƒå‡½æ•°ã€å‘å¸ƒè€…å‘å¸ƒdemoæ¶ˆæ¯åä¼šè‡ªåŠ¨è°ƒç”¨ã€‘
      // å›è°ƒå‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š1ã€æ¶ˆæ¯åç§°ï¼Œ2ã€æ¥å—åˆ°çš„æ•°æ®
      // æ³¨æ„subscribeå‡½æ•°ä¼šè¿”å›ä¸€ä¸ªpidï¼Œåœ¨å–æ¶ˆè®¢é˜…æ—¶ä½¿ç”¨
      this.pid=pubsub.subscribe('demo',(msgName,data)=>{
        // å¸¸è§„å‡½æ•°æ–¹å¼é‡Œé¢thisä¼šä¸¢å¤±ï¼Œç®­å¤´å‡½æ•°ä¼šè‡ªåŠ¨æ‰¾ä¸Šä¸€çº§
        this.stuName=data;
        console.log("æ¥å—åˆ°æ¥è‡ªstudentç»„ä»¶çš„æ•°æ®:" + this.stuName);
      })
    },
    beforeDestory(){
      // å–æ¶ˆè®¢é˜…æ¶ˆæ¯ï¼ˆæ³¨æ„è¿™ä¸ªå’Œäº‹ä»¶ä¸ä¸€æ ·ï¼‰ï¼Œå‚æ•°æ˜¯pidè€Œä¸æ˜¯æ¶ˆæ¯åç§° 
      pubsub.unsubscribe(this.pid);
    }
}
</script>
```

#### 3.8.2.3 å‘å¸ƒè€…å‘å¸ƒæŒ‡å®šæ¶ˆæ¯

+ å¼•å…¥ç¬¬ä¸‰æ–¹åº“`pubsub`
+ ä½¿ç”¨`publish`å‘å¸ƒæŒ‡å®šæ¶ˆæ¯`demo`

```vue
<template>
  <div>
    <h1 v-text="msg"></h1>
    <h4 class="demo">å­¦ç”Ÿå§“åï¼š{{name}}</h4>
    <button @click="sendStudentNameToApp">ç‚¹æˆ‘ç»™å…„å¼Ÿç»„ä»¶Schoolä¼ é€’å­¦ç”Ÿå</button>
  </div>
</template>

<script>
// å¼•å…¥ç¬¬ä¸‰æ–¹åº“
import pubsub from 'pubsub-js'
export default {
    name:'Student',
    data(){
        return {
            msg: 'æ¬¢è¿ï¼Œ',
            name: 'å¼ ä¸‰'
        }
    },
    methods:{
      sendStudentNameToApp(){
        // å‘å¸ƒæŒ‡å®šæ¶ˆæ¯ ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæŒ‡å®šæ¶ˆæ¯åï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºè¦ä¼ é€’çš„æ•°æ®
        pubsub.publish('demo',this.name);
      }
    }
}
</script>
```

#### 3.8.2.4 æµ‹è¯•è¿è¡Œ

![](./_media/image-20230906154543433.png)

## 3.9 `$nextTick`

+ è¯­æ³•ï¼š

  `this.$nextTick(å›è°ƒå‡½æ•°)`

+ ä½œç”¨ï¼š

  **åœ¨ä¸‹ä¸€æ¬¡DOMæ›´æ–°ç»“æŸåè‡ªå®šæ‰§è¡Œè¯¥å›è°ƒå‡½æ•°**

+ ä»€ä¹ˆæ—¶å€™ç”¨ï¼Ÿ 

  **å½“æ”¹å˜æ•°æ®åï¼Œè¦æ ¹æ®æ–°domä¸­å…ƒç´ è¿›è¡ŒæŸäº›æ“ä½œï¼ˆå¦‚focusï¼‰ï¼Œè¦åœ¨$nextTickæ‰€æŒ‡å®šçš„å›è°ƒå‡½æ•°ä¸­æ‰§è¡Œ**

+ ç¤ºä¾‹

  ```javascript
  edit(todo){ 
      //propså±æ€§æœ€å¥½ä¸è¦ç›´æ¥æ”¹ï¼Œç”¨äº‹ä»¶æ¥æ“ä½œ(ä¸‹é¢æ˜¯ç›´æ¥æ“ä½œçš„)
      // todo.isEdit=true;
      // å“åº”å¼æ•°æ®æ·»åŠ $set  æ‰ä¼šæœ‰å¯¹åº”getå’Œsetæ–¹æ³•ï¼Œæ‰èƒ½ä½¿v-modelç”Ÿæ•ˆ 
      if(!todo.hasOwnProperty('isEdit')) this.$set(todo,'isEdit',true);
      else todo.isEdit=true;
      /*
            ä¸‹é¢è¿™æ ·å†™ä¸ç”Ÿæ•ˆï¼Œè¿™æ˜¯å› ä¸ºå½“å‰inputæ²¡æœ‰æ˜¾ç¤ºï¼Œæ‰€ä»¥è®©ä¸€ä¸ªä¸ç”Ÿæ•ˆçš„inputè·å–ç„¦ç‚¹ä¼šå¤±è´¥çš„
            åŸç†å°±æ˜¯vueåœ¨editè¿™ä¸ªå‡½æ•°å®Œå…¨æ‰§è¡Œå®Œåæ‰ä¼šé‡æ–°è§£ææ¨¡ç‰ˆï¼Œä¸æ˜¯æ”¹ä¸€ä¸ªç«‹é©¬ç”Ÿæ•ˆ
            è§£å†³æ–¹æ³•ï¼š
              1ã€ä½¿ç”¨setTimeoutå®šæ—¶å™¨
              2ã€ä½¿ç”¨$nextTickå‡½æ•°ï¼Œè¯¥å‡½æ•°å†…æŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•°fï¼Œfä¼šåœ¨ä¸‹ä¸€æ¬¡domé‡æ–°è§£æåæ‰§è¡Œ
          */
      // this.$refs.inputBox.focus();//ä¸ç”Ÿæ•ˆ
      // setTimeout(()=>{this.$refs.inputBox.focus()},200)//æ–¹æ³•1
      this.$nextTick(function(){
          this.$refs.inputBox.focus()
      })
  }
  ```

## 3.10 è¿‡åº¦ä¸åŠ¨ç”»

åœ¨è¿›å…¥/ç¦»å¼€çš„è¿‡æ¸¡ä¸­ï¼Œä¼šæœ‰ **6 ä¸ª classå±æ€§** åˆ‡æ¢ã€‚

1. `v-enter`ï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹åçš„ä¸‹ä¸€å¸§ç§»é™¤ã€‚
2. `v-enter-active`ï¼šå®šä¹‰è¿›å…¥è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚åœ¨æ•´ä¸ªè¿›å…¥è¿‡æ¸¡çš„é˜¶æ®µä¸­åº”ç”¨ï¼Œåœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰ç”Ÿæ•ˆï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°ã€‚
3. `v-enter-to`ï¼š**2.1.8 ç‰ˆåŠä»¥ä¸Š**å®šä¹‰è¿›å…¥è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹åä¸‹ä¸€å¸§ç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶ `v-enter` è¢«ç§»é™¤)ï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚
4. `v-leave`ï¼šå®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„å¼€å§‹çŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç«‹åˆ»ç”Ÿæ•ˆï¼Œä¸‹ä¸€å¸§è¢«ç§»é™¤ã€‚
5. `v-leave-active`ï¼šå®šä¹‰ç¦»å¼€è¿‡æ¸¡ç”Ÿæ•ˆæ—¶çš„çŠ¶æ€ã€‚åœ¨æ•´ä¸ªç¦»å¼€è¿‡æ¸¡çš„é˜¶æ®µä¸­åº”ç”¨ï¼Œåœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘æ—¶ç«‹åˆ»ç”Ÿæ•ˆï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ªç±»å¯ä»¥è¢«ç”¨æ¥å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„è¿‡ç¨‹æ—¶é—´ï¼Œå»¶è¿Ÿå’Œæ›²çº¿å‡½æ•°ã€‚
6. `v-leave-to`ï¼š**2.1.8 ç‰ˆåŠä»¥ä¸Š**å®šä¹‰ç¦»å¼€è¿‡æ¸¡çš„ç»“æŸçŠ¶æ€ã€‚åœ¨ç¦»å¼€è¿‡æ¸¡è¢«è§¦å‘ä¹‹åä¸‹ä¸€å¸§ç”Ÿæ•ˆ (ä¸æ­¤åŒæ—¶ `v-leave` è¢«åˆ é™¤)ï¼Œåœ¨è¿‡æ¸¡/åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚

![](./_media/è¿‡æ¸¡çš„å…­ä¸ªçŠ¶æ€png.png)

### 3.10.1 å•å…ƒç´ `CSS3`åŠ¨ç”»

ç„¶åå†é…åˆå‡½æ•°åŠ¨æ€ä¿®æ”¹`h1`çš„`class`å±æ€§å³å¯

```vue
<template>
  <div>
    <button @click="isShow=!isShow">æ˜¾ç¤º/éšè—</button>
    <br>
    <h1 v-show="isShow" class="come">ä½ å¥½å•Šï¼</h1>
  </div>
</template>

<script>
export default {
    name:"Test",
    data(){
        return{isShow:true}
    }
}
</script>

<style scoped>
h1{
    background-color: orange;
}

/* ä½¿ç”¨åŠ¨ç”»  é»˜è®¤å°±æ˜¯from*/
.come{
    animation: change 1s linear;
}
/* ä½¿ç”¨åŠ¨ç”»  reverseå°±æ˜¯to*/
.go{
    /* æ’­æ”¾åŠ¨ç”»ï¼šåŠ¨ç”»å æŒç»­äº‹ä»¶ å¹³æ»‘æ’­æ”¾ åè½¬æ’­æ”¾ */
    animation: change 1s linear reverse;
}
/* å®šä¹‰åŠ¨ç”» */
@keyframes change {
    /* fromæ˜¯åŠ¨ç”»æ¥çš„å…³é”®å­— */
    from{
        transform: translateX(-100%) ;
    }
    /* toæ˜¯åŠ¨ç”»å»çš„å…³é”®å­— */
    to{
        transform: translateX(0px);
    }
}
</style>
```



### 3.10.2 å•å…ƒç´ è¿‡æ¸¡`Transition` + `CSS3`åŠ¨ç”»

ç»†èŠ‚å¤ªå¤šäº†çœ‹å®˜ç½‘æ–‡æ¡£æŠŠ

å®˜ç½‘é“¾æ¥ï¼š

+ https://v2.cn.vuejs.org/v2/api/#transition
+ https://v2.cn.vuejs.org/v2/guide/transitions.html

ä½¿ç”¨æ–¹æ³•ï¼š

```vue
<template>
  <div>
    <button @click="isShow=!isShow">æ˜¾ç¤º/éšè—</button>
    <br>
    <transition>
        <h1 v-show="isShow">ä½ å¥½å•Šï¼</h1>
    </transition>
  </div>
</template>

<script>
export default {
    name:"Test",
    data(){
        return{isShow:true}
    }
}
</script>

<style scoped>
h1{
    background-color: orange;
}

/* è¿›å…¥çš„è¿‡ç¨‹ */
.v-enter-active{
    animation: change 1s linear;
}

    /* ç¦»å¼€çš„è¿‡ç¨‹*/
.v-leave-active{
    animation: change 1s linear reverse;
}
/* å®šä¹‰åŠ¨ç”» */
@keyframes change {
    /* fromæ˜¯åŠ¨ç”»æ¥çš„å…³é”®å­— */
    from{
        transform: translateX(-100%) ;
    }
    /* toæ˜¯åŠ¨ç”»å»çš„å…³é”®å­— */
    to{
        transform: translateX(0px);
    }
}
</style>
```

### 3.10.3 å•å…ƒç´ è¿‡æ¸¡`Transition`

```vue
<template>
  <div>
    <button @click="isShow=!isShow">æ˜¾ç¤º/éšè—</button>
    <br>
    <transition name="show" appear>
        <h1 v-show="isShow">ä½ å¥½å•Šï¼</h1>
    </transition>
  </div>
</template>

<script>
export default {
    name:"Test",
    data(){
        return{isShow:true}
    }
}
</script>

<style scoped>
h1{
    background-color: orange;
}
/* è¦æ±‚ï¼šä»å·¦ä¾§æ»‘å…¥å±å¹•ï¼Œå†ä»å±å¹•æ»‘å‡ºå·¦ä¾§ */
/* ä½¿ç”¨è¿‡æ¸¡å®ç°æ•ˆæœ è¿‡æ¸¡æœ‰6ä¸ªé˜¶æ®µ å³6ä¸ªclasså±æ€§å€¼ */
/* é˜¶æ®µ1ï¼šè¿›å…¥èµ·ç‚¹ */
.show-enter{ 
    /* å®šä¹‰èµ·å§‹ä½ç½® */
    transform: translateX(-100%);
}
/* é˜¶æ®µ2ï¼šè¿›å…¥çš„è¿‡ç¨‹ */
.show-enter-active{
    /* å¤ªå¿«äº†ï¼Œæ‰€ä»¥éœ€è¦è¿‡ç¨‹åŠ¨ç”»  æ³¨æ„å…³é”®å­—ä¸ºï¼štransitionè€Œä¸æ˜¯animation */
    transition: .5s linear;
}
/* é˜¶æ®µ3ï¼šè¿›å…¥çš„ç»ˆç‚¹ */
.show-enter-to{
    /* å®šä¹‰ç»ˆç‚¹ä½ç½® */
    transform: translateX(0);
}
/* é˜¶æ®µ4ï¼šç¦»å¼€çš„èµ·ç‚¹ */
.show-leave{
    /* å®šä¹‰ç¦»å¼€èµ·å§‹ä½ç½® */
    transform: translateX(0);
}
/* é˜¶æ®µ5ï¼šç¦»å¼€çš„è¿‡ç¨‹  */
.show-leave-active{
     /* å¤ªå¿«äº†ï¼Œæ‰€ä»¥éœ€è¦è¿‡ç¨‹åŠ¨ç”» æ³¨æ„å…³é”®å­—ä¸ºï¼štransitionè€Œä¸æ˜¯animation */
    transition: .5s linear;
}
/* é˜¶æ®µ6ï¼šç¦»å¼€çš„ç»ˆç‚¹ */
.show-leave-to{
    /* å®šä¹‰ç¦»å¼€ç»ˆç‚¹ä½ç½® */
    transform: translateX(-100%);
}

/*
    å› ä¸ºæ ·å¼ä¸¤ä¸¤ä¸€æ ·ï¼Œæ‰€ä»¥å¯ä»¥åˆå¹¶å†™
    .show-enter,.show-leave-to{
        
    }

*/
</style>
```

### 3.10.4 å¤šä¸ªå…ƒç´ è¿‡æ¸¡`transition-group`

å®˜ç½‘ï¼šhttps://v2.cn.vuejs.org/v2/api/#transition-group

```vue
<template>
  <div>
    <button @click="isShow=!isShow">æ˜¾ç¤º/éšè—</button>
    <br>
    <!-- 
        transitioné‡Œé¢å¿…é¡»åªèƒ½æ˜¯ä¸€ä¸ªæ ‡ç­¾
        æ–¹æ³•1ï¼šç”¨ä¸€ä¸ªæ•´ä½“çš„divåŒ…è£¹
            <transition name="show" appear>
                <div>
                    <h1 v-show="isShow">ä½ å¥½å•Šï¼</h1>
                    <h1 v-show="isShow">å¼ ä¸‰</h1>
                </div>
            </transition>
        æ–¹æ³•2ï¼šä½¿ç”¨transition-groupæ ‡ç­¾
     -->
    <transition-group name="show" appear>
        <!-- å¿…é¡»æ­é… keyä½¿ç”¨-->
        <h1 v-show="isShow" key="1">ä½ å¥½å•Šï¼</h1>
        <h1 v-show="isShow" key='2'>å¼ ä¸‰</h1>
    </transition-group>
  </div>
</template>

<script>
export default {
    name:"Test",
    data(){
        return{isShow:true}
    }
}
</script>

<style scoped>
h1{
    background-color: orange;
}
/* è¦æ±‚ï¼šä¸¤ä¸ªæ ‡ç­¾åŒæ—¶ä»å·¦ä¾§æ»‘å…¥å±å¹•ï¼Œå†ä»å±å¹•æ»‘å‡ºå·¦ä¾§ */
.show-enter,.show-leave-to{ 
    transform: translateX(-100%);
}
.show-enter-active,.show-leave-active{
    transition: .5s linear;
}
.show-enter-to,show-leave{
    transform: translateX(0);
}


</style>
```

### 3.10.5 ä½¿ç”¨ç¬¬ä¸‰æ–¹åŠ¨ç”»åº“`animate.css`

+ å®‰è£…

  ```bash
  npm install animate.css --save
  ```

+ å¼•å…¥

  ```java
  <script>
  // å¼•å…¥åŠ¨ç”»åº“ animate.css
  import "animate.css"
  export default {
      name:"Test",
      data(){
          return{isShow:true}
      }
  }
  </script>
  ```

+ ä½¿ç”¨

  ```vue
  <template>
    <div>
      <button @click="isShow=!isShow">æ˜¾ç¤º/éšè—</button>
      <br>
      <!-- é€‰åˆ™è‡ªå·±å–œæ¬¢åŠ¨ç”» 
      		å»https://animate.style/ æŸ¥æ‰¾ ç›´æ¥å¤åˆ¶
  		1ã€å†™nameå±æ€§ è¿™ä¸ªæ˜¯å›ºå®šçš„
  		2ã€é€‰æ‹©è¿›å…¥åŠ¨ç”» enter-active-class
  		3ã€é€‰æ‹©ç¦»å¼€åŠ¨ç”» leave-active-class
      -->
      <transition-group 
          name="animate__animated animate__bounce" 
          appear
          enter-active-class="animate__bounce"
          leave-active-class="animate__rubberBand"
          >
          <h1 v-show="isShow" key="1">ä½ å¥½å•Šï¼</h1>
          <h1 v-show="isShow" key='2'>å¼ ä¸‰</h1>
      </transition-group>
    </div>
  </template>
  
  <script>
  // å¼•å…¥åŠ¨ç”»åº“ animate.css
  import "animate.css"
  export default {
      name:"Test",
      data(){
          return{isShow:true}
      }
  }
  </script>
  
  <style scoped>
  h1{
      background-color: orange;
  }
  </style>
  ```

  



# 4ã€Vueä¸­çš„ajax

## 4.0 å¼•å…¥

### 4.0.1 å‰ç«¯è¯·æ±‚æ–¹å¼

æµè§ˆå™¨å‘é€è¯·æ±‚çš„å‡ ç§æ–¹å¼ï¼š

+ xhrå³`XmlHttpRequest`
+ JQuery
+ Axios
+ æµè§ˆå™¨`window`è‡ªå¸¦çš„`fetch`

### 4.0.2  è·¨åŸŸé—®é¢˜

+ **é—®é¢˜äº§ç”Ÿçš„åŸå› **

  > åŒæºç­–ç•¥å¯¼è‡´çš„ï¼Œå³éœ€è¦ä¸¤ä¸ªé¡µé¢åœ°å€ä¸­çš„åè®®ï¼ŒåŸŸåï¼Œç«¯å£å·ä¸€è‡´ï¼Œåˆ™è¡¨ç¤ºåŒæºã€‚

  ![](./_media/image-20230907160704891.png)

+ **è·¨åŸŸçš„ç‰¹ç‚¹**

  > è·¨åŸŸæ—¶**è¯·æ±‚èƒ½å‘é€å‡ºå»ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°å¹¶ä¸”ä¹Ÿæœ‰è¿”å›å€¼ï¼Œä½†æ˜¯è¿”å›ä¿¡æ¯è¢«è‡ªå·±çš„æµè§ˆå™¨æ‹¦æˆªäº†**

+ **è·¨åŸŸçš„è§£å†³æ–¹å¼**

  > 1ã€åç«¯è¿”å›æ•°æ®å¸¦ç‰¹æ®Šçš„å“åº”å¤´ï¼Œè¡¨ç¤ºè¿è¡Œè·¨åŸŸ
  > 2ã€jsonp ï¼Œåˆ©ç”¨çš„æ˜¯scriptæ ‡ç­¾çš„srcå±æ€§ä¸å—åŒæºç­–ç•¥çš„å½±å“ åªèƒ½è§£å†³getè¯·æ±‚
  > 3ã€ä»£ç†æœåŠ¡å™¨ï¼Œå¦‚nginxæˆ–è€…vueä¸­çš„devServer

## 4.1 Axiosç®€å•ä½¿ç”¨

æ–‡æ¡£ï¼šhttps://www.axios-http.cn/docs/api_intro

+ å®‰è£…

  ```bash
  npm i axios
  ```

+ å¯¼å…¥ä½¿ç”¨

  æœ¬æ¬¡APIï¼š`axios.get(url,[method,data:{}]).then(response=>{},err=>{}).catch(err=>{})`

  ```vue
  <template>
      <div>
        <button @click="getStuInfo">ç‚¹æˆ‘è·å–å­¦ç”Ÿä¿¡æ¯</button>
      </div>
  
  </template>
      
  <script>
  import axios from 'axios'
  export default {
      name: 'App',
      methods: {
        getStuInfo(){
          axios.get(
            'http://localhost:5000/students',
          ).then(
            response=>{
              console.log(response);
            },
            err=>{
              console.log(err);
            }
          )
        }
      }
  }
  </script>
  ```

## 4.2 vueä¸­è§£å†³è·¨åŸŸé—®é¢˜`devServe`

æ–‡æ¡£ï¼šhttps://cli.vuejs.org/zh/config/#devserver-proxy

Vueä¸­è§£å†³è·¨åŸŸé—®é¢˜å°±æ˜¯åœ¨Vueçš„é…ç½®æ–‡ä»¶`vue.config.js`ä¸­å¼€å¯`devServer`ï¼Œå…¶åŸç†å°±æ˜¯ç›¸å½“äºå¼€å¯ä¸€ä¸ªåŒç«¯å£çš„æœåŠ¡å™¨ï¼ˆå¦‚8080ï¼Œå½“å‰vueé¡¹ç›®ç«¯å£ä¹Ÿæ˜¯8080ï¼‰ï¼Œé…ç½®å¼€å¯åä¼šè‡ªåŠ¨å°†è·¨åŸŸçš„è¯·æ±‚è½¬å‘åˆ°æŒ‡å®šæœåŠ¡å™¨ä¸Šï¼Œåˆ©ç”¨çš„æ˜¯HTTPè¯·æ±‚ï¼Œä»è€Œè§£å†³è·¨åŸŸé—®é¢˜ã€‚

### 4.2.0 vueä»£ç†æœåŠ¡å™¨æ‰§è¡Œé€»è¾‘

> å‰æï¼šå½“å‰vueé¡¹ç›®ç«¯å£æ˜¯8080ï¼Œå·²å¼€å¯ä»£ç†æœåŠ¡`devServer`ä¹Ÿæ˜¯8080ï¼Œç›®æ ‡æ•°æ®æœåŠ¡å™¨æ˜¯5000ç«¯å£

**8080ä»£ç†æœåŠ¡å™¨ä¸æ˜¯æ‰€æœ‰çš„è¯·æ±‚éƒ½è½¬å‘ç»™5000æœåŠ¡å™¨**

+ **å¦‚æœè¯·æ±‚çš„èµ„æº8080æœ¬èº«å°±æœ‰ï¼Œåˆ™ç›´æ¥è¿”å›æœ¬åœ°8080é¡¹ç›®çš„ï¼ˆå¦‚é™æ€èµ„æºï¼‰**
+ **å¦‚æœè¯·æ±‚çš„èµ„æº8080æœ¬èº«æ²¡æœ‰ï¼Œæ‰ä¼šè½¬å‘åˆ°5000æœåŠ¡å™¨ä¸Š**

### 4.2.1 ç®€å•é…ç½®`vue.config.js`

è¿™ç§æ–¹å¼ï¼š**é…ç½®ç®€å•ï¼Œè¯·æ±‚èµ„æºç›´æ¥è½¬å‘ï¼›ä½†æ˜¯ä¸èƒ½é…ç½®å¤šä¸ªä»£ç†ï¼Œä¸èƒ½çµæ´»çš„æ§åˆ¶æ˜¯å¦èµ°ä»£ç†ï¼›å½“è®¿é—®åˆ°å‰ç«¯ä¸å­˜åœ¨çš„èµ„æºæ—¶ï¼Œæ‰ä¼šè½¬å‘ç»™æœåŠ¡å™¨ï¼ˆä¼˜å…ˆåŒ¹é…å‰ç«¯èµ„æºï¼‰ã€‚**

+ é…ç½®`vue.config.js`ï¼Œå¼€å¯`devServer`

  ```javascript
  const { defineConfig } = require('@vue/cli-service')
  module.exports = defineConfig({
    transpileDependencies: true,
    //å…³æ‰jsè¯­æ³•æ£€æŸ¥
    lintOnSave:false,
    devServer:{
      proxy: 'http://localhost:5000'
    }
  })
  ```

+ ä¿®æ”¹è¯·æ±‚çš„åœ°å€

  > å¦‚æœ¬æ¥è¯·æ±‚çš„æ˜¯ï¼šhttp://localhost:5000/studentsï¼Œåˆ™éœ€è¦æ”¹æˆ**é…ç½®çš„ä»£ç†æœåŠ¡å™¨åœ°å€+è¯·æ±‚è·¯å¾„**å³ï¼šhttp://localhost:8080/studentsï¼ˆå®é™…é¡¹ç›®ipå’Œè¯·æ±‚åè®®éƒ½æœ‰å¯èƒ½æ”¹å˜ï¼‰

  ```vue
  <template>
      <div>
        <button @click="getStuInfo">ç‚¹æˆ‘è·å–å­¦ç”Ÿä¿¡æ¯</button>
      </div>
  
  </template>
      
  <script>
  import axios from 'axios'
  export default {
      name: 'App',
      methods: {
        getStuInfo(){
          axios.get(
            // 'http://localhost:5000/students', //å¼€å¯ä»£ç†å‰
            'http://localhost:8080/students',//å¼€å¯ä»£ç†å
          ).then(
            response=>{
              console.log(response);
            },
            err=>{
              console.log(err);
            }
          )
        }
      }
  }
  </script>
  ```

+ è¿è¡Œç»“æœ

  ![](./_media/image-20230907163431943.png)

### 4.2.2 è¯¦ç»†é…ç½®`vue.config.js`

```javascript
const { defineConfig } = require('@vue/cli-service')
module.exports = defineConfig({
  devServer: {
    proxy: {
      //è¿™ä¸ª/apiå‰ç¼€(ç´§è·Ÿç«¯å£åé¢çš„)è‡ªå·±åŠ çš„ï¼Œç”¨äºç­›é€‰
      '/api': { 
        target: 'http://localhost:5000',//åç«¯æœåŠ¡å™¨å®é™…åœ°å€,æ ¹æ®å®é™…è¦ä¸è¦åŠ è·¯å¾„
        ws: true,//æ˜¯å¦ä½¿ç”¨websocketæ¨¡å¼
        /*
          å°†è¯·æ±‚è·¯å¾„é‡å†™ï¼Œå»æ‰è‡ªå·±åŠ çš„å‰ç¼€
          å¦‚ï¼šå‰ç«¯é…çš„æ˜¯http://localhost:8080/api/studentsï¼Œå‰ç¼€æ˜¯/apiç¬¦åˆï¼Œ
          å°±ä½¿ç”¨è·¯å¾„é‡å†™è§„åˆ™ï¼Œå°†è·¯å¾„é‡å†™ä¸”è½¬å‘å˜ä¸ºhttp://localhost:5000/students
        */
        pathRewrite:{
          '^/api':''//keyä¸ºè¯·æ±‚è·¯å¾„ï¼ˆè¢«æ›¿æ¢çš„ï¼‰ï¼Œæ”¯æŒæ­£åˆ™ï¼Œvalueä¸ºæ›¿æ¢çš„å€¼
        },
        /*
          æ˜¯å¦æ”¹å˜è¯·æ±‚å¤´hostçš„å€¼
          falseï¼šä¸æ”¹å˜ï¼Œä»ä¸ºå®é™…åœ°å€å’Œç«¯å£
          trueï¼šæ”¹å˜ï¼Œå˜ä¸ºtargetè·¯å¾„çš„ç«¯åœ°å€å’Œç«¯å£
        */
        changeOrigin: true
      }
    }
  }
})

```

## 4.3 `vue-resource`

åŒ`axios`ä¹Ÿæ˜¯å¯¹`xhr`çš„å°è£…ï¼Œæ˜¯vue **æ’ä»¶åº“(`vue.useä½¿ç”¨`)**, vue1.x ä½¿ç”¨å¹¿æ³›ï¼Œå®˜æ–¹å·²ä¸ç»´æŠ¤ã€‚ï¼ˆäº†è§£ï¼‰

### 4.3.1 ä½¿ç”¨

+ å®‰è£…

  ```bash
  npm i vue-resource
  ```

+ å…¥å£æ–‡ä»¶`main.js`ä½¿ç”¨è¯¥æ’ä»¶

  ```javascript
  import Vue from 'vue'
  import App from './App'
  import vueResource from 'vue-resource'
  
  Vue.config.productionTip = false;
  // ä½¿ç”¨æ’ä»¶ é‚£ä¹ˆæ‰€æœ‰çš„vcå’Œvmèº«ä¸Šå°±æœ‰ä¸ª$httpå¯¹è±¡
  Vue.use(vueResource);
  new Vue({
      render: h => h(App),
      beforeCreate(){
          Vue.prototype.$bus=this
      }
  }).$mount('#app')
  ```

  ![](./_media/image-20230913153521114.png)

+ ä½¿ç”¨æ–¹æ³•å’Œ`axios`ä¸€æ ·

  ```javascript
  this.$http.get(url,[config]).then(
  	res=>{},
     err=>{}
  ).catch(err=>{}
  ```

## 4.4 slotæ’æ§½

**ä½œç”¨ï¼šè®©çˆ¶ç»„ä»¶å¯ä»¥å‘å­ç»„ä»¶æŒ‡å®šä½ç½®æ’å…¥htmlç»“æ„ï¼Œä¹Ÿæ˜¯ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œé€‚ç”¨äº<font color='red'>çˆ¶ç»„ä»¶===>å­ç»„ä»¶</font>**

æ’æ§½å°±æ˜¯å­ç»„ä»¶ä¸­çš„æä¾›ç»™çˆ¶ç»„ä»¶ä½¿ç”¨çš„ä¸€ä¸ªå ä½ç¬¦ï¼Œç”¨`<slot></slot> `è¡¨ç¤ºï¼Œçˆ¶ç»„ä»¶å¯ä»¥åœ¨è¿™ä¸ªå ä½ç¬¦ä¸­å¡«å……ä»»ä½•æ¨¡æ¿ä»£ç ï¼Œå¦‚ HTMLã€ç»„ä»¶ç­‰ï¼Œå¡«å……çš„å†…å®¹ä¼šæ›¿æ¢å­ç»„ä»¶çš„`<slot></slot>`æ ‡ç­¾ã€‚

### 4.4.1 é»˜è®¤æ’æ§½

#### 4.4.1.1 ä»‹ç»

**vueä¼šå°†æ’æ§½ä»£ç åœ¨çˆ¶ç»„ä»¶å…ˆè§£ææˆdomå…ƒç´ ï¼ˆåŒ…æ‹¬çˆ¶ç»„ä»¶çš„dataï¼Œcomputedä»¥åŠcssæ ·å¼ç­‰ï¼‰æ•´ä½“å¸¦åˆ°å­ç»„ä»¶ä¸­ã€‚**

> + å¦‚æœ**æ’æ§½æ ·å¼åœ¨çˆ¶ç»„ä»¶ä¸­**ï¼Œåˆ™å°±æ˜¯å…ˆè§£ææˆdomï¼ˆåŒ…å«æ ·å¼ï¼‰ï¼Œå¸¦å…¥å­ç»„ä»¶çš„æ’æ§½ä½ç½®
> + å¦‚æœ**æ’æ§½æ ·å¼åœ¨å­ç»„ä»¶ä¸­**ï¼Œåˆ™å°±æ˜¯å…ˆè§£ææˆdomï¼ˆä¸åŒ…å«æ ·å¼ï¼Œå› ä¸ºçˆ¶ç»„ä»¶æ²¡æœ‰ï¼‰ï¼Œå¸¦å…¥å­ç»„ä»¶çš„æ’æ§½ä½ç½®åå†ç”¨å­ç»„ä»¶çš„æ ·å¼
> + å¦‚æœçˆ¶ç»„ä»¶ä¹Ÿæœ‰ç›¸åŒé€‰æ‹©å™¨çš„æ ·å¼å®šä¹‰ï¼ˆå¦‚imgæ ·å¼ï¼‰ï¼Œåˆ™**å…±å­˜ï¼Œå†²çªçš„ä»¥å­ç»„ä»¶çš„ä¸ºå‡† **

#### 4.4.1.2 ä½¿ç”¨

å°±æ˜¯ä¸€ä¸ª`slot`æ ‡ç­¾ï¼Œ**é€šè¿‡å°†ç»„ä»¶æ ‡ç­¾å†™æˆåŒæ ‡ç­¾ï¼Œå†…éƒ¨æ¥ä¼ å…¥è¦æ˜¾ç¤ºçš„domå…ƒç´ **

+ çˆ¶ç»„ä»¶`App,vue`ï¼Œå£°æ˜è¦ä¼ å…¥å­ç»„ä»¶çš„domå…ƒç´ 

  ```vue
  <template>
    <div class="container">
      <!-- slotæ’æ§½ä¹‹é»˜è®¤æ’æ§½ï¼Œç”¨äºè§£å†³å¤ç”¨çš„å¤šæ ·æ€§
        ä¼ é€’æ’æ§½å€¼å°±æ˜¯ï¼Œå°†ç»„ä»¶æ ‡ç­¾å†™æˆåŒæ ‡ç­¾ï¼Œå®é™…çš„å…ƒç´ å†™åœ¨å…¶å†…éƒ¨
         -->
      <Category :title="ç¾é£Ÿ" :items="foods">
          <!-- è¦æ˜¾ç¤ºçš„domå…ƒç´ -->
        <img src="https://s3.ax1x.com/2021/01/16/srJlq0.jpg" />
      </Category>
      <Category :title="æ¸¸æˆ" :items="games">
          <!-- è¦æ˜¾ç¤ºçš„domå…ƒç´ -->
        <ul>
          <li v-for="(item,index) in games" :key="index">{{item}}</li>
        </ul>
      </Category>
      <Category :title="ç”µå½±" :items="films">
          <!-- è¦æ˜¾ç¤ºçš„domå…ƒç´ -->
        <video controls src="http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"/>
      </Category>
    </div>
  </template>
      
  <script>
  import Category from './components/Category.vue'
  export default {
      name: 'App',
      components: {Category},
      data(){
        return {
          foods:['ç«é”…','çƒ§çƒ¤','å°é¾™è™¾','ç‰›æ’'],
  				games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½'],
  				films:['ã€Šæ•™çˆ¶ã€‹','ã€Šæ‹†å¼¹ä¸“å®¶ã€‹','ã€Šä½ å¥½ï¼Œæç„•è‹±ã€‹','ã€Šå°šç¡…è°·ã€‹']
        }
      }
  }
  </script>
  <style>
  /* è®¾ç½®ä¸‰ä¸ªå¹¶åˆ— */
  .container{
    display: flex;
    justify-content: space-around;
  }
   /* æ ·å¼å®šä¹‰åœ¨çˆ¶ç»„ä»¶ï¼Œé‚£ä¹ˆæ’æ§½å€¼ï¼ˆCategoryæ ‡ç­¾å†…å…ƒç´ ï¼‰è§£æå¸¦æœ‰æ­¤æ ·å¼ï¼Œä¼ å…¥å­ç»„ä»¶Categoryä¸­ */   
  video{
    width: 100%;
  }
  </style>
  ```

+ å­ç»„ä»¶`Category.app`ä½¿ç”¨`<slot>`å ä½

  ```vue
  <template>
    <div class="category">
      <h3>{{title}}åˆ†ç±»</h3>
      <!-- slotæ ‡ç­¾å°±æ˜¯æ’æ§½ï¼Œç›¸å½“äºå ä½ç¬¦ã€‚å¯ä»¥ä¸ä¼ é€’æ’æ§½å€¼è¿‡æ¥ï¼Œé‚£ä¹ˆé»˜è®¤å°±æ˜¾ç¤ºå…¶å†…éƒ¨å…ƒç´  -->
      <slot>
          <font color="red">ä¸ä¼ é€’æ’æ§½å€¼ï¼Œé»˜è®¤æ˜¾ç¤ºï¼</font>
      </slot>
    </div>
  </template>
  
  <script>
  export default {
      name:'Category',
      props:['title','items']
  }
  </script>
  
  <style scoped>
  .category{
      background-color: skyblue;
      width: 200px;
      height: 300px;
  }
  h3{
      text-align: center;
      background-color: orange;
  }
   /* è‡ªå¸¦çš„æ ·å¼ï¼Œå¦‚æœçˆ¶ç»„ä»¶ä¹Ÿæœ‰imgæ ·å¼ï¼Œåˆ™å…±å­˜ï¼Œå†²çªçš„ä»¥å­ç»„ä»¶çš„ä¸ºå‡† */
  img{
      width: 100px;
      height: 100px
  }
  </style>
  ```

### 4.4.2 å…·åæ’æ§½

#### 4.4.2.1 ä»‹ç»

**å…·åæ’æ§½å³å…·æœ‰åå­—çš„æ’æ§½ï¼Œç”±äºè§£å†³å¤šæ’æ§½æ— æ³•å®šä½çš„é—®é¢˜ã€‚**

#### 4.4.2.2 ä½¿ç”¨

+ å­ç»„ä»¶`Category.vue`ä½¿ç”¨`<slot>`æ ‡ç­¾ï¼Œå¹¶å®šä¹‰`name`å±æ€§

  ```vue
  <template>
    <div class="category">
      <h3>{{title}}åˆ†ç±»</h3>
      <!-- slotæ ‡ç­¾å°±æ˜¯æ’æ§½ï¼Œç›¸å½“äºå ä½ç¬¦ã€‚å¯ä»¥ä¸ä¼ é€’æ’æ§½å€¼è¿‡æ¥ï¼Œé‚£ä¹ˆé»˜è®¤å°±æ˜¾ç¤ºå…¶å†…éƒ¨å…ƒç´  -->
      <slot name='center'>
          <font color="red">ä¸ä¼ é€’æ’æ§½å€¼ï¼Œé»˜è®¤æ˜¾ç¤ºï¼1</font>
      </slot>
      <slot name="bottom">
          <font color="red">ä¸ä¼ é€’æ’æ§½å€¼ï¼Œé»˜è®¤æ˜¾ç¤ºï¼2</font>
      </slot>
    </div>
  </template>
  ```

+ çˆ¶ç»„ä»¶`App.vue`ä½¿ç”¨æ’æ§½ï¼Œå¹¶æŒ‡å®šå…¶`name`å±æ€§å€¼ï¼ˆå¦‚æœæ²¡æœ‰æŒ‡å®šæ’æ§½nameå€¼ï¼Œåˆ™ä¼šæ˜¾ç¤ºé»˜è®¤å­ç»„ä»¶slotæ ‡ç­¾ç»“æ„ï¼‰

  ```vue
  <template>
    <div class="container">
      <!-- slotæ’æ§½ä¹‹å…·åæ’æ§½ï¼Œé€šè¿‡nameå±æ€§å€¼ç”¨äºä½¿ç”¨æŒ‡å®šæ’æ§½
         -->
      <Category :title="ç¾é£Ÿ" :items="foods">
        <!-- domå…ƒç´ ä¸­ä½¿ç”¨slotæŒ‡å®šnameå€¼ -->
        <img slot='center' src="https://s3.ax1x.com/2021/01/16/srJlq0.jpg" />
        <a href="#" slot="bottom">æ¬¢è¿å“å°</a>
      </Category>
      <Category :title="æ¸¸æˆ" :items="games">
        <ul slot="center">
          <li v-for="(item,index) in games" :key="index">{{item}}</li>
        </ul>
        <!-- çˆ¶ç»„ä»¶ä¸­å¤šä¸ªslotå±æ€§å€¼ä¼šå åŠ ï¼Œä¸ä¼šè¦†ç›– -->
        <a href="#" slot="bottom">å•æœºæ¸¸æˆ &nbsp</a>
        <a href="#" slot="bottom">ç½‘ç»œæ¸¸æˆ</a>
      </Category>
      <Category :title="ç”µå½±" :items="films">
        <video slot="center" controls src="http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4"/>
        <!-- å½“æœ‰å¤šä¸ªslotå±æ€§å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨template,æ²¡é”™å°±æ˜¯templateä¸­ä½¿ç”¨template
            slotæ­é…templateç®€å†™ä¸º:v-slot:nameå€¼ ï¼ˆæ²¡æœ‰å¼•å·ï¼Œä¸­é—´æ˜¯å†’å·,åªèƒ½æ­é…templateä½¿ç”¨ï¼‰
           -->
          <template v-solt:bottom>
            <a href="#" >ç»å…¸</a> 
            <a href="#" >æ¨è</a>
            <a href="#" >çƒ­é”€</a>
          </template>
  
          <!-- æ¯”è¿™ç§æ–¹æ³•çœäº†ä¸€å±‚divç»“æ„ -->
          <!-- <div slot="bottom"> 
            <a href="#" >ç»å…¸</a> 
            <a href="#" >æ¨è</a>
            <a href="#" >çƒ­é”€</a>
          </div> -->
      </Category>
    </div>
  </template>
  ```

### 4.4.3 ä½œç”¨åŸŸæ’æ§½

#### 4.4.3.1 ä»‹ç»

**ä½œç”¨åŸŸæ’æ§½å³æ•°æ®ä¿å­˜åœ¨å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯çˆ¶ç»„ä»¶ï¼ˆå­ç»„ä»¶çš„ä½¿ç”¨è€…ï¼‰éœ€è¦æ ¹æ®å­ç»„ä»¶ä¸­çš„æ•°æ®ï¼Œä»¥ç”Ÿæˆä¸åŒçš„æ ·å¼ã€‚é‚£ä¹ˆå°±å¯ä»¥å€ŸåŠ©ä½œç”¨åŸŸæ’æ§½å®ç°**

> + å­ç»„ä»¶å€ŸåŠ©`<slot>`æ ‡ç­¾ï¼Œå°†è‡ªèº«çš„æ•°æ®ä¼ é€’ç»™æ’æ§½çš„ä½¿ç”¨è€…ï¼ˆçˆ¶æ ‡ç­¾ï¼‰
> + çˆ¶ç»„ä»¶å€ŸåŠ©`<template scope='dataObj'>`(dataObjå¯ä¸ºä»»æ„å€¼ï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡)æ ‡ç­¾æ¥æ”¶å­ç»„ä»¶çš„æ•°æ®ï¼Œç”Ÿæˆä¸ç”¨çš„æ ·å¼dom
> + `<template scope='dataObj'>`=`<template v-slot='dataObj'>`=`<template slot=scope='dataObj'>`
> + å¯ä»¥ç›´æ¥ç»“æ„èµ‹å€¼`<template v-slot='{games}'>`,è¦æ±‚æœ‰å­ç»„ä»¶ä¼ é€’è¿‡æ¥gamesçš„å±æ€§å€¼

#### 4.4.3.2 ä½¿ç”¨

+ å­ç»„ä»¶`Category.vue`å‘çˆ¶ç»„ä»¶`App.vue`ä¼ é€’æ•°æ®ï¼ˆç±»ä¼¼äº`props`ï¼‰

  ```vue
  <template>
    <div class="category">
      <h3>{{title}}åˆ†ç±»</h3>
      <!-- ä½œç”¨åŸŸæ’æ§½ï¼Œv-bind ä¼ é€’æ•°æ®ç»™çˆ¶ç»„ä»¶ -->
      <slot :games="games">
          <font color="red">ä¸ä¼ é€’æ’æ§½å€¼ï¼Œé»˜è®¤æ˜¾ç¤ºï¼1</font>
      </slot>
    </div>
  </template>
  
  <script>
  export default {
      name:'Category',
      props:['title'],
      data(){
        return {
          games:['çº¢è‰²è­¦æˆ’','ç©¿è¶Šç«çº¿','åŠ²èˆå›¢','è¶…çº§ç›ä¸½']
        }
      }
  }
  </script>
  ```

+ çˆ¶ç»„ä»¶`App.vue`æ¥æ”¶å­ç»„ä»¶ä¼ é€’æ•°æ®ï¼Œå¿…é¡»æ˜¯`template`æ ‡ç­¾åŠ ä¸Š`scope`å±æ€§ï¼ˆå¦åˆ™æ¥æ”¶ä¸åˆ°ï¼‰

  ```vue
  <template>
    <div class="container">
      <!-- ä½œç”¨åŸŸæ’æ§½ æ¥å—å­ç»„ä»¶æ•°æ® -->
      <Category :title="æ¸¸æˆ">
          <!-- å¿…é¡»æ˜¯template+scope-->
        <template scope="dataObj">
          <ul>
            <li v-for="(item,index) in dataObj.games" :key="index">{{item}}</li>
          </ul>
        </template> 
      </Category>
      <!-- ä¸ªæ€§åŒ– åŒä¸€æ•°æ® -->
      <Category :title="æ¸¸æˆ">
           <!-- å¿…é¡»æ˜¯template+scope-->
        <template scope="dataObj">
          <ol>
            <li v-for="(item,index) in dataObj.games" :key="index">{{item}}</li>
          </ol>
        </template> 
      </Category>
      <!-- ä¸ªæ€§åŒ– åŒä¸€æ•°æ® -->
      <Category :title="æ¸¸æˆ">
           <!-- å¿…é¡»æ˜¯template+scope-->
        <template scope="dataObj">
          <ol>
            <h4 v-for="(item,index) in dataObj.games" :key="index">{{item}}</h4>
          </ol>
        </template> 
      </Category>
    </div>
  </template>
      
  <script>
  import Category from './components/Category.vue'
  export default {
      name: 'App',
      components: {Category}
  }
  </script>
  ```

+ æµ‹è¯•è¿è¡Œ

  ![](./_media/image-20230918150715362.png)

### 4.4.4 å…·åä½œç”¨åŸŸæ’æ§½

> å…·åä½œç”¨åŸŸæ’æ§½=å…·åæ’æ§½+ä½œç”¨åŸŸæ’æ§½

# 5 vueå°æŠ€å·§

## 5.1 å¼•å…¥ç¬¬ä¸‰æ–¹æ ·å¼

### 5.1.1 ç›´æ¥åœ¨HTMLæ–‡ä»¶ä¸­å¼•å…¥

```html
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="./css/bootstrap.css">
</head>
```

### 5.1.2 åœ¨vueæ–‡ä»¶çš„`script`ä¸­å¼•å…¥

```vue
<script>
import '../../public/css/bootstrap.css'
</script>
```

> å¦‚æœå¼•å…¥çš„å¤–éƒ¨æ–‡ä»¶ä¸­æœ‰ä¸éœ€è¦èµ„æºï¼ˆå¦‚å­—ä½“ï¼‰ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•ã€‚ä¸ä¼šæŠ¥é”™ï¼Œä¸‹é¢å‡ ç§æ–¹æ³•éƒ½ä¼šæŠ¥é”™

### 5.1.3 åœ¨vueæ–‡ä»¶çš„`style`ä¸­å¼•å…¥

+ `style`æ ‡ç­¾ä¸­å¼•å…¥

  ```vue
  <style scoped>
  @import '../../public/css/index.css';
  </style>
  ```

  > ä½¿ç”¨@importå¼•å…¥æ ·å¼æ–‡ä»¶ï¼Œå°±ç®—åŠ scopedï¼Œå…¶å®ƒæ²¡æœ‰å¼•å…¥çš„æ¨¡å—è¿˜æ˜¯å¯ä»¥è®¿é—®åˆ°ä½ çš„æ ·å¼ï¼Œå¦‚æœæŸä¸ªç»„ä»¶çš„ç±»åä¸€è‡´ï¼Œåˆ™å°±ä¼šè¢«æ±¡æŸ“åˆ°ã€‚

+ `style`æ ‡ç­¾å†…å¼•å…¥

  ```vue
  //ç›¸å¯¹è·¯å¾„å¼•å…¥
  <style src='../../public/css/index.css' scoped> 
  </style>
  ```

  

# 6ã€Vuex

## 6.1 Vuexæ˜¯ä»€ä¹ˆï¼Ÿ

**Vuex**ï¼šä¸“é—¨åœ¨Vueä¸­å®ç°**é›†ä¸­å¼çŠ¶æ€ï¼ˆæ•°æ®ï¼‰ç®¡ç†**çš„ä¸€ä¸ªVue**æ’ä»¶**ï¼Œå¯¹vueåº”ç”¨ä¸­çš„**å¤šä¸ªç»„ä»¶çš„å…±äº«çŠ¶æ€ï¼ˆæ•°æ®ï¼‰è¿›è¡Œé›†ä¸­å¼çš„ç®¡ç†ï¼ˆè¯»ã€å†™ï¼‰**ï¼Œä¹Ÿæ˜¯**ä¸€ç§ç»„ä»¶é—´é€šä¿¡çš„æ–¹å¼ï¼Œä¸”é€‚ç”¨äºä»»æ„ç»„ä»¶é—´é€šä¿¡**ã€‚

åœ°å€ï¼šhttps://github.com/vuejs/vuex

æ–‡æ¡£ï¼šhttps://v3.vuex.vuejs.org/zh/

### 6.1.1 ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Vuex

+ å¤šä¸ªç»„ä»¶ä¾èµ–äºåŒä¸€çŠ¶æ€ï¼ˆæ•°æ®ï¼‰
+ æ¥è‡ªä¸åŒç»„ä»¶çš„è¡Œä¸ºéœ€è¦å˜æ›´åŒä¸€çŠ¶æ€

> æ€»ç»“å°±æ˜¯ï¼šæ–¹ä¾¿ä¸åŒç»„ä»¶é—´çš„**å†™æ“ä½œ**

### 6.1.2 å¤šç»„ä»¶å…±äº«ä¹‹`å…¨å±€äº‹ä»¶` vs `Vuex`

![](./_media/å¤šç»„ä»¶å…±äº«-å…¨å±€äº‹ä»¶æ€»çº¿å®ç°.png)

![](./_media/å¤šç»„ä»¶å…±äº«-vuexå®ç°.png)

## 6.2 Vuexå·¥ä½œåŸç†å›¾

![](./_media/Vuexå·¥ä½œåŸç†.png)

## 6.3 [Vuexæ ¸å¿ƒé…ç½®é¡¹](https://v3.vuex.vuejs.org/zh/guide/state.html#%E5%8D%95%E4%B8%80%E7%8A%B6%E6%80%81%E6%A0%91)**

åœ°å€ï¼šhttps://v3.vuex.vuejs.org/zh/guide/state.html#%E5%8D%95%E4%B8%80%E7%8A%B6%E6%80%81%E6%A0%91

### 6.3.1 `State`

### 6.3.2 `Actions`

### 6.3.3 `Mutations`

### 6.3.4 `Getters`

å½“`State`ä¸­æ•°æ®éœ€è¦è¿›è¡ŒåŠ å·¥åå†ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨`getters`(å¯ä»¥ä¸ç”¨)

```javascript
//vuexä¸­åˆ›å»ºå¹¶æš´éœ²
// åˆ›å»ºgetterså¯¹è±¡--ç”¨äºåŠ å·¥æ•°æ®
const getters={
    /*å¯ä»¥æ¥å—å››ä¸ªå‚æ•°
    	ç¬¬ä¸€ä¸ªå‚æ•°state è¡¨ç¤ºå½“å‰å‘½åç©ºé—´çš„state
    	ç¬¬äºŒä¸ªå‚æ•°getters è¡¨ç¤ºå½“å‰å‘½åç©ºé—´çš„gettersï¼ˆåŒ…å«é‡Œé¢æ‰€æœ‰æ–¹æ³•ï¼‰
    	ç¬¬ä¸‰ä¸ªå‚æ•°state	è¡¨ç¤ºæ•´ä¸ªvuexçš„stateï¼Œå°è£…æœ‰namespaceçš„
    	ç¬¬å››ä¸ªå‚æ•°getters	è¡¨ç¤ºæ•´ä¸ªvuexçš„gettersï¼Œå°è£…æœ‰namespaceçš„
    	*/
    bigSum(state){ //ç±»ä¼¼äºcomputed
        return state.sum*10;
    }
}
// åˆ›å»ºå¹¶æš´éœ²store ï¼ˆæ³¨æ„æ˜¯Storeå¯¹è±¡è€Œä¸æ˜¯Vuexï¼‰
export default new Vuex.Store({
    ...
    getters
})
//ä½¿ç”¨getters
this.$store.getters.bigSum
```

### 6.3.5 `mapState`

å°†`vuex`ä¸­çš„`state`æ•°æ®æ˜ å°„ä¸ºç»„ä»¶çš„è®¡ç®—å±æ€§`computed`

```vue
<template>
  <div>
    <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h2>
    <h2>å½“å‰BigSumä¸ºï¼š{{bigSum}}</h2>
</template>

<script>
// æ³¨æ„å¿…ä¿®å¸¦{}
import {mapState} from 'vuex'
import {mapGetters} from 'vuex'
export default {
    name:'Count',
    data(){
        return {number:1}
    },
    computed: {
        /*
        mapStateå€ŸåŠ©è®¡ç®—å±æ€§æ˜ å°„åˆ°vuexçš„state
            ç¬¬ä¸€ç§å†™æ³•ï¼šå¯¹è±¡å†™æ³•  ...mapState({sum:'sum'})//ç±»ä¼¼äºç»“æ„ä½“èµ‹å€¼
            ç¬¬äºŒç§å†™æ³•ï¼šæ•°ç»„å†™æ³•  ...mapState(['sum'])//å³ä»£è¡¨è®¡ç®—å±æ€§mingä¸ºsumä¸”æ˜ å°„çš„stateä¸­sum
        */
       ...mapState(['sum']),
       ...mapGetters({bigSum:'bigSum'})
    }
}
</script>
```

> ...å‚è€ƒ [JSä¸­ä¸‰ä¸ªç‚¹ï¼ˆ...ï¼‰æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ](https://blog.csdn.net/xqhys/article/details/105736902#:~:text=%E4%BB%80%E4%B9%88%E6%84%8F%E6%80%9D%EF%BC%9F,%E4%B8%89%E4%B8%AA%E7%82%B9%EF%BC%88...%EF%BC%89%E7%9C%9F%E5%90%8D%E5%8F%AB%E6%89%A9%E5%B1%95%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%8C%E6%98%AF%E5%9C%A8ES6%E4%B8%AD%E6%96%B0%E5%A2%9E%E5%8A%A0%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%8C%E5%AE%83%E5%8F%AF%E4%BB%A5%E5%9C%A8%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%2F%E6%95%B0%E7%BB%84%E6%9E%84%E9%80%A0%E6%97%B6%EF%BC%8C%E5%B0%86%E6%95%B0%E7%BB%84%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%88%96%E8%80%85string%E5%9C%A8%E8%AF%AD%E6%B3%95%E5%B1%82%E9%9D%A2%E5%B1%95%E5%BC%80%EF%BC%9B%E8%BF%98%E5%8F%AF%E4%BB%A5%E5%9C%A8%E6%9E%84%E9%80%A0%E5%AD%97%E9%9D%A2%E9%87%8F%E5%AF%B9%E8%B1%A1%E6%97%B6%E5%B0%86%E5%AF%B9%E8%B1%A1%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%8C%89%E7%85%A7key-value%E7%9A%84%E6%96%B9%E5%BC%8F%E5%B1%95%E5%BC%80)

### 6.3.6 `mapGetters`

åŒ`mapState`

å°†`vuex`ä¸­çš„`getters`æ•°æ®æ˜ å°„ä¸ºç»„ä»¶çš„è®¡ç®—å±æ€§`computed`

### 6.3.7 `mapMutations`

å°†`vuex`ä¸­çš„`mutations`ä¸­**æŒ‡å®šå‡½æ•°**æ˜ å°„ä¸ºç»„ä»¶vcçš„**å¯¹åº”åå­—å‡½æ•°**`methods`

```vue
<template>
  <div>
    <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h2>
    <h2>å½“å‰BigSumä¸ºï¼š{{bigSum}}</h2>
    <select v-model:value.number='number'>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
    </select>
    <!-- $eventè·å–å½“å‰äº‹ä»¶ï¼Œå¿…é¡»å¸¦å‚æ•°ä¸ç„¶æ˜¯é»˜è®¤çš„äº‹ä»¶ -->
    <button @click="ADD(number)">+</button>
    <button @click="sub">-</button>
  </div>
</template>

<script>
// æ³¨æ„å¿…ä¿®å¸¦{}
import {mapMutations} from 'vuex'
export default {
    name:'Count',
    data(){
        return {number:1}
    }
    methods:{
        // add(){
        //     // ä¸éœ€è¦åç«¯äº¤äº’ï¼ˆé¢å¤–å¤„ç†ï¼‰ï¼Œç›´æ¥commitåˆ°Mutations
        //     this.$store.commit('ADD',this.number);
        // },
    
        /*
        mapMutationså€ŸåŠ©è®¡ç®—å±æ€§æ˜ å°„åˆ°vuexçš„mutationsï¼Œå³åŒ…å«$store.commit()
            ç¬¬ä¸€ç§å†™æ³•ï¼šå¯¹è±¡å†™æ³•  ...mapMutations({ADD:'ADD'})//ç±»ä¼¼äºç»“æ„ä½“èµ‹å€¼
            ç¬¬äºŒç§å†™æ³•ï¼šæ•°ç»„å†™æ³•  ...mapMutations(['ADD'])//å³ä»£è¡¨vcä¸­æœ‰å‡½æ•°addä¸”æ˜ å°„çš„mutationsä¸­æœ‰å‡½æ•°addï¼ˆåŒºåˆ†å¤§å°å†™ï¼ŒADDä¸å¯¹ï¼‰
        æ³¨æ„ï¼švcä¸­è°ƒç”¨å‡½æ•°ADDå¿…é¡»å¸¦å‚æ•°numberï¼Œé»˜è®¤ä¼ é€’å‚æ•°æ˜¯event
        */
        ...mapMutations(['ADD']),
        sub(){
             // ä¸éœ€è¦åç«¯äº¤äº’ï¼ˆé¢å¤–å¤„ç†ï¼‰ï¼Œç›´æ¥commitåˆ°Mutations
            this.$store.commit('SUB',this.number);
        }
    }
}
</script>
```

> æ³¨æ„ï¼š`mapMutations`ä¸­æ˜ å°„çš„å‡½æ•°è°ƒç”¨æ—¶å¿…é¡»å¸¦è‡ªå·±çš„å‚æ•°ï¼Œé»˜è®¤æ˜¯$event
>
> æœ‰ä¸¤ç§æ–¹å¼ï¼š
>
> + domä¸­è°ƒç”¨ä¼ é€’å‚æ•°`<button @click="ADD(number)">`ï¼ˆæ¨èï¼‰
> + åˆ›å»ºä¸€ä¸ªä¸­é—´å‡½æ•°ï¼Œç”¨äºå“åº”äº‹ä»¶ï¼Œç„¶åè°ƒç”¨`mapMutations`æ˜ å°„å‡½æ•°ï¼ˆè„±è£¤å­æ”¾å±ï¼Œä¸æ¨èï¼‰

### 6.3.8 `mapActions`

åŒ`mapMutations`

å°†`vuex`ä¸­çš„`actions`ä¸­**æŒ‡å®šå‡½æ•°**æ˜ å°„ä¸ºç»„ä»¶vcçš„**å¯¹åº”åå­—å‡½æ•°**`methods`

```vue
<template>
  <div>
    <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{sum}}</h2>
    <h2>å½“å‰BigSumä¸ºï¼š{{bigSum}}</h2>
    <select v-model:value.number='number'>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
    </select>
    <!-- $eventè·å–å½“å‰äº‹ä»¶ï¼Œå¿…é¡»å¸¦å‚æ•°ä¸ç„¶æ˜¯é»˜è®¤çš„äº‹ä»¶ -->
    <button @click="ADD(number)">+</button>
    <button @click="sub">-</button>
    <!-- $eventè·å–å½“å‰äº‹ä»¶ï¼Œå¿…é¡»å¸¦å‚æ•°ä¸ç„¶æ˜¯é»˜è®¤çš„äº‹ä»¶ -->
    <button @click="addOdd(number)">å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>
  </div>
</template>

<script>
// æ³¨æ„å¿…ä¿®å¸¦{}
import {mapState,mapGetters,mapMutations, mapActions} from 'vuex'
export default {
    name:'Count',
    data(){
        return {number:1}
    },
    methods:{
        // addOdd(){
        //      // å¯èƒ½åç«¯äº¤äº’ï¼ˆé¢å¤–å¤„ç†ï¼‰ï¼Œåˆ†å‘åˆ°Actions
        //     this.$store.dispatch('addOdd',this.number);
        // },

        /*
        mapActionså€ŸåŠ©è®¡ç®—å±æ€§æ˜ å°„åˆ°vuexçš„mapActionsï¼Œå³åŒ…å«$store.dispatch()
            ç¬¬ä¸€ç§å†™æ³•ï¼šå¯¹è±¡å†™æ³•  ...mapActions({addOdd:'addOdd'})//ç±»ä¼¼äºç»“æ„ä½“èµ‹å€¼
            ç¬¬äºŒç§å†™æ³•ï¼šæ•°ç»„å†™æ³•  ...mapActions(['addOdd'])//å³ä»£è¡¨vcä¸­æœ‰å‡½æ•°addOddä¸”æ˜ å°„çš„actionsä¸­æœ‰å‡½æ•°addOddï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
        æ³¨æ„ï¼švcä¸­è°ƒç”¨å‡½æ•°addOddå¿…é¡»å¸¦å‚æ•°numberï¼Œé»˜è®¤ä¼ é€’å‚æ•°æ˜¯event
        */
       ...mapActions(['addOdd']),
        }
    }
}
</script>
```

> æ³¨æ„ï¼š`mapActions`ä¸­æ˜ å°„çš„å‡½æ•°è°ƒç”¨æ—¶å¿…é¡»å¸¦è‡ªå·±çš„å‚æ•°ï¼Œé»˜è®¤æ˜¯$event
>
> æœ‰ä¸¤ç§æ–¹å¼ï¼š
>
> + domä¸­è°ƒç”¨ä¼ é€’å‚æ•°`<button @click="addOdd(number)">`ï¼ˆæ¨èï¼‰
> + åˆ›å»ºä¸€ä¸ªä¸­é—´å‡½æ•°ï¼Œç”¨äºå“åº”äº‹ä»¶ï¼Œç„¶åè°ƒç”¨`mapActions`æ˜ å°„å‡½æ•°ï¼ˆè„±è£¤å­æ”¾å±ï¼Œä¸æ¨èï¼‰

## 6.4 Vuexçš„å®‰è£…ä½¿ç”¨

**vuexè¢«Storeç®¡ç†ï¼Œè€ŒStoreéœ€è¦æˆ‘ä»¬è‡ªå·±åˆ›å»ºå‡ºæ¥ã€‚**

### 6.4.1 ç®€å•å®‰è£…ä½¿ç”¨

+ å®‰è£…`vuex`

  ```bash
  # vue2ç”¨çš„æ˜¯vuex3
  npm i vuex@3
  ```

+ åˆ›å»ºå¹¶æš´éœ²`Store` ï¼ˆæ–‡ä»¶å`store/index.js`ï¼‰

  ```javascript
  //æ–‡ä»¶åstore/index.js
  import Vue from 'vue'
  import Vuex from 'vuex'
  
  // å¿…é€‰åœ¨åˆ›å»ºStoreå‰ä½¿ç”¨vuexï¼Œå¦åˆ™ä¼šæŠ¥é”™
  Vue.use(Vuex)
  
  // åˆ›å»ºactionså¯¹è±¡--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ
  const actions ={}
  //åˆ›å»ºmutationså¯¹è±¡--ç”¨äºæ“ä½œçŠ¶æ€/æ•°æ®ï¼ˆstateï¼‰
  const mutations ={}
  // åˆ›å»ºstateå¯¹è±¡--ç”¨äºå­˜å‚¨æ•°æ®
  const state ={}
  
  // åˆ›å»ºå¹¶æš´éœ²store ï¼ˆæ³¨æ„æ˜¯Storeå¯¹è±¡è€Œä¸æ˜¯Vuexï¼‰
  export default new Vuex.Store({
      actions,//es6åŒåèµ‹å€¼ç®€å†™
      mutations,
      state
  })
  ```

  > æ³¨æ„äº‹é¡¹ï¼š
  >
  > + Storeæ–‡ä»¶çš„å­˜å‚¨æ–¹å¼
  >
  >   ```bash
  >   # å®˜ç½‘çš„å†™æ³•ï¼Œåˆ›å»ºStoreç›®å½•å’Œindex.jsæ–‡ä»¶å¤¹ï¼ˆæ¨èï¼‰
  >   D:.
  >   â”‚  App.vue
  >   â”‚  main.js
  >   â”œâ”€components
  >   â”‚      Count.vue
  >   â””â”€Store
  >           index.js
  >    # è‡ªå®šä¹‰å†™æ³•
  >    D:.
  >   â”‚  App.vue
  >   â”‚  main.js
  >   â”œâ”€components
  >   â”‚      Count.vue
  >   â””â”€vuex
  >           store.js
  >   ```
  >
  > + **ä½¿ç”¨vuexæ’ä»¶ä½¿ç”¨å¿…é¡»åœ¨åˆ›å»ºStoreå¯¹è±¡å‰ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚**è€Œ`import`è¯­å¥ä¼šæœ€å…ˆæ‰§è¡Œï¼Œæ‰€ä»¥æŠŠ`Vue.use(Vuex)`ä»å…¥å£æ–‡ä»¶`main.js`ç§»åŠ¨åˆ°`store/index.js`ä¸­
  >
  >   ![](./_media/image-20230919111535240.png)
  >
  > + åˆ›å»ºå¹¶æš´éœ²çš„æ˜¯`Vuex.Store`è€Œä¸æ˜¯`Vuex`,`new`çš„æ—¶å€™è¦çœ‹æ¸…

+ å…¥é—¨æ–‡ä»¶`main.js`é…ç½®ä½¿ç”¨`Vuex`

  ```javascript
  import Vue from 'vue'
  import App from './App'
  // å¯¼å…¥Store ç­‰ä»·äºimport store from './Store/index'
  import store from './Store'
  
  new Vue({
      render: h => h(App),
      // é…ç½®store
      store,////es6åŒåèµ‹å€¼ç®€å†™ så¿…é¡»å°å†™
      beforeCreate(){
          Vue.prototype.$bus=this
      }
  }).$mount('#app')
  ```

  > æ³¨æ„äº‹é¡¹
  >
  > + Vueå±æ€§storeé¦–å­—æ¯å¿…é¡»å°å†™
  >
  > + **storeä»…åœ¨å¼•å…¥å¹¶ä½¿ç”¨vuexæ—¶æ‰ä¼šè¢«æŒ‚è½½åˆ°vmå’Œæ‰€æœ‰çš„vcèº«ä¸Š**ï¼Œå³å¦‚æœä½¿ç”¨vuexï¼Œé‚£ä¹ˆé…ç½®äº†storeå±æ€§ä¹Ÿä¸ä¼šç”Ÿæ•ˆ
  >
  > + `import`å¯¼å…¥é»˜è®¤å»æ‰¾`index.js`æ–‡ä»¶,webpackçš„é»˜è®¤é…ç½®
  >
  >   ![](./_media/image-20230919112354714.png)

+ è¿è¡Œ

  å¯ä»¥çœ‹åˆ°vmå’Œæ‰€æœ‰çš„vmèº«ä¸Šå¤šäº†ä¸€ä¸ª`$store`

  ![](./_media/image-20230919112812166.png)

### 6.4.2 ***==è¯¦ç»†ä½¿ç”¨==***

#### 6.4.2.1 åˆ›å»ºå¹¶æš´éœ²Storeæ–‡ä»¶

æ–‡ä»¶è·¯å¾„ï¼šsrc/store/index.js

```javascript
import Vue from 'vue'
import Vuex from 'vuex'

// å¿…é€‰åœ¨åˆ›å»ºStoreå‰ä½¿ç”¨vuexï¼Œå¦åˆ™ä¼šæŠ¥é”™
Vue.use(Vuex)

// åˆ›å»ºactionså¯¹è±¡--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ
const actions ={
}
//åˆ›å»ºmutationså¯¹è±¡--ç”¨äºæ“ä½œçŠ¶æ€/æ•°æ®ï¼ˆstateï¼‰
const mutations ={
}
// åˆ›å»ºstateå¯¹è±¡--ç”¨äºå­˜å‚¨æ•°æ®
const state ={
}

// åˆ›å»ºå¹¶æš´éœ²store ï¼ˆæ³¨æ„æ˜¯Storeå¯¹è±¡è€Œä¸æ˜¯Vuexï¼‰
export default new Vuex.Store({
    actions,//es6åŒåèµ‹å€¼ç®€å†™
    mutations,
    state
})
```

#### 6.4.2.2 Vueé…ç½®å¼€å¯Vuex

æ–‡ä»¶è·¯å¾„ï¼šsrc/main.js

```javascript
import Vue from 'vue'
import App from './App'
// å¯¼å…¥Store ç­‰ä»·äºimport store from './Store/index'
import store from './Store'

Vue.config.productionTip = false;
new Vue({
    render: h => h(App),
    // é…ç½®store
    store////es6åŒåèµ‹å€¼ç®€å†™ så¿…é¡»å°å†™
}).$mount('#app')
```

#### 6.4.2.3 ç»„ä»¶ä¸­ä½¿ç”¨Vuex

æ–‡ä»¶è·¯å¾„ï¼šsrc/components/Count.js

```vue
<template>
  <div>
    <h2>å½“å‰æ±‚å’Œä¸ºï¼š{{this.$store.state.sum}}</h2>
    <select v-model:value.number='number'>
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
    </select>
    <button @click="add">+</button>
    <button @click="sub">-</button>
    <button @click="addOdd">å½“å‰æ±‚å’Œä¸ºå¥‡æ•°å†åŠ </button>
    <button @click="addWait">ç­‰ä¸€ç­‰å†åŠ </button>
  </div>
</template>

<script>
export default {
    name:'Count',
    data(){
        return {
            number:1
        }
    },
    methods:{
        add(){
            // ä¸éœ€è¦åç«¯äº¤äº’ï¼ˆé¢å¤–å¤„ç†ï¼‰ï¼Œç›´æ¥commitåˆ°Mutations
            this.$store.commit('ADD',this.number);
        },
        sub(){
             // ä¸éœ€è¦åç«¯äº¤äº’ï¼ˆé¢å¤–å¤„ç†ï¼‰ï¼Œç›´æ¥commitåˆ°Mutations
            this.$store.commit('SUB',this.number);
        },
        addOdd(){
             // å¯èƒ½åç«¯äº¤äº’ï¼ˆé¢å¤–å¤„ç†ï¼‰ï¼Œåˆ†å‘åˆ°Actions
            this.$store.dispatch('addOdd',this.number);
        },
        addWait(){
            // å¯èƒ½åç«¯äº¤äº’ï¼ˆé¢å¤–å¤„ç†ï¼‰ï¼Œåˆ†å‘åˆ°Actions
            this.$store.dispatch('addWait',this.number);
        }
    }
}
</script>
<style scoped>
*{
    margin: 5px;
}
</style>
```

#### 6.4.2.4 é…ç½®Storeæ–‡ä»¶ä¸­`Actions`,`Mutations`,`State`

æ–‡ä»¶è·¯å¾„ï¼šsrc/store/index.js

```javascript
import Vue from 'vue'
import Vuex from 'vuex'

// å¿…é€‰åœ¨åˆ›å»ºStoreå‰ä½¿ç”¨vuexï¼Œå¦åˆ™ä¼šæŠ¥é”™
Vue.use(Vuex)

// åˆ›å»ºactionså¯¹è±¡--ç”¨äºå“åº”ç»„ä»¶ä¸­çš„åŠ¨ä½œ
const actions ={
    // ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥ç†è§£ä¸ºmini $storeï¼Œå«æœ‰commitå’Œstate
    addOdd(context,value){
        if(context.state.sum % 2) {
            context.commit('ADD',value);
        }
    },
    addWait(context,value){
        setTimeout(() => {
            context.commit('ADD',value);
        }, 1000);
    }
}
//åˆ›å»ºmutationså¯¹è±¡--ç”¨äºæ“ä½œçŠ¶æ€/æ•°æ®ï¼ˆstateï¼‰
const mutations ={
    //å‡½æ•°åæ¨èå¤§å†™ï¼Œä¸actionåŒºåˆ† 
    // ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºstateæ•°æ®ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºå¢é‡
    ADD(state,value){
        state.sum += value;
    },
    SUB(state,value){
        state.sum -= value;
    }
}
// åˆ›å»ºstateå¯¹è±¡--ç”¨äºå­˜å‚¨æ•°æ®
const state ={
    sum:0
}

// åˆ›å»ºå¹¶æš´éœ²store ï¼ˆæ³¨æ„æ˜¯Storeå¯¹è±¡è€Œä¸æ˜¯Vuexï¼‰
export default new Vuex.Store({
    actions,//es6åŒåèµ‹å€¼ç®€å†™
    mutations,
    state
})
```

> **Actionsåœ¨æ‰¿ä¸Šå¯ä¸‹çš„ä½ç½®ï¼Œå…¶ç¬¬ä¸€ä¸ªå‚æ•°contextï¼ˆå°$storeï¼‰çš„æ ·å­å¦‚ä¸‹ï¼š**
>
> ![](./_media/image-20230919143949858.png)

### 6.4.3 æ€»ç»“

+ å…ˆåˆ›å»ºvuexçš„storeæ–‡ä»¶ç©ºæ¶å­
+ é…ç½®å¼€å¯vuex
+ ç»„ä»¶ä¸­ä½¿ç”¨vuex
+ æ ¹æ®ç»„ä»¶ä¸­çš„ä½¿ç”¨æƒ…å†µï¼Œå»å¡«å……storeæ–‡ä»¶`Actions`,`Mutations`,`State`

## 6.5 ==***vuexæ¨¡å—åŒ–ç¼–ç ***==

æ–‡æ¡£ï¼šhttps://v3.vuex.vuejs.org/zh/guide/modules.html#%E6%A8%A1%E5%9D%97%E7%9A%84%E5%B1%80%E9%83%A8%E7%8A%B6%E6%80%81

ä¸ºäº†è®©ä»£ç æ›´å¥½ç»´æŠ¤ï¼Œè®©å¤šç§æ•°æ®åˆ†ç±»æ›´åŠ æ˜ç¡®ï¼Œæ‰€ä»¥éœ€è¦å¼•å…¥vuexæ¨¡å—åŒ–ç¼–ç ï¼š

æ­¥éª¤ï¼š

+ æ¨¡å—åŒ–ï¼Œå°†vuexæ‹†åˆ†ä¸ºå¤šä¸ªå­æ–‡ä»¶

  ```bash
  D:.
  â”‚  App.vue
  â”‚  main.js
  â”‚
  â”œâ”€components
  â”‚      Count.vue
  â”‚      Person.vue
  â”‚
  â””â”€Store
          Count.js #vuexä¸»æ–‡ä»¶
          index.js # vuexæ¨¡å—åŒ–å­æ–‡ä»¶1
          Person.js# vuexæ¨¡å—åŒ–å­æ–‡ä»¶2
  ```

+ å­æ–‡ä»¶é…ç½®å››å¤§ä»¶`actions,mutations,state,getters`ï¼Œå¹¶å¼€å¯å‘½åæ§ä»¶`namespaced:true`

  ```javascript
  //ä»¥index.jsä¸ºä¾‹å­
  export default{
      namespaced:true,
      actions:{},
      mutations:{},
      state:{},
      getters:{}
  }
  ```

+ veuxä¸»æ–‡ä»¶é…ç½®`modules`

  ```javascript
  import Vue from 'vue'
  import Vuex from 'vuex'
  // å¼•å…¥æ¨¡å—ç»„ä»¶
  import CountInfo from './Count' 
  import PersonInfo from './Person' 
  // å¿…é€‰åœ¨åˆ›å»ºStoreå‰ä½¿ç”¨vuexï¼Œå¦åˆ™ä¼šæŠ¥é”™
  Vue.use(Vuex)
  
  // åˆ›å»ºå¹¶æš´éœ²store ï¼ˆæ³¨æ„æ˜¯Storeå¯¹è±¡è€Œä¸æ˜¯Vuexï¼‰
  export default new Vuex.Store({
      // ä½¿ç”¨vuex æ¨¡å—åŒ–
      modules:{
          CountInfo,
          PersonInfo
      }
  })
  ```

+ å¼€å¯å‘½åç©ºé—´åç»„ä»¶è¯»å–`State`æ•°æ®

  ```javascript
  //æ–¹æ³•1ï¼šå¸¸è§„æ–¹æ³•
  this.$store.state.å‘½åç©ºé—´çš„å€¼.å±æ€§
  //ä¾‹ this.$store.state.CountInfo.sum
  
  //æ–¹æ³•2; mapStateæ˜ å°„
  import {mapState} from 'vuex'
  computed:{
      ...mapState('å‘½åç©ºé—´çš„å€¼',{computedå˜é‡å:stateå±æ€§})
      //ä¾‹ ...mapState('CountInfo',['sum'])
  }
  ```

+ å¼€å¯å‘½åç©ºé—´åç»„ä»¶è°ƒç”¨`Action`ä¸­`disatch`

  ```javascript
  //æ–¹æ³•1ï¼šå¸¸è§„æ–¹æ³•
  this.$store.dispatch('å‘½åç©ºé—´çš„å€¼/actionsæ–¹æ³•å',å‚æ•°)
  //ä¾‹ this.$store.dispatch('CountInfo/addOdd',number)
  //æ–¹æ³•2; mapXXXæ˜ å°„
  import {mapActions} from 'vuex'
  methods:{
      //ç¼ºç‚¹ï¼šå¿…é¡»åœ¨domæ ‡ç­¾ä¸­è°ƒç”¨æ—¶æ¥ä¼ å‚
      ...mapActions('å‘½åç©ºé—´çš„å€¼',{methodså‡½æ•°åå­—:actionsä¸­æ–¹æ³•})
      //ä¾‹ ...mapActions('CountInfo',['addOdd'])
  }
  ```

+ å¼€å¯å‘½åç©ºé—´åç»„ä»¶è°ƒç”¨`Mutations`ä¸­`commit`

  ```javascript
  //æ–¹æ³•1ï¼šå¸¸è§„æ–¹æ³•
  this.$store.commit('å‘½åç©ºé—´çš„å€¼/mutationsæ–¹æ³•',å‚æ•°)
  //ä¾‹ this.$store.commit('CountInfo/SUB',number)
  //æ–¹æ³•2; mapXXXæ˜ å°„
  import {mapMutations} from 'vuex'
  medthods:{
      //ç¼ºç‚¹ï¼šå¿…é¡»åœ¨domæ ‡ç­¾ä¸­è°ƒç”¨æ—¶æ¥ä¼ å‚
      ...mapMutations('å‘½åç©ºé—´çš„å€¼',{medthodså‡½æ•°åå­—:mutationsä¸­å‡½æ•°å})
      //ä¾‹ ...mapMutations('CountInfo',{sub:'SUB'})
  }
  ```

+ å¼€å¯å‘½åç©ºé—´åç»„ä»¶è¯»å–`getters`æ•°æ®

  ```javascript
  //æ–¹æ³•1ï¼šå¸¸è§„æ–¹æ³•
  this.$store.getters['å‘½åç©ºé—´çš„å€¼/gettersä¸­æ–¹æ³•']
  //ä¾‹ this.$store.getters['CountInfo/bigSum']
  //æ–¹æ³•2; mapXXXæ˜ å°„
  import {mapGetters} from 'vuex'
  computed:{
      ...mapGetters('å‘½åç©ºé—´çš„å€¼',{computedå˜é‡åå­—:gettersä¸­æ–¹æ³•})
      //ä¾‹ ...mapGetters('CountInfo',['bigSum'])
  }
  ```

+ vuexæ¨¡å—åŒ–å`$store`æ•°æ®ç»“æ„

![](./_media/image-20230921134916632.png)

# 7ã€Vue-router

å®˜ç½‘ï¼šhttps://router.vuejs.org/zh/introduction.html

## 7.1 ç®€ä»‹

`vue-router`æ˜¯vueçš„ä¸€ä¸ªæ’ä»¶åº“ï¼Œä¸“é—¨ç”¨äºå®ç°**SPAåº”ç”¨**

> ***SPAåº”ç”¨ï¼š***
>
> + SPAåº”ç”¨å³Single Page Web Applicationï¼Œå•é¡µWebåº”ç”¨
> + æ•´ä¸ªåº”ç”¨åªæœ‰**ä¸€ä¸ªå®Œæ•´çš„é¡µé¢**
> + ç‚¹å‡»é¡µé¢ä¸­çš„å¯¼èˆªè¿æ¥**ä¸ä¼šåˆ·æ–°é¡µé¢**ï¼Œåªä¼šåšé¡µé¢çš„**å±€éƒ¨æ›´æ–°**
> + æ•°æ®éœ€è¦é€šè¿‡ajaxè¯·æ±‚è·å–

## 7.2 è·¯ç”±

### 7.2.1 ä»€ä¹ˆæ˜¯è·¯ç”±

+ **è·¯ç”±å…¶å®å°±æ˜¯ä¸€ç»„æ˜ å°„å…³ç³»ï¼ˆkey-valueï¼‰**
+ **keyä¸ºè·¯å¾„ï¼Œvalueæ˜¯componentç»„ä»¶æˆ–è€…functionå‡½æ•°**

### 7.2.2 è·¯ç”±åˆ†ç±»

+ ***åç«¯è·¯ç”± -- valueä¸ºfunction***

  > å·¥ä½œè¿‡ç¨‹ï¼šæœåŠ¡å™¨æ”¶åˆ°ä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œæ ¹æ®**è¯·æ±‚è·¯å¾„**æ‰¾åˆ°åŒ¹é…çš„**å‡½æ•°**æ¥å¤„ç†è¯·æ±‚ï¼Œè¿”å›å“åº”æ•°æ®ã€‚

+ ***å‰ç«¯è·¯ç”± -- valueä¸ºcomponent***

  > å·¥ä½œè¿‡ç¨‹ï¼šå½“æµè§ˆå™¨çš„è·¯å¾„æ”¹å˜æ—¶ï¼Œå¯¹åº”çš„ç»„ä»¶å°±ä¼šæ›´æ–°æ˜¾ç¤º

## 7.3 è·¯ç”±çš„ä½¿ç”¨

### 7.3.1 å•çº§å‰ç«¯è·¯ç”±ä½¿ç”¨

+ `<router-link active-class='xxx' to='xxx'>`
+ `<router-view>`

#### 7.3.1.0 é¡¹ç›®ç»“æ„

```bash
D:.
â”‚  App.vue
â”‚  main.js
â”‚
â”œâ”€components
â”‚      About.vue
â”‚      Home.vue
â”‚
â””â”€route
        index.js
```

#### 7.3.1.1 å®‰è£…`vue-router`

```bash
# vue2ä½¿ç”¨vue-router 3ç‰ˆæœ¬
npm i vue-router@3
```

#### 7.3.1.2 åˆ›å»ºå¹¶æš´éœ²è·¯ç”±å™¨æ–‡ä»¶`route/index.js`

```javascript
import Vue from 'vue'
// å¼•å…¥æ’ä»¶
import vueRoute from 'vue-router'
// å¼•å…¥ç»„ä»¶ï¼Œç”¨äºå‰ç«¯è·¯ç”±è·³è½¬
import About from '../components/About.vue'
import Home from '../components/Home.vue'

// ä½¿ç”¨æ’ä»¶
Vue.use(vueRoute)

// åˆ›å»ºå¹¶æš´éœ²è‡ªå·±çš„è·¯ç”±å™¨
export default new vueRoute({
    // é…ç½®è·¯ç”±è§„åˆ™ ,å¿…é¡»æ˜¯æ•°ç»„
    routes:[
        // å¯ä»¥æœ‰å¤šç»„è·¯ç”±è§„åˆ™
        {
            path:'/about',
            component: About
        },
        {
            path:'/home',
            component:Home
        }
    ]
})
```

#### 7.3.1.3 å…¥å£æ–‡ä»¶`main.js`é…ç½®è·¯ç”±å™¨

```javascript
import Vue from 'vue'
import App from './App.vue'
// å¿…é¡»å¼•å…¥è‡ªå·±çš„è·¯ç”±å™¨
import router from './route/index.js'

new Vue({
    // hå…¶å®å°±æ˜¯createElement
    render:h=>h(App),
    //é…ç½®è‡ªå·±çš„è·¯ç”±å™¨
    router
}).$mount('#app')
```

#### 7.3.1.4 å¯¼èˆªåŒºï¼ˆçˆ¶ç»„ä»¶ï¼‰ä½¿ç”¨routeræ ‡ç­¾

```vue
<template>
  <div>
    <div class="row">
      <div class="col-xs-offset-2 col-xs-8">
        <div class="page-header"><h2>Vue Router Demo</h2></div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-2 col-xs-offset-2">
        <div class="list-group">
            <!-- åŸç”Ÿçš„å†™æ³• -->
          <!-- <a class="list-group-item" href="./about.html">About</a>
          <a class="list-group-item active" href="./home.html">Home</a> -->
            
          <!-- é™æ€è·¯ç”±å†™æ³•
            router-linkæœ¬è´¨å°±æ˜¯aæ ‡ç­¾
			   to="è·¯ç”±ä¸­é…ç½®çš„è·¯ç”±çš„path"
            active-classæ˜¯vueRouteä¸­router-linkç‰¹æœ‰çš„
             -->
          <router-link class="list-group-item" active-class="active" to="/about">About</router-link>
          <router-link class="list-group-item" active-class="active" to="/home">Home</router-link>
        </div>
      </div>
      <div class="col-xs-6">
        <div class="panel">
          <div class="panel-body">
                <!--å ä½ç¬¦ ç±»ä¼¼äºæ’æ§½ï¼Œç”¨äºæ˜¾ç¤ºç»„ä»¶  -->
                <router-view></router-view>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
    name:'App'
}
</script>
```

#### 7.3.1.5 æµ‹è¯•è¿è¡Œ

![](./_media/image-20230921155311460.png)

![](./_media/image-20230921155425725.png)

### 7.3.2 åç«¯è·¯ç”±ä½¿ç”¨(ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª)

**ç¼–ç¨‹å¼è·¯ç”±å¯¼èˆª**å€ŸåŠ©çš„æ˜¯vcèº«ä¸Šçš„`this.$router`çš„ç›¸å…³APIå®ç°ã€‚ä¸å€ŸåŠ©`<router-link>`æ ‡ç­¾å®ç°è·¯ç”±è·³è½¬ï¼Œè®©è·¯ç”±è·³è½¬æ›´åŠ çµæ´»ã€‚

#### 7.3.2.1 API

![](./_media/image-20230925095147749.png)

#### 7.3.2.2 ä½¿ç”¨

+ `this.$router.push({name,params{}})` ä½¿ç”¨`push`é£æ ¼çš„`<router-link>`ï¼ˆaæ ‡ç­¾ï¼‰

  > æ³¨æ„å¦‚æœè·¯ç”±å™¨é…ç½®äº†`props`é‚£ä¹ˆå°±ç”¨`params`ä¼ å‚ï¼Œæ‰€ä»¥è·¯å¾„å¿…é¡»è¦å¸¦`name`å¦åˆ™ä¼šæŠ¥é”™ã€‚

+ `this.$router.replace({name,params{}})` ä½¿ç”¨`replace`é£æ ¼çš„`<router-link>`ï¼ˆaæ ‡ç­¾ï¼‰

+ `this.$router.back()` å½“å‰é¡µé¢åé€€

+ `this.$router.forward()` å½“å‰é¡µé¢å‰è¿›

+ `this.$router.go(step)` å½“å‰é¡µé¢èµ°stepæ­¥ï¼ˆæ­£æ•°ä¸ºå‰è¿›ï¼Œè´Ÿæ•°ä¸ºåé€€ï¼‰

### 7.3.3 è·¯ç”±æ³¨æ„äº‹é¡¹

+ **è·¯ç”±ç»„ä»¶**ï¼ˆå³é€šè¿‡è·¯ç”±æ˜ å°„çš„ç»„ä»¶å¦‚`About.vue`å’Œ`Home.vue`ï¼‰é€šå¸¸æ”¾åœ¨`pages`ï¼ˆå’Œ`components`åŒçº§åˆ«ï¼‰ç›®å½•ä¸‹

+ **ä¸€èˆ¬ç»„ä»¶**ï¼ˆå°±æ˜¯ä¸é€šè¿‡è·¯ç”±æ˜ å°„çš„ç»„ä»¶ï¼‰é€šå¸¸æ”¾åœ¨`components`ç›®å½•ä¸‹ï¼ˆå’Œ`pages`åŒçº§åˆ«ï¼‰

+ é€šè¿‡åˆ‡æ¢ï¼Œâ€œéšè—â€çš„è·¯ç”±ç»„ä»¶é»˜è®¤æ˜¯è¢«é”€æ¯çš„ï¼Œéœ€è¦çš„æ—¶å€™å†å»æŒ‚è½½ã€‚ï¼ˆå¯ä»¥é€šè¿‡`beforeDestory()`å’Œ`mounted`å‡½æ•°éªŒè¯ï¼‰

+ æ¯ä¸ªç»„ä»¶éƒ½æœ‰è‡ªå·±çš„`$route`å±æ€§ï¼Œé‡Œé¢å­˜ç€çš„æ˜¯æ˜¯è‡ªå·±çš„è·¯ç”±ä¿¡æ¯ï¼ˆå³`About.vue`ä¸­çš„`$route`å’Œ`Home.vue`ä¸­çš„`$route`ä¸ä¸€æ ·ï¼‰

+ æ•´ä¸ªåº”ç”¨åªæœ‰ä¸€ä¸ª`$router`è·¯ç”±å™¨ï¼Œç»„ä»¶å¯ä»¥é€šè¿‡`this.$router`è·å–ï¼ˆå³`About.vue`ä¸­çš„`$route`rå’Œ`Home.vue`ä¸­çš„`$router`å®Œå…¨ä¸€æ ·ï¼Œç”¨äºå¤šçº§è·¯ç”±ï¼‰

  ![](./_media/image-20230921165520556.png)



## 7.4 åµŒå¥—ï¼ˆå¤šçº§ï¼‰è·¯ç”±

+ é…ç½®è·¯ç”±è§„åˆ™ï¼Œä½¿ç”¨`children`é…ç½®é¡¹

  ```javascript
  import Vue from 'vue'
  // å¼•å…¥æ’ä»¶
  import vueRoute from 'vue-router'
  // å¼•å…¥ç»„ä»¶ï¼Œç”¨äºè·¯ç”±è·³è½¬
  import About from '../pages/About.vue'
  import Home from '../pages/Home.vue'
  import News from '../pages/News.vue'
  import Message from '../pages/Message.vue'
  
  // ä½¿ç”¨æ’ä»¶
  Vue.use(vueRoute)
  
  // åˆ›å»ºå¹¶æš´éœ²è‡ªå·±çš„è·¯ç”±å™¨
  export default new vueRoute({
  
      // é…ç½®è·¯ç”±è§„åˆ™ ,å¿…é¡»æ˜¯æ•°ç»„ 
      routes:[
          // å¯ä»¥æœ‰å¤šç»„è·¯ç”±è§„åˆ™  è¿™ç§æ—¶æ™®é€šçš„å•çº§è·¯ç”±
          {
              path:'/about',
              component: About
          },
          {
              path:'/home',
              component:Home,
              // childrené…ç½®å¤šçº§è·¯ç”± æ•°ç»„
              children:[
                  {
                      // å­è·¯ç”±ä¸è¦ä»/å¼€å§‹ï¼Œ/ä»£è¡¨æ ¹
                      path:'news',
                      component:News
                  } 
                  ,
                  {
                      path:'message',
                      component:Message
                  }
              ]
          }
      ]
  })
  ```

+ è·³è½¬è¦å†™å®Œæ•´è·¯å¾„

  ```vue
  <template>
    <div>
      <h2>æˆ‘æ˜¯Homeçš„å†…å®¹</h2>
      <!-- è·¯ç”±åµŒå¥— å³å¤šçº§è·¯ç”± -->
      <ul class="nav nav-tabs">
        <li>
          <router-link class="list-group-item" active-class="active" to="/home/news">News</router-link >
        </li>
        <li>
            <!-- è·³è½¬è¦å†™å®Œæ•´è·¯å¾„ cä»æ ¹è·¯å¾„/ å¼€å§‹-->
          <router-link  class="list-group-item" active-class="active" to="/home/message">Message</router-link >
        </li>
      </ul>
      <router-view></router-view>
    </div>
  </template>
  ```

## 7.5 è·¯ç”±ä¼ å‚

### 7.5.1 è·¯ç”±å™¨`query`ä¼ å‚ï¼ˆæ­é…pathï¼‰

#### 7.5.1.1 åŸç†

çˆ¶ç»„ä»¶å€ŸåŠ©`<router-link>`çš„`to`å±æ€§æ¥æŒ‡å®šä¼ é€’çš„`query`å‚æ•°ï¼Œå­ç»„ä»¶å€ŸåŠ©vcä¸Š`this.$store.query`è·å–çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å‚æ•°

![](./_media/image-20230922140916751.png)

#### 7.5.1.2 ä½¿ç”¨æ–¹æ³•

+ è·¯ç”±å™¨æ–‡ä»¶`route\index.js`ä¸­é…ç½®å¥½è·¯ç”±è§„åˆ™

  ```javascript
  export default new vueRoute({
  
      // é…ç½®è·¯ç”±è§„åˆ™ ,å¿…é¡»æ˜¯æ•°ç»„ 
      routes:[
          {
              path:'/home',
              component:Home,
              // childrené…ç½®å¤šçº§è·¯ç”± æ•°ç»„
              children:[
                  {
                      path:'message',
                      component:Message,
                      // ç”¨ä¸‰çº§è·¯ç”±æ¼”ç¤º å‚æ•°queryä¼ é€’
                      children:[
                          {
                              path:'detail',
                              component:Detail,//ç»„ä»¶å
                          }
                      ]
                  }
              ]
          }
      ]
  })
  ```

+ çˆ¶ç»„ä»¶ä¸­å€ŸåŠ©`<router-link>`æ ‡ç­¾çš„`to`å±æ€§ï¼Œä¼ é€’queryå‚æ•°

  **è®°ä½`to`ä¸€å®šè¦åŠ å†’å· :s**

  ```vue
  <template>
      <div>
          <ul>
              <li v-for="message in messages" :key='message.id'>
                  <!-- queryä¼ å‚ ç®€å•å†™æ³• -->
                  <!-- <router-link :to="'/home/message/detail?id='+message.id+'&title='+message.title" >{{message.title}}</router-link > -->
                  
                  <!-- queryä¼ å‚ å¯¹è±¡å†™æ³• -->
                  <router-link 
                      :to="{
                          path:'/home/message/detail',
                          query:{
                              id:message.id,
                              title:message.ti
                          }
                      }" >
                      {{message.title}}
                  </router-link >
  
              </li>
          </ul>
          <router-view></router-view>
      </div>
  </template>
  
  <script>
  export default {
      name:'Message',
      data(){
          return {
              messages:[
                  {id:'001',title:"message001"},
                  {id:'002',title:"message002"},
                  {id:'003',title:"message003"}
              ]
          }
      }
  }
  </script>
  ```

  > æ³¨æ„ï¼š
  >
  > + è¿™é‡Œçš„queryå…¶å®å°±æ˜¯åœ°å€æ ä¸­?åé¢
  > + æœ‰ä¸¤ç§ä¼ å‚æ–¹å¼ï¼Œæ¨èç¬¬äºŒç§**æ•°ç»„å†™æ³•**

+ å­ç»„ä»¶å€ŸåŠ©`this.$route.query`è·å–ä¼ å‚


  ```vue
  <template>
      <ul>
          <li>æ¶ˆæ¯ç¼–å·ï¼š{{this.$route.query.id}}</li>
          <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{this.$route.query.title}}</li>
      </ul>
  </template>
  11
  <script>
  export default {
      name:'Detail',
      mounted(){
          console.log(this.$route);
      }
  }
  </script>
  ```

  > + å¼€å¯è·¯ç”±åŠŸèƒ½åæ¯ä¸ªç»„ä»¶å®ä¾‹vcèº«ä¸Šéƒ½ä¼šæœ‰ä¸€ä¸ªã€å”¯ä¸€çš„å’Œè‡ªå·±ç´§å¯†ç›¸å…³`$route`
  > + `$router`æ˜¯å…¨å±€è·¯ç”±å™¨æ¯ä¸ªvcéƒ½æœ‰ä¸€ä¸ªï¼Œä»–ä»¬å®Œå…¨ä¸€æ ·

+ æµ‹è¯•

  ![](./_media/image-20230922142357516.png)

### 7.5.2 è·¯ç”±å™¨paramsä¼ å‚(æ­é…name)

#### 7.5.2.1 åŸç†

é€šè¿‡åœ¨è·¯ç”±è§„åˆ™`path`ä¸­æ·»åŠ å ä½ç¬¦ï¼Œæ¨¡ä»¿restfulé£æ ¼ä¼ å‚

![](./_media/image-20230922150456428.png)

#### 7.5.2.2 ä½¿ç”¨æ–¹æ³•

+ è·¯ç”±å™¨æ–‡ä»¶`route\index.js`ä¸­é…ç½®å¥½è·¯ç”±è§„åˆ™ï¼Œ**è®¾ç½®å ä½ç¬¦**

  ```javascript
  export default new vueRoute({
      routes:[
          {
              path:'/home',
              component:Home,
              children:[
                  {
                      path:'message',
                      component:Message,
                      // ç”¨ä¸‰çº§è·¯ç”±æ¼”ç¤º å‚æ•°paramsä¼ é€’
                      children:[
                          {   
                              name:'detailName',
                              path:'detail/:id/:title', //è¿™é‡Œç”¨ä»€ä¹ˆåå­—å ä½ï¼Œå®é™…å‚æ•°åå°±æ˜¯è¿™ä¸ª
                              component:Detail,
                          }
                      ]
                  }
              ]
          }
      ]
  })
  ```

+ çˆ¶ç»„ä»¶ä¸­å€ŸåŠ©`<router-link>`æ ‡ç­¾çš„`to`å±æ€§ï¼Œä¼ é€’paramså‚æ•°

  ```vue
  <template>
      <div>
          <ul>
              <li v-for="message in messages" :key='message.id'>
                      <!-- paramsä¼ å‚1  æ¨¡ç‰ˆå†™æ³• -->
                  <!-- <router-link :to="`/home/message/detail/${message.id}/${message.title}`" >{{message.title}}</router-link > -->
                      <!-- paramsä¼ å‚2  å¿…é¡»å’Œnameæ­é… ä¸èƒ½å’Œpathå¦åˆ™ä¼šå‡ºé”™ï¼Œä¹Ÿæ²¡æœ‰æç¤º -->
                      <router-link 
                      :to="{
                          name:'detailName',
                          params:{
                              id:message.id,
                              title:message.title
                          }
                      }" >
                  
                      {{message.title}}
                  </router-link >
  
              </li>
          </ul>
          <!--ç”¨æ¥æ˜¾ç¤ºè·¯ç”±ç»„ä»¶ -->
          <router-view></router-view>
      </div>
  </template>
  ```

  > `:to`ä½¿ç”¨å¯¹è±¡å†™æ³•ï¼Œåˆ™`params`ä¼ å‚å¿…é¡»å’Œ`name`æ­é…ï¼Œä¸èƒ½å’Œ`path`æ­é…ï¼Œå¦åˆ™ä¼šå‡ºç°é”™è¯¯ä¹Ÿä¸ä¼šæŠ¥é”™ï¼ˆæ˜¾ç¤ºç©ºç™½ï¼‰

+ å­ç»„ä»¶å€ŸåŠ©`this.$route.params`è·å–ä¼ å‚

  ```vue
  <template>
      <ul>
          <!-- <li>æ¶ˆæ¯ç¼–å·ï¼š{{this.$route.query.id}}</li>
          <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{this.$route.query.title}}</li> -->
          <li>æ¶ˆæ¯ç¼–å·ï¼š{{this.$route.params.id}}</li>
          <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{this.$route.params.title}}</li>
      </ul>
  </template>
  ```

  

## 7.6 å‘½åè·¯ç”±

### 7.6.1 ä½œç”¨

ç”¨äºç»™è·¯ç”±èµ·åå­—ï¼Œç®€åŒ–è·¯ç”±è·³è½¬çš„è·¯å¾„

### 7.6.2 ä½¿ç”¨

ä»¥**7.4çš„åµŒå¥—è·¯ç”±**ä¸ºä¾‹å­

+ è·¯ç”±å™¨æ–‡ä»¶`route/index.js`å®šä¹‰`name`å±æ€§

  æ¯ä¸€ä¸ªè·¯ç”±è§„åˆ™éƒ½å¯ä»¥å®šä¹‰ä¸€ä¸ª`name`ï¼Œç¡®ä¿å…¶å”¯ä¸€

  ```javascript
  export default new vueRoute({
      routes:[
          {
              path:'/home',
              component:Home,
              children:[
                  {
                      path:'message',
                      component:Message,
                      children:[
                          {
                              name:'detailName'//é¿å…æ··æ·†
                              path:'detail',
                              component:Detail,//ç»„ä»¶å
                          }
                      ]
                  }
              ]
          }
      ]
  })
  ```

+ ä½¿ç”¨è·¯ç”±çš„`name`

  ```html
  <!-- è·¯ç”±è·¯å¾„ ç®€åŒ–å†™æ³• ç”¨nameä»£æ›¿path -->
  <router-link 
      :to="{
          name:'detailName',
          query:{
              id:message.id,
              title:message.title
      }
      }" >
  ```

  > ä½¿ç”¨è·¯ç”±çš„`name`å±æ€§ï¼Œåˆ™å¿…é¡»ä½¿ç”¨`:to`ä¸”æ˜¯å¯¹è±¡å†™æ³•
  >
  > `<router-link :to='{name:'xxxxx'}'>`

## 7.7 è·¯ç”±çš„propså±æ€§

ä½œç”¨ï¼šä¸ºäº†è®©è·¯ç”±ç»„ä»¶æ›´æ–¹ä¾¿çš„æ”¶åˆ°`params`å‚æ•°ï¼Œ**å¦‚æœä½¿ç”¨äº†propsåˆ™æ—¢ä¸éœ€è¦åœ¨`path`ä¸­ä½¿ç”¨å‚æ•°å ä½ç¬¦äº†**

***å†™æ³•ï¼š***

+ ç¬¬ä¸€ç§å†™æ³•ï¼Œå€¼ä¸ºä¸€ä¸ª**å¯¹è±¡**ï¼Œè¯¥å¯¹è±¡ä¸­æ‰€æœ‰çš„key-valueçš„ç»„åˆæœ€ç»ˆéƒ½ä¼šé€šè¿‡`props`å±æ€§ï¼Œä¼ é€’ç»™å­ç»„ä»¶Detail

  ```javascript
  children:[
      {   
      name:'detailName',
      path:'detail/:id/:title', //è¿™é‡Œç”¨ä»€ä¹ˆåå­—å ä½ï¼Œå®é™…å‚æ•°åå°±æ˜¯è¿™ä¸ª
      component:Detail,
      // propsç¬¬ä¸€ç§å†™æ³•
      props:{id:11111,title:"zhegeæ˜¯æ ‡é¢˜"}
      }
  ]
  ```

  > ç¼ºç‚¹ï¼škey-valueå€¼å›ºå®šäº†

+ ç¬¬äºŒç§å†™æ³•ï¼Œå€¼ä¸ºä¸€ä¸ª**å¸ƒå°”å€¼**ï¼Œå¸ƒå°”å€¼ä¸º`true`ï¼Œè¡¨ç¤ºè·¯ç”±ä¼šæŠŠæ”¶åˆ°çš„æ‰€æœ‰`params`å‚æ•°é€šè¿‡`props`ä¼ é€’ç»™Detailç»„ä»¶

  ```javascript
  children:[
      {   
          name:'detailName',
          path:'detail/:id/:title', //è¿™é‡Œç”¨ä»€ä¹ˆåå­—å ä½ï¼Œå®é™…å‚æ•°åå°±æ˜¯è¿™ä¸ª
          component:Detail,
          // ç¬¬ä¸€ç§å†™æ³•
          // props:{id:11111,title:"zhegeæ˜¯æ ‡é¢˜"},
          // ç¬¬äºŒç§å†™æ³•  å¸ƒå°”å€¼
          props:true
      }
  ]
  ```

  > ç¼ºç‚¹ï¼šåªèƒ½æ­é…è·¯ç”±çš„`params`ä½¿ç”¨ï¼Œ`query`æ— æ•ˆ

+ ç¬¬ä¸‰ç§å†™æ³•ï¼Œå€¼ä¸ºä¸€ä¸ª**å‡½æ•°**ï¼Œæœ‰ä¸€ä¸ªå½¢å‚ä¸º`$route`ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡é‡Œé¢çš„æ¯ä¸€ç»„key-valueéƒ½ä¼šé€šè¿‡`props`å±æ€§ä¼ é€’ç»™å­ç»„ä»¶Detail

  ```javascript
  children:[
      {   
          name:'detailName',
          path:'detail/:id/:title', //è¿™é‡Œç”¨ä»€ä¹ˆåå­—å ä½ï¼Œå®é™…å‚æ•°åå°±æ˜¯è¿™ä¸ª
          component:Detail,
          // ç¬¬ä¸€ç§å†™æ³•
          // props:{id:11111,title:"zhegeæ˜¯æ ‡é¢˜"},
          // ç¬¬äºŒç§å†™æ³•  å¸ƒå°”å€¼
          //props:true,
          // ç¬¬ä¸‰ç§å†™æ³• å‡½æ•°
          props($route){
              return {
                  id:$route.query.id,
                  title:$route.query.title
              }
          }
      }
  ]
  ```

  > é€šè¿‡å‡½æ•°`$route`å¯ä»¥è·å–å½“å‰è·¯ç”±çš„æ‰€æœ‰å±æ€§å¦‚`query`,`params`ç­‰ï¼Œä½†æ˜¯å¤šå°‘æœ‰ç‚¹è„±è£¤å­æ”¾å±

***å­ç»„ä»¶Detailè°ƒç”¨ï¼š***

```vue
//Detail.vue
<template>
    <ul>
        <li>æ¶ˆæ¯ç¼–å·ï¼š{{id}}</li>
        <li>æ¶ˆæ¯æ ‡é¢˜ï¼š{{title}}</li>
    </ul>
</template>

<script>
export default {
    name:'Detail',
    //å­ç»„ä»¶é€šè¿‡propså±æ€§æ¥æ”¶
    props:['id','title']
}
</script>
```

## 7.8 `router-link`çš„replace

### 7.8.1 æµè§ˆå™¨å†å²è®°å½•çš„ä¸¤ç§æ¨¡å¼

+ é»˜è®¤æƒ…å†µä¸‹`<router-link>`æ ‡ç­¾ä¼šåœ¨æµè§ˆå™¨ä¸­ç•™ä¸‹å†å²ç—•è¿¹ï¼Œå±äºæ ˆçš„`push`æ“ä½œã€‚ç‰¹ç‚¹å°±æ˜¯å¯ä»¥ä½¿ç”¨å‰è¿›â†’ï¼Œåé€€â†æŒ‰é’®

  ![](./_media/image-20230922162520678.png' style="zoom:33%;" >

+ `<router-link>`æ ‡ç­¾è¿˜æœ‰ä¸€ç§`replace`æ¨¡å¼ï¼Œè¯¥æ¨¡å¼ä¸‹ä¸ä¼šç•™ä¸‹å†å²ç—•è¿¹ï¼Œå³æ ˆå†…æ§ä»¶åªèƒ½å­˜æ”¾ä¸€ä¸ªå½“å‰é¡µé¢

  ![](./_media/image-20230922162756887.png' style="zoom:33%;" >

### 7.8.2 `router-link`çš„replace

`replace`æ›¿æ¢æµè§ˆå™¨çš„å†å²ï¼Œåªä¿å­˜å½“å‰çš„ã€‚æœ‰ä»¥ä¸‹ä¸¤ç§å†™æ³•ï¼š

```html
<router-link  replace class="list-group-item" active-class="active" to="/about">About</router-link>
<router-link  :replace="true" class="list-group-item" active-class="active" to="/home">Home</router-link> 
```



## 7.9 ç¼“å­˜è·¯ç”±ç»„ä»¶

ä½œç”¨ï¼šä¸ºäº†è®©ä¸å±•ç¤ºçš„è·¯ç”±ä¿å­˜æŒ‚è½½çŠ¶æ€ï¼Œä¸è¢«é”€æ¯ã€‚`<keep-alive>`

***ä½¿ç”¨ï¼š***

```html
<!-- ä¿è¯ç»„ä»¶ä¸€ç›´æ˜¯æŒ‚è½½çŠ¶æ€ï¼Œå³è¢«ç¼“å­˜èµ·æ¥
       + ä¸åŠ includeé»˜è®¤æ˜¯æ‰€æœ‰ç»„ä»¶ï¼ˆNews+messageï¼‰
       + åŠ äº†includeåˆ™åªç¼“å­˜æŒ‡å®šç»„ä»¶
       + includeä¸­æ˜¯ç»„ä»¶çš„åå­—ï¼ˆNews.vueä¸­nameå±æ€§ï¼‰
       + å¤šä¸ªç»„ä»¶å†™æˆæ•°ç»„ :include="['News','Message']"
       -->
<keep-alive > //ä¸€èˆ¬éƒ½æ˜¯çˆ¶ç»„ä»¶ä¸­å†™è¿™ä¸ªæ ‡ç­¾
   <router-view></router-view>
 </keep-alive>
```

> ==includeé‡Œé¢æ˜¯ç»„ä»¶çš„nameå±æ€§==

## 7.10 è·¯ç”±ç‰¹æœ‰çš„å‘¨æœŸå‡½æ•°`activated`ä¸`deactivated`

è·¯ç”±ç»„ä»¶å…·æœ‰ä¸¤ä¸ªç‹¬æœ‰çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼ˆé’©å­ï¼‰ï¼Œç”¨äº**æ•è·è·¯ç”±ç»„ä»¶çš„æ¿€æ´»çŠ¶æ€**

+ `activated `è·¯ç”±ç»„ä»¶è¢«æ¿€æ´»æ—¶è§¦å‘
+ `deactivated `è·¯ç”±ç»„ä»¶å¤±æ´»æ—¶è§¦å‘
+ è¿™ä¸¤ä¸ªé’©å­å‡½æ•°å’Œ`methods,mounted()ç­‰åŒçº§åˆ«`

```javascript
   name:'News',
   data(){},
   methods:{},
	activated(){
        this.timer=setInterval(()=>{
            if(this.num>0){
                this.num -= 0.1
            }else {
                this.num =1
            }
            console.log('News ç»„ä»¶è¢«æ¿€æ´»äº†@');
        },100)
    },
    deactivated(){
        clearInterval(this.timer)
        console.log('News ç»„ä»¶å¤±æ´»æ´»äº†@');
    }
```

> ä¸€èˆ¬æ­é…`<keep-alive>`ä½¿ç”¨ï¼ŒèŠ‚çœèµ„æº

## 7.11 å…¨å±€å‰/åç½®è·¯ç”±å®ˆå«

ç”¨äºé‰´æƒï¼Œç±»ä¼¼äºè¿‡æ»¤å™¨

![](./_media/image-20230925140216178.png' style="zoom: 67%;" >

### 7.11.1 å…¨å±€å‰ç½®è·¯ç”±å®ˆå«

***è°ƒç”¨æ—¶æœºï¼š***

+ ==åˆå§‹åŒ–æ—¶ä¼šè¢«è°ƒç”¨==
+ ==æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹å‰ä¼šè¢«è°ƒç”¨ï¼ˆå¦‚æœæ²¡æ”¾è¡Œï¼Œåœ°å€æ åœ°å€éƒ½ä¸ä¼šå˜åŒ–ï¼‰==

**è·¯ç”±å™¨æ–‡ä»¶`route/index.js`ä¸­ä½¿ç”¨`beforeEach()`å‡½æ•°**ï¼Œæ³¨æ„ä½ç½®ï¼Œä¸æ˜¯åœ¨é…ç½®å±æ€§ä¸­ï¼

```javascript
const router=new vueRouter({...})
// åœ¨new routeråé¢
router.beforeEach((to,from,next)=>{
    console.log(to,from,next);
    //é‰´æƒå­—æ®µï¼Œçœ‹çœ‹é‚£ä¸ªéœ€è¦é‰´æƒ
    if(to.meta.isAuth) {
        if(localStorage.getItem('id')==='002') {
            next();
        } else{
            alert("é‰´æƒå¤±è´¥");
            return;
        }
    }
    // æ”¾è¡Œ
    next();
})

export default router
```



### 7.11.2 å…¨å±€åç½®è·¯ç”±å®ˆå«

***è°ƒç”¨æ—¶æœºï¼š***

+ ==åˆå§‹åŒ–æ—¶ä¼šè¢«è°ƒç”¨==
+ ==æ¯æ¬¡è·¯ç”±æˆåŠŸåˆ‡æ¢ä¹‹**å**ä¼šè¢«è°ƒç”¨ï¼ˆåˆ‡æ¢ä¹‹åï¼Œæ„å‘³ç€`beforeEach`é€šè¿‡äº†ï¼‰==

**è·¯ç”±å™¨æ–‡ä»¶`route/index.js`ä¸­ä½¿ç”¨`afterEach()`å‡½æ•°**ï¼Œæ³¨æ„ä½ç½®ï¼Œä¸æ˜¯åœ¨é…ç½®å±æ€§ä¸­ï¼

```javascript
const router=new vueRouter({...})
// åœ¨new routeråé¢                     
// è°ƒç”¨æ—¶æœºï¼šåˆå§‹åŒ–ã€è·¯ç”±ç»„ä»¶æˆåŠŸåˆ‡æ¢ä¹‹å
router.afterEach((to,from)=>{
    document.title = to.meta.title ||'Index'
})

export default router
```

## 7.12 å•ç»„ä»¶ç‹¬äº«è·¯ç”±å®ˆå«

é¡¾åæ€ä¹‰ï¼Œç›¸å¯¹äºå…¨å±€çš„è·¯ç”±å®ˆå«ï¼Œ**ç‹¬äº«è·¯ç”±å®ˆå«æ˜¯é’ˆå¯¹æŸä¸€ä¸ªå•ç‹¬è·¯ç”±è®¾ç½®çš„**

==åœ¨`route/index.js`æ–‡ä»¶ä¸­çš„`routes`å±æ€§ä¸­é…ç½®çš„==

***è°ƒç”¨æ—¶æœºï¼š***

+ ==æ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹å‰ä¼šè¢«è°ƒç”¨ï¼ˆå¦‚æœæ²¡æ”¾è¡Œï¼Œåœ°å€æ åœ°å€éƒ½ä¸ä¼šå˜åŒ–ï¼‰==

```javascript
import vueRoute from 'vue-router'
const router=new vueRoute({
    routes:[
        {
            path:'/home',
            component:Home,
            meta:{title:'Home'},
            children:[
                {
                    path:'news',
                    component:News,
                    meta:{
                        isAuth:true,
                        title:'News'
                    },
                    //ç‹¬äº«å‰ç½®è·¯ç”±å®ˆå«
                    beforeEnter(to,from,next){
                        if(to.meta.isAuth) {
                            if(localStorage.getItem('id')==='002') {
                                next();
                            } else{
                                alert("é‰´æƒå¤±è´¥");
                                return;
                            }
                        }
                        // æ”¾è¡Œ
                        next();
                    }
                }
            ]
        }
    ]
})
```

> ç‹¬äº«è·¯ç”±å®ˆå«åªæœ‰å‰ç½®ï¼Œæ²¡æœ‰åç½®ï¼ˆ**æ³¨æ„ä»–å’Œå…¨å±€è·¯ç”±å®ˆå«å®šä¹‰çš„ä½ç½®åŒºåˆ«**ï¼‰

## 7.13 ç»„ä»¶å†…è·¯ç”±å®ˆå«

è·¯ç”±å®ˆå«ï¼ˆé’©å­å‡½æ•°ï¼‰å®šä¹‰åœ¨ç»„ä»¶å†…ï¼Œè€Œä¸æ˜¯è·¯ç”±å™¨æ–‡ä»¶`route/index.js`å†…ã€‚

***è°ƒç”¨æ—¶æœºï¼š***

+ ==`beforeRouteEnter(to,from,next)`**é€šè¿‡è·¯ç”±è§„åˆ™è¿›å…¥**ç»„ä»¶æ—¶ä¼šè¢«è°ƒç”¨==ï¼ˆç›´æ¥ç”¨ç»„ä»¶ä¸ä¼šè§¦å‘ï¼‰
+ ==`beforeRouteLeave(to,from,next)`**é€šè¿‡è·¯ç”±è§„åˆ™ç¦»å¼€**ç»„ä»¶æ—¶ä¼šè¢«è°ƒç”¨==ï¼ˆç›´æ¥ç”¨ç»„ä»¶ä¸ä¼šè§¦å‘ï¼‰

```vue
<template>
  <h2>æˆ‘æ˜¯Aboutçš„å†…å®¹</h2>
</template>
<script>
export default {
    name:'About'
    // ç»„ä»¶å†…ç½®è·¯ç”± è°ƒç”¨æ—¶æœºï¼šè¿›å…¥ç»„ä»¶å‰
    beforeRouteEnter(to,from,next){
      console.log(to,from);
      if(confirm("ç¡®å®šè¦è¿›å…¥Aboutç»„ä»¶ï¼Ÿ")) {
        next();
      }
    },
    //è°ƒç”¨æ—¶æœºï¼šç¦»å¼€ç»„ä»¶å‰
    beforeRouteLeave(to,from,next){
      console.log(to,from);
      if(confirm("ç¡®å®šè¦ç¦»å¼€Aboutç»„ä»¶ï¼Ÿ")) {
        next();
      }
    }
}
</script>
```

> - æ³¨æ„å’Œ**å…¨å±€å‰/åç½®è·¯ç”±å®ˆå«**çš„**è°ƒç”¨æ—¶æœºåŒºåˆ†**ã€‚
> - æ³¨æ„å’Œ**å•ç»„ä»¶ç‹¬äº«è·¯ç”±å®ˆå«**çš„**å®šä¹‰ä½ç½®åŒºåˆ†**
> - ç±»ä¼¼äº`activated,deactivated`çš„æ•ˆæœ
> - **éœ€è¦é€šè¿‡è·¯ç”±è§„åˆ™è¿›å…¥/ç¦»å¼€æ‰ä¼šè§¦å‘**
> - `<About />`è¿™æ ·ç›´æ¥ä½¿ç”¨ä¸ä¼šè§¦å‘

## 7.14 è·¯ç”±å™¨`hash`å’Œ`history`

### 7.14.1 å¼•å…¥

`http://localhost:8080/#/home/message/detail?id=001&title=message001`åœ¨vueè·¯ç”±ä¸­`#`ä»£è¡¨hashï¼Œ`#/xx`ä¸€ç›´åˆ°åé¢çš„è·¯å¾„éƒ½æˆä¸ºhashå€¼ï¼ˆéåç«¯çš„hashåŠ å¯†ï¼‰ï¼Œåœ¨å‘é€httpè¯·æ±‚æ—¶`#`åé¢çš„éƒ½ä¸ä¼šå‘é€ç»™æœåŠ¡å™¨ã€‚å³

+ `http://localhost:8080`
+ `http://localhost:8080/#/home/message/detail?id=001&title=message001`

åç«¯æ”¶åˆ°çš„è¯·æ±‚æ¥è‡ªéƒ½æ˜¯ `http://localhost:8080/`ï¼ˆæ˜¯request.hostçš„å€¼ï¼‰

### 7.14.2 `hash`å’Œ`history`

+ å¯¹äºä¸€ä¸ªurlæ¥è¯´ï¼Œä»€ä¹ˆæ˜¯hashå€¼ï¼Ÿ--`#`åŠå…¶åé¢çš„å†…å®¹å°±æ˜¯hashå€¼

+ hashå€¼ä¸ä¼šåŒ…å«åœ¨HTTPè¯·æ±‚ä¸­ï¼Œå³ï¼š**è¯·æ±‚ä¸­hashå€¼ä¸ä¼šå¸¦ç»™æœåŠ¡å™¨**

+ ==***hashæ¨¡å¼***==

  1. åœ°å€ä¸­æ°¸è¿œå¸¦ç€`#`å·ï¼Œä¸ç¾è§‚
  2. è‹¥ä»¥åå°†åœ°å€é€šè¿‡ç¬¬ä¸‰æ–¹æ‰‹æœºappåˆ†äº«ï¼Œè‹¥appæ ¡éªŒä¸¥æ ¼ï¼Œåˆ™åœ°å€ä¼šè¢«æ ‡è®°ä¸ºä¸åˆæ³•
  3. å…¼å®¹æ€§å¥½ï¼ˆåˆ·æ–°ä¸ä¼š404ï¼‰

+ ==***historyæ¨¡å¼***==

  1. åœ°å€å¹²å‡€ï¼Œç¾è§‚
  2. å…¼å®¹æ€§å’Œhashæ¨¡å¼æ¯”ç•¥å·®ï¼ˆæœ‰äº›ç‚¹å‡ºæ¥çš„è·¯å¾„å¦‚å‰ç«¯è·¯ç”±çš„ï¼Œä¼š404ï¼‰
  3. åº”ç”¨éƒ¨ç½²ä¸Šçº¿æ—¶éœ€è¦åç«¯äººå‘˜æ”¯æŒï¼Œè§£å†³åˆ·æ–°é¡µé¢æœåŠ¡ç«¯404é—®é¢˜

+ vueä¸­é»˜è®¤ä½¿ç”¨`hash`æ¨¡å¼

+ è·¯ç”±å™¨æ–‡ä»¶`route/index,js`ä¸­æ›´æ”¹ä¸º`history`æ¨¡å¼

  ```javascript
  import vueRouter from 'vue-router'
  ...
  const router=new vueRouter({
      mode:'history'//ä¸å†™é»˜è®¤ä¸ºhashæ¨¡å¼
  })
  ```

+ è§£å†³`history`æ¨¡å¼ä¸‹åˆ·æ–°è¯·æ±‚404

  - åç«¯æ˜ å°„ï¼Œæ­£åˆ™åŒ¹é…ï¼Œç¬¬ä¸‰æ–¹åº“
  - nginx
  - å‰ç«¯æœåŠ¡å™¨å¦‚`node`+`express`ä¸­ä½¿ç”¨åº“[`connect-history-api-fallback`](https://www.npmjs.com/package/connect-history-api-fallback)

# 9 vueé¡¹ç›®æ‰“åŒ…

**æ‰“åŒ…åçš„é¡¹ç›®éœ€è¦å®¹å™¨å¯åŠ¨æ‰èƒ½æŸ¥çœ‹ï¼Œç›´æ¥æ‰“å¼€`index.html`ä¸æ˜¾ç¤ºçš„ï¼ˆä¹Ÿå¯ä»¥æ‰‹åŠ¨æ”¹jså¼•å…¥è·¯å¾„ï¼‰**

```bash
# è¿è¡Œåä¼šæŠŠå½“å‰vueé¡¹ç›®ä¸‹srcç›®å½•ä¸‹æ–‡ä»¶æ‰“åŒ…æˆé™æ€èµ„æºæ”¾åœ¨distç›®å½•ä¸‹
npm run build
```

# 10ã€Vue UIç»„ä»¶åº“

## 10.1 ç»„ä»¶åº“

### 10.1.1 ç§»åŠ¨ç«¯ç»„ä»¶åº“

å‚è€ƒ

+ Vant https://youzan.github.io/vant
+ Cube UI https://didi.github.io/cube-ui
+ Mint UI http://mint-ui.github.io

### 10.1.2 PCç«¯ç»„ä»¶åº“

å‚è€ƒ

+ Element UI https://element.eleme.cn
+ IView UI https://www.iviewui.com

## 10.2 ElementUIç®€å•ä½¿ç”¨

åœ°å€ï¼šhttps://element.eleme.cn/#/zh-CN/component/installation

### 10.2.1 å®Œæ•´å¼•å…¥

+ å®‰è£…ElementUI

  ```bash
  npm i element-ui
  ```

+ å…¥å£æ–‡ä»¶`main.js`å¼•å…¥è¯¥æ’ä»¶

  ```javascript
  import Vue from 'vue'
  import App from './App.vue'
  // å¼•å…¥å…¨éƒ¨çš„elementuiåº“
  import ElementUI from 'element-ui';
  import 'element-ui/lib/theme-chalk/index.css';
  
  // ä½¿ç”¨ElementUIæ’ä»¶åº“
  Vue.use(ElementUI);
  
  Vue.config.productionTip = false
  new Vue({
      // hå…¶å®å°±æ˜¯createElement
      render:h=>h(App)
  }).$mount('#app')
  ```

+ `App.vue`ç»„ä»¶ä¸­ä½¿ç”¨ElementUI

  ```vue
  <template>
  <div>
    åŸç”ŸæŒ‰é’®ï¼š<button></button> <br>
    <el-row>
      <el-button>é»˜è®¤æŒ‰é’®</el-button>
      <el-button type="primary">ä¸»è¦æŒ‰é’®</el-button>
      <el-button type="success">æˆåŠŸæŒ‰é’®</el-button>
      <el-button type="info">ä¿¡æ¯æŒ‰é’®</el-button>
      <el-button type="warning">è­¦å‘ŠæŒ‰é’®</el-button>
      <el-button type="danger">å±é™©æŒ‰é’®</el-button>
    </el-row>
    <el-row>
      <el-button icon="el-icon-search" circle></el-button>
      <el-button type="primary" icon="el-icon-edit" circle></el-button>
      <el-button type="success" icon="el-icon-check" circle></el-button>
      <el-button type="info" icon="el-icon-message" circle></el-button>
      <el-button type="warning" icon="el-icon-star-off" circle></el-button>
      <el-button type="danger" icon="el-icon-delete" circle></el-button>
    </el-row>
  </div>
  </template>
  
  <script>
  export default {
      name:'App'
  }
  </script>
  ```

+ è¿è¡Œæµ‹è¯•

  ![](./_media/image-20230927110817347.png)

### 10.2.2 æŒ‰éœ€å¼•å…¥

+ å®‰è£…ElementUI

+ ä¿®æ”¹`babel`é…ç½®

  æ–‡æ¡£ï¼šhttps://element.eleme.cn/#/zh-CN/component/quickstart

  + å®‰è£…`babel-plugin-component`ç»„ä»¶

    ```bash
    npm install babel-plugin-component -D
    ```

  + ä¿®æ”¹` .babelrc `ï¼ˆåœ¨vueä¸­å°±æ˜¯`babel.config.js`ï¼Œè¿½åŠ è€Œä¸æ˜¯è¦†ç›–ï¼‰

    ```javascript
    module.exports = {
      presets: [
        '@vue/cli-plugin-babel/preset',
        ["es2015", { "modules": false }]
      ],
      "plugins": [
        [
          "component",
          {
            "libraryName": "element-ui",
            "styleLibraryName": "theme-chalk"
          }
        ]
      ]
    }
    ```

+ å…¥å£æ–‡ä»¶`main.js`å¼•å…¥éœ€è¦çš„æ’ä»¶

  ```javascript
  import Vue from 'vue'
  import App from './App.vue'
  // å¼•å…¥éœ€è¦çš„elementuiåº“(ç”¨åˆ°ä»€ä¹ˆæ ‡ç­¾å°±å»æ‰elç„¶åé¦–å­—æ¯å¤§å†™)
  import {Button,Row} from 'element-ui'
  //æ ·å¼å°±ä¸è®¸å•ç‹¬å¼•å…¥äº†ï¼Œä¼šè‡ªåŠ¨æŒ‰éœ€å¼•å…¥
  
  
  // ä½¿ç”¨éœ€è¦çš„æ’ä»¶åº“ï¼Œæ³¨å†Œä¸ºå…¨å±€ç»„ä»¶,
  //ç¬¬ä¸€ä¸ªä¸ºç»„ä»¶åï¼Œé»˜è®¤æ˜¯<el-button>å½“ç„¶ä½ å¯ä»¥è‡ªå®šä¹‰ï¼Œé‚£ä¹ˆä½¿ç”¨æ—¶å°±éœ€è¦ä¿æŒä¸€è‡´
  Vue.component(Button.name,Button)
  Vue.component('ly-row',Row)
  
  
  Vue.config.productionTip = false
  new Vue({
      // hå…¶å®å°±æ˜¯createElement
      render:h=>h(App)
  }).$mount('#app')
  ```

+ `App.vue`ç»„ä»¶ä¸­ä½¿ç”¨

  ```vue
  <template>
  <div>
    åŸç”ŸæŒ‰é’®ï¼š<button>ä½ å¥½</button> <br>
    <!-- æ³¨å†Œä»€ä¹ˆç»„ä»¶ç”¨ä»€ä¹ˆåå­—ï¼Œå°±ç”¨ä»€ä¹ˆ -->
    <ly-row>
      <el-button>é»˜è®¤æŒ‰é’®</el-button>
      <el-button type="primary">ä¸»è¦æŒ‰é’®</el-button>
      <el-button type="success">æˆåŠŸæŒ‰é’®</el-button>
      <el-button type="info">ä¿¡æ¯æŒ‰é’®</el-button>
      <el-button type="warning">è­¦å‘ŠæŒ‰é’®</el-button>
      <el-button type="danger">å±é™©æŒ‰é’®</el-button>
    </ly-row>
    <ly-row>
      <el-button icon="el-icon-search" circle></el-button>
      <el-button type="primary" icon="el-icon-edit" circle></el-button>
      <el-button type="success" icon="el-icon-check" circle></el-button>
      <el-button type="info" icon="el-icon-message" circle></el-button>
      <el-button type="warning" icon="el-icon-star-off" circle></el-button>
      <el-button type="danger" icon="el-icon-delete" circle></el-button>
    </ly-row>
  </div>
  </template>
  
  <script>
  export default {
      name:'App'
  }
  </script>
  ```

+ å°è¯•å¯åŠ¨ï¼ŒæŠ¥é”™`Error: Cannot find module 'babel-preset-es2015'`ï¼Œé‡æ–°ä¿®æ”¹`babel-config.js`æ–‡ä»¶

  å‚è€ƒè¿æ¥ï¼š[element-uiæŒ‰éœ€å¼•å…¥æŠ¥é”™ Error: Cannot find module â€˜babel-preset-es2015â€˜_elementæŒ‰éœ€å¼•å…¥cannot find module '@element-plus/icons-CSDNåšå®¢](https://blog.csdn.net/zy21131437/article/details/108029284)

  ```javascript
  module.exports = {
    presets: [
      '@vue/cli-plugin-babel/preset',
      // ["es2015", { "modules": false }],
      ["@babel/preset-env", { "modules": false }]//æ›¿æ¢ä¸Šé¢çš„
    ],
    "plugins": [
      [
        "component",
        {
          "libraryName": "element-ui",
          "styleLibraryName": "theme-chalk"
        }
      ]
    ]
  }
  ```

+ æµ‹è¯•è¿è¡Œ

  ![](./_media/image-20230927112824488.png)

### 10.2.3 æ¯”è¾ƒ

**å®Œæ•´å¼•å…¥**ä¼šå¼•å…¥elementUIçš„æ‰€æœ‰ç»„ä»¶ï¼Œå¯¼è‡´jsæ–‡ä»¶è¿‡å¤§ï¼Œå½±å“æ•ˆç‡ã€‚è€Œ**æŒ‰éœ€å¼•å…¥**å¯ä»¥é¿å…è¿™ä¸ªé—®é¢˜ã€‚
